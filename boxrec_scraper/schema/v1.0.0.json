{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.0.0",
  "title": "BoxRec Boxer Data Schema",
  "description": "Schema for boxer data extracted from BoxRec",
  "type": "object",
  "required": ["boxrec_id", "name", "record", "bouts"],
  "properties": {
    "boxrec_id": {
      "type": "string",
      "description": "Unique BoxRec identifier for the boxer"
    },
    "boxrec_url": {
      "type": "string",
      "format": "uri",
      "description": "Full URL to the boxer's BoxRec page"
    },
    "name": {
      "type": "string",
      "description": "Boxer's professional name"
    },
    "slug": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "URL-friendly version of the boxer's name"
    },
    "birth_name": {
      "type": ["string", "null"],
      "description": "Boxer's birth name if different from professional name"
    },
    "alias": {
      "type": ["string", "null"],
      "description": "Boxer's nickname or alias"
    },
    "birth_date": {
      "type": ["string", "null"],
      "format": "date",
      "description": "Boxer's birth date in YYYY-MM-DD format"
    },
    "birth_place": {
      "type": ["string", "null"],
      "description": "Boxer's place of birth"
    },
    "nationality": {
      "type": ["string", "null"],
      "description": "Boxer's nationality"
    },
    "stance": {
      "type": ["string", "null"],
      "enum": ["orthodox", "southpaw", "switch", null],
      "description": "Boxer's fighting stance"
    },
    "height": {
      "type": ["string", "null"],
      "description": "Boxer's height in feet/inches and cm"
    },
    "reach": {
      "type": ["string", "null"],
      "description": "Boxer's reach in inches and cm"
    },
    "record": {
      "type": "object",
      "required": ["wins", "losses", "draws", "kos", "total_fights"],
      "properties": {
        "wins": {
          "type": "integer",
          "minimum": 0
        },
        "losses": {
          "type": "integer",
          "minimum": 0
        },
        "draws": {
          "type": "integer",
          "minimum": 0
        },
        "kos": {
          "type": "integer",
          "minimum": 0
        },
        "total_fights": {
          "type": "integer",
          "minimum": 0
        }
      }
    },
    "division": {
      "type": ["string", "null"],
      "description": "Current weight division"
    },
    "rating": {
      "type": ["string", "null"],
      "description": "BoxRec rating"
    },
    "ranking": {
      "type": ["integer", "null"],
      "description": "Current world ranking"
    },
    "titles": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of current titles held"
    },
    "bouts_count": {
      "type": ["integer", "null"],
      "minimum": 0,
      "description": "Total number of professional bouts"
    },
    "rounds_count": {
      "type": ["integer", "null"],
      "minimum": 0,
      "description": "Total number of rounds fought"
    },
    "ko_percentage": {
      "type": ["string", "null"],
      "pattern": "^\\d+(\\.\\d+)?%$",
      "description": "Knockout percentage"
    },
    "residence": {
      "type": ["string", "null"],
      "description": "Current place of residence"
    },
    "status": {
      "type": ["string", "null"],
      "enum": ["active", "inactive", null],
      "description": "Current professional status"
    },
    "career": {
      "type": ["string", "null"],
      "pattern": "^\\d{4}-\\d{4}$|^\\d{4}-$",
      "description": "Career span (e.g., '2010-2024' or '2010-')"
    },
    "debut": {
      "type": ["string", "null"],
      "format": "date",
      "description": "Professional debut date"
    },
    "sex": {
      "type": ["string", "null"],
      "enum": ["male", "female", null]
    },
    "age": {
      "type": ["integer", "null"],
      "minimum": 0,
      "description": "Current age (calculated from birth_date)"
    },
    "company": {
      "type": ["string", "null"],
      "description": "Boxing company/organization"
    },
    "promoter": {
      "type": ["string", "null"],
      "description": "Current promoter"
    },
    "manager_agent": {
      "type": ["string", "null"],
      "description": "Current manager or agent"
    },
    "wiki": {
      "type": ["string", "null"],
      "format": "uri",
      "description": "BoxRec wiki URL if available"
    },
    "bouts": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/bout"
      },
      "description": "List of all professional bouts"
    },
    "source_file": {
      "type": "string",
      "description": "Original source filename (added by combine script)"
    }
  },
  "definitions": {
    "bout": {
      "type": "object",
      "required": ["date", "opponent"],
      "properties": {
        "date": {
          "type": "string",
          "description": "Bout date (may be partial, e.g., 'May 24')"
        },
        "opponent": {
          "type": ["string", "null"],
          "description": "Opponent's name"
        },
        "opponent_id": {
          "type": ["string", "null"],
          "description": "Opponent's BoxRec ID for interlinking"
        },
        "opponent_url": {
          "type": ["string", "null"],
          "format": "uri",
          "description": "Opponent's BoxRec URL"
        },
        "opponent_record": {
          "type": ["string", "null"],
          "pattern": "^\\d+-\\d+-\\d+$",
          "description": "Opponent's record at time of bout (W-L-D)"
        },
        "recent_form": {
          "type": ["string", "null"],
          "pattern": "^[WLD]+$",
          "description": "Opponent's last 6 fight results"
        },
        "result": {
          "type": ["string", "null"],
          "enum": ["W", "L", "D", "NC", "VS", null],
          "description": "Bout result from this boxer's perspective"
        },
        "method": {
          "type": ["string", "null"],
          "description": "Method of victory/defeat (KO, TKO, UD, SD, MD, etc.)"
        },
        "rounds": {
          "type": ["string", "null"],
          "description": "Rounds completed/scheduled (e.g., '10/12')"
        },
        "venue": {
          "type": ["string", "null"],
          "description": "Venue name and location"
        },
        "bout_rating": {
          "type": ["integer", "null"],
          "minimum": 0,
          "maximum": 5,
          "description": "BoxRec star rating for the bout"
        }
      }
    }
  }
}