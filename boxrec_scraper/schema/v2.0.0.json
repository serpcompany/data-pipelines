{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "2.0.0",
  "title": "BoxRec Boxer Data Schema",
  "description": "Schema for boxer data extracted from BoxRec - Version 2.0 with expanded fields",
  "type": "object",
  "required": ["boxrec_id", "full_name", "bouts"],
  "properties": {
    "boxrec_id": {
      "type": "string",
      "description": "Unique BoxRec identifier for the boxer"
    },
    "boxrec_url": {
      "type": "string",
      "format": "uri",
      "description": "Full URL to the boxer's BoxRec page"
    },
    "boxrec_wiki_url": {
      "type": ["string", "null"],
      "format": "uri",
      "description": "BoxRec wiki URL if available"
    },
    "slug": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "URL-friendly version of the boxer's name"
    },
    "full_name": {
      "type": "string",
      "description": "Boxer's professional name"
    },
    "birth_name": {
      "type": ["string", "null"],
      "description": "Boxer's birth name if different from professional name"
    },
    "nickname": {
      "type": ["string", "null"],
      "description": "Boxer's nickname or alias"
    },
    "image_url": {
      "type": ["string", "null"],
      "format": "uri",
      "description": "URL to boxer's profile image"
    },
    "residence": {
      "type": ["string", "null"],
      "description": "Current place of residence"
    },
    "birth_place": {
      "type": ["string", "null"],
      "description": "Boxer's place of birth"
    },
    "date_of_birth": {
      "type": ["string", "null"],
      "format": "date",
      "description": "Boxer's birth date in YYYY-MM-DD format"
    },
    "gender": {
      "type": ["string", "null"],
      "enum": ["male", "female", null]
    },
    "nationality": {
      "type": ["string", "null"],
      "description": "Boxer's nationality"
    },
    "height": {
      "type": ["string", "null"],
      "description": "Boxer's height in feet/inches and cm"
    },
    "reach": {
      "type": ["string", "null"],
      "description": "Boxer's reach in inches and cm"
    },
    "weight": {
      "type": ["string", "null"],
      "description": "Current weight or weight class"
    },
    "stance": {
      "type": ["string", "null"],
      "enum": ["orthodox", "southpaw", "switch", null],
      "description": "Boxer's fighting stance"
    },
    "bio": {
      "type": ["string", "null"],
      "description": "Biography text"
    },
    "promoter": {
      "type": ["string", "null"],
      "description": "Current promoter"
    },
    "trainer": {
      "type": ["string", "null"],
      "description": "Current trainer"
    },
    "manager": {
      "type": ["string", "null"],
      "description": "Current manager"
    },
    "gym": {
      "type": ["string", "null"],
      "description": "Boxing gym"
    },
    "pro_debut_date": {
      "type": ["string", "null"],
      "format": "date",
      "description": "Professional debut date"
    },
    "pro_division": {
      "type": ["string", "null"],
      "description": "Current professional division"
    },
    "pro_wins": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "pro_wins_by_knockout": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "pro_losses": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "pro_losses_by_knockout": {
      "type": ["integer", "null"],
      "minimum": 0,
      "description": "Number of losses by knockout"
    },
    "pro_draws": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "pro_status": {
      "type": ["string", "null"],
      "enum": ["active", "inactive", "retired", null]
    },
    "pro_total_bouts": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "pro_total_rounds": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "amateur_debut_date": {
      "type": ["string", "null"],
      "format": "date",
      "description": "Amateur debut date"
    },
    "amateur_division": {
      "type": ["string", "null"],
      "description": "Amateur division"
    },
    "amateur_wins": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "amateur_wins_by_knockout": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "amateur_losses": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "amateur_losses_by_knockout": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "amateur_draws": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "amateur_status": {
      "type": ["string", "null"],
      "enum": ["active", "inactive", "retired", null]
    },
    "amateur_total_bouts": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "amateur_total_rounds": {
      "type": ["integer", "null"],
      "minimum": 0
    },
    "rating": {
      "type": ["string", "null"],
      "description": "BoxRec rating"
    },
    "ranking": {
      "type": ["integer", "null"],
      "description": "Current world ranking"
    },
    "titles": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of current titles held"
    },
    "ko_percentage": {
      "type": ["string", "null"],
      "pattern": "^\\d+(\\.\\d+)?%$",
      "description": "Knockout percentage"
    },
    "bouts": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/bout"
      },
      "description": "List of all professional bouts"
    },
    "source_file": {
      "type": "string",
      "description": "Original source filename (added by combine script)"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when record was created"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when record was last updated"
    }
  },
  "definitions": {
    "bout": {
      "type": "object",
      "required": ["bout_date"],
      "properties": {
        "bout_date": {
          "type": "string",
          "description": "Bout date (may be partial, e.g., 'May 24')"
        },
        "opponent_name": {
          "type": ["string", "null"],
          "description": "Opponent's name"
        },
        "opponent_id": {
          "type": ["string", "null"],
          "description": "Opponent's BoxRec ID for interlinking"
        },
        "opponent_url": {
          "type": ["string", "null"],
          "format": "uri",
          "description": "Opponent's BoxRec URL"
        },
        "opponent_weight": {
          "type": ["string", "null"],
          "description": "Opponent's weight for the fight"
        },
        "opponent_record": {
          "type": ["string", "null"],
          "pattern": "^\\d+-\\d+-\\d+$",
          "description": "Opponent's record at time of bout (W-L-D)"
        },
        "recent_form": {
          "type": ["string", "null"],
          "pattern": "^[WLD]+$",
          "description": "Opponent's last 6 fight results"
        },
        "venue_name": {
          "type": ["string", "null"],
          "description": "Venue name and location"
        },
        "referee_name": {
          "type": ["string", "null"],
          "description": "Referee for the bout"
        },
        "judge_1_name": {
          "type": ["string", "null"]
        },
        "judge_1_score": {
          "type": ["string", "null"]
        },
        "judge_2_name": {
          "type": ["string", "null"]
        },
        "judge_2_score": {
          "type": ["string", "null"]
        },
        "judge_3_name": {
          "type": ["string", "null"]
        },
        "judge_3_score": {
          "type": ["string", "null"]
        },
        "num_rounds_scheduled": {
          "type": ["integer", "null"],
          "minimum": 1,
          "maximum": 15
        },
        "result": {
          "type": ["string", "null"],
          "enum": ["win", "loss", "draw", "no-contest", null],
          "description": "Bout result from this boxer's perspective"
        },
        "result_method": {
          "type": ["string", "null"],
          "enum": ["ko", "tko", "decision", "dq", "rtd", null],
          "description": "Method of victory/defeat"
        },
        "result_round": {
          "type": ["integer", "null"],
          "minimum": 1,
          "maximum": 15,
          "description": "Round in which the fight ended"
        },
        "event_page_link": {
          "type": ["string", "null"],
          "description": "Link to event page on BoxRec"
        },
        "bout_page_link": {
          "type": ["string", "null"],
          "description": "Link to specific bout page on BoxRec"
        },
        "scorecards_page_link": {
          "type": ["string", "null"],
          "description": "Link to scorecards page"
        },
        "title_fight": {
          "type": ["boolean", "null"],
          "description": "Whether this was a title fight"
        },
        "bout_rating": {
          "type": ["integer", "null"],
          "minimum": 0,
          "maximum": 5,
          "description": "BoxRec star rating for the bout"
        }
      }
    }
  }
}