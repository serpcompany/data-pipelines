<!DOCTYPE html><html lang="en"><head><script type="text/javascript" async="" src="https://script.4dex.io/a/latest/adagio.js" id="adagiojs-288d932a5972be" data-pid="1205"></script><script type="text/javascript" async="" src="https://cdn.edkt.io/7dDzS0/edgekit.min.js"></script>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="Content-Type" content="text/html;">
		<meta name="description" content="BoxRec Event">
    <meta name="pbstck_context:site_name" content="boxrec.com">
    <meta name="pbstck_context:website" content="boxrec.com">
		
		<title>
							BoxRec: Event
					</title>

					<link rel="canonical" href="https://boxrec.com/en/event/761410">
		
		<link rel="apple-touch-icon" sizes="57x57" href="/build/images/favicons/apple-touch-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/build/images/favicons/apple-touch-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/build/images/favicons/apple-touch-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/build/images/favicons/apple-touch-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/build/images/favicons/apple-touch-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/build/images/favicons/apple-touch-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/build/images/favicons/apple-touch-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/build/images/favicons/apple-touch-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/build/images/favicons/apple-touch-icon-180x180.png">
		<link rel="icon" type="image/png" href="/build/images/favicons/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/build/images/favicons/android-chrome-192x192.png" sizes="192x192">
		<link rel="icon" type="image/png" href="/build/images/favicons/favicon-96x96.png" sizes="96x96">
		<link rel="icon" type="image/png" href="/build/images/favicons/favicon-16x16.png" sizes="16x16">
		<meta name="msapplication-TileColor" content="#af0a00">
		<meta name="theme-color" content="#ffffff">
		<link rel="shortcut icon" href="/build/images/favicons/favicon.ico">

		    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold&amp;display=swap" title="roboto">

				<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin="anonymous">

				<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer">
		 <link rel="stylesheet" href="/build/app_d.faaa1882.css">

		
		
			<!-- InMobi Choice. Consent Manager Tag v3.0 (for TCF 2.2) -->
<script async="" src="https://cdn.hadronid.net/hadron.js?partner_id=374&amp;sync=1&amp;url=https%3A%2F%2Fboxrec.com%2Fen%2Fevent%2F761410"></script><script async="" src="https://a.ad.gt/api/v1/u/matches/374?url=https%3A%2F%2Fboxrec.com%2Fen%2Fevent%2F761410&amp;ref="></script><script async="" type="text/javascript" src="https://cmp.inmobi.com/tcfv2/60/cmp2.js?referer=boxrec.com"></script><script async="" type="text/javascript" src="https://cmp.inmobi.com/choice/ejspNYRAmW48a/boxrec.com/choice.js?tag_version=V3"></script><script type="text/javascript" async="true">
(function() {
  var host = 'boxrec.com';
  var element = document.createElement('script');
  var firstScript = document.getElementsByTagName('script')[0];
  var url = 'https://cmp.inmobi.com'
    .concat('/choice/', 'ejspNYRAmW48a', '/', host, '/choice.js?tag_version=V3');
  var uspTries = 0;
  var uspTriesLimit = 3;
  element.async = true;
  element.type = 'text/javascript';
  element.src = url;

  firstScript.parentNode.insertBefore(element, firstScript);

  function makeStub() {
    var TCF_LOCATOR_NAME = '__tcfapiLocator';
    var queue = [];
    var win = window;
    var cmpFrame;

    function addFrame() {
      var doc = win.document;
      var otherCMP = !!(win.frames[TCF_LOCATOR_NAME]);

      if (!otherCMP) {
        if (doc.body) {
          var iframe = doc.createElement('iframe');

          iframe.style.cssText = 'display:none';
          iframe.name = TCF_LOCATOR_NAME;
          doc.body.appendChild(iframe);
        } else {
          setTimeout(addFrame, 5);
        }
      }
      return !otherCMP;
    }

    function tcfAPIHandler() {
      var gdprApplies;
      var args = arguments;

      if (!args.length) {
        return queue;
      } else if (args[0] === 'setGdprApplies') {
        if (
          args.length > 3 &&
          args[2] === 2 &&
          typeof args[3] === 'boolean'
        ) {
          gdprApplies = args[3];
          if (typeof args[2] === 'function') {
            args[2]('set', true);
          }
        }
      } else if (args[0] === 'ping') {
        var retr = {
          gdprApplies: gdprApplies,
          cmpLoaded: false,
          cmpStatus: 'stub'
        };

        if (typeof args[2] === 'function') {
          args[2](retr);
        }
      } else {
        if(args[0] === 'init' && typeof args[3] === 'object') {
          args[3] = Object.assign(args[3], { tag_version: 'V3' });
        }
        queue.push(args);
      }
    }

    function postMessageEventHandler(event) {
      var msgIsString = typeof event.data === 'string';
      var json = {};

      try {
        if (msgIsString) {
          json = JSON.parse(event.data);
        } else {
          json = event.data;
        }
      } catch (ignore) {}

      var payload = json.__tcfapiCall;

      if (payload) {
        window.__tcfapi(
          payload.command,
          payload.version,
          function(retValue, success) {
            var returnMsg = {
              __tcfapiReturn: {
                returnValue: retValue,
                success: success,
                callId: payload.callId
              }
            };
            if (msgIsString) {
              returnMsg = JSON.stringify(returnMsg);
            }
            if (event && event.source && event.source.postMessage) {
              event.source.postMessage(returnMsg, '*');
            }
          },
          payload.parameter
        );
      }
    }

    while (win) {
      try {
        if (win.frames[TCF_LOCATOR_NAME]) {
          cmpFrame = win;
          break;
        }
      } catch (ignore) {}

      if (win === window.top) {
        break;
      }
      win = win.parent;
    }
    if (!cmpFrame) {
      addFrame();
      win.__tcfapi = tcfAPIHandler;
      win.addEventListener('message', postMessageEventHandler, false);
    }
  };

  makeStub();

  function makeGppStub() {
    const CMP_ID = 10;
    const SUPPORTED_APIS = [
      '2:tcfeuv2',
      '6:uspv1',
      '7:usnatv1',
      '8:usca',
      '9:usvav1',
      '10:uscov1',
      '11:usutv1',
      '12:usctv1'
    ];

    window.__gpp_addFrame = function (n) {
      if (!window.frames[n]) {
        if (document.body) {
          var i = document.createElement("iframe");
          i.style.cssText = "display:none";
          i.name = n;
          document.body.appendChild(i);
        } else {
          window.setTimeout(window.__gpp_addFrame, 10, n);
        }
      }
    };
    window.__gpp_stub = function () {
      var b = arguments;
      __gpp.queue = __gpp.queue || [];
      __gpp.events = __gpp.events || [];

      if (!b.length || (b.length == 1 && b[0] == "queue")) {
        return __gpp.queue;
      }

      if (b.length == 1 && b[0] == "events") {
        return __gpp.events;
      }

      var cmd = b[0];
      var clb = b.length > 1 ? b[1] : null;
      var par = b.length > 2 ? b[2] : null;
      if (cmd === "ping") {
        clb(
          {
            gppVersion: "1.1", // must be “Version.Subversion”, current: “1.1”
            cmpStatus: "stub", // possible values: stub, loading, loaded, error
            cmpDisplayStatus: "hidden", // possible values: hidden, visible, disabled
            signalStatus: "not ready", // possible values: not ready, ready
            supportedAPIs: SUPPORTED_APIS, // list of supported APIs
            cmpId: CMP_ID, // IAB assigned CMP ID, may be 0 during stub/loading
            sectionList: [],
            applicableSections: [-1],
            gppString: "",
            parsedSections: {},
          },
          true
        );
      } else if (cmd === "addEventListener") {
        if (!("lastId" in __gpp)) {
          __gpp.lastId = 0;
        }
        __gpp.lastId++;
        var lnr = __gpp.lastId;
        __gpp.events.push({
          id: lnr,
          callback: clb,
          parameter: par,
        });
        clb(
          {
            eventName: "listenerRegistered",
            listenerId: lnr, // Registered ID of the listener
            data: true, // positive signal
            pingData: {
              gppVersion: "1.1", // must be “Version.Subversion”, current: “1.1”
              cmpStatus: "stub", // possible values: stub, loading, loaded, error
              cmpDisplayStatus: "hidden", // possible values: hidden, visible, disabled
              signalStatus: "not ready", // possible values: not ready, ready
              supportedAPIs: SUPPORTED_APIS, // list of supported APIs
              cmpId: CMP_ID, // list of supported APIs
              sectionList: [],
              applicableSections: [-1],
              gppString: "",
              parsedSections: {},
            },
          },
          true
        );
      } else if (cmd === "removeEventListener") {
        var success = false;
        for (var i = 0; i < __gpp.events.length; i++) {
          if (__gpp.events[i].id == par) {
            __gpp.events.splice(i, 1);
            success = true;
            break;
          }
        }
        clb(
          {
            eventName: "listenerRemoved",
            listenerId: par, // Registered ID of the listener
            data: success, // status info
            pingData: {
              gppVersion: "1.1", // must be “Version.Subversion”, current: “1.1”
              cmpStatus: "stub", // possible values: stub, loading, loaded, error
              cmpDisplayStatus: "hidden", // possible values: hidden, visible, disabled
              signalStatus: "not ready", // possible values: not ready, ready
              supportedAPIs: SUPPORTED_APIS, // list of supported APIs
              cmpId: CMP_ID, // CMP ID
              sectionList: [],
              applicableSections: [-1],
              gppString: "",
              parsedSections: {},
            },
          },
          true
        );
      } else if (cmd === "hasSection") {
        clb(false, true);
      } else if (cmd === "getSection" || cmd === "getField") {
        clb(null, true);
      }
      //queue all other commands
      else {
        __gpp.queue.push([].slice.apply(b));
      }
    };
    window.__gpp_msghandler = function (event) {
      var msgIsString = typeof event.data === "string";
      try {
        var json = msgIsString ? JSON.parse(event.data) : event.data;
      } catch (e) {
        var json = null;
      }
      if (typeof json === "object" && json !== null && "__gppCall" in json) {
        var i = json.__gppCall;
        window.__gpp(
          i.command,
          function (retValue, success) {
            var returnMsg = {
              __gppReturn: {
                returnValue: retValue,
                success: success,
                callId: i.callId,
              },
            };
            event.source.postMessage(msgIsString ? JSON.stringify(returnMsg) : returnMsg, "*");
          },
          "parameter" in i ? i.parameter : null,
          "version" in i ? i.version : "1.1"
        );
      }
    };
    if (!("__gpp" in window) || typeof window.__gpp !== "function") {
      window.__gpp = window.__gpp_stub;
      window.addEventListener("message", window.__gpp_msghandler, false);
      window.__gpp_addFrame("__gppLocator");
    }
  };

  makeGppStub();

  var uspStubFunction = function() {
    var arg = arguments;
    if (typeof window.__uspapi !== uspStubFunction) {
      setTimeout(function() {
        if (typeof window.__uspapi !== 'undefined') {
          window.__uspapi.apply(window.__uspapi, arg);
        }
      }, 500);
    }
  };

  var checkIfUspIsReady = function() {
    uspTries++;
    if (window.__uspapi === uspStubFunction && uspTries < uspTriesLimit) {
      console.warn('USP is not accessible');
    } else {
      clearInterval(uspInterval);
    }
  };

  if (typeof window.__uspapi === 'undefined') {
    window.__uspapi = uspStubFunction;
    var uspInterval = setInterval(checkIfUspIsReady, 6000);
  }
})();
</script>
<!-- End InMobi Choice. Consent Manager Tag v3.0 (for TCF 2.2) -->							        <script async="" src="https://boot.pbstck.com/v1/adm/41886144-ec7e-4e26-b10f-9fb34d7cdd71"></script>
        <!-- Tag for Snack Media | Box Rec (boxrec.com) -->
        <script src="https://snack-scripts.b-cdn.net/intentiq/IIQUniversalID.js"></script>
        <script>
          (function(d) {
            var e = d.createElement('script');
            e.src = d.location.protocol + '//tag.wknd.ai/7284/i.js';
            e.async = true;
            d.getElementsByTagName("head")[0].appendChild(e);
          }(document));
        </script><script src="https://tag.wknd.ai/7284/i.js" async=""></script>

        <!-- End WKND tag -->
        <style>
          @media only screen and (min-width: 728px){
            #snack-top-slim {
                    min-height: 90px !important;
                    text-align: center;
                    margin: 10px auto 10px auto;
              }
            #snack-incontent-slim-1, #snack-incontent-slim-2 {
                    min-height: 90px !important;
                    text-align: center;
                    margin: auto;
              }
            }

            @media only screen and (max-width: 727px){
            #snack-top-slim {
                    min-height: 100px !important;
                    text-align: center;
                    margin: 10px auto 10px auto;
              }
            #snack-incontent-slim-1, #snack-incontent-slim-2 {
                    min-height: 310px !important;
                    text-align: center;
                    margin: 10px auto 10px auto;
              }
            }
        </style>
						<script src="//assets.bounceexchange.com/assets/smart-tag/versioned/onsite-v2_c05f8c5551fa6b964660ad61916291c1.br.js" async="" type="text/javascript"></script><script src="//assets.bounceexchange.com/assets/smart-tag/versioned/ads-v2_ba8ae19a5bf9548f3d50df1e54121805.br.js" async="" type="text/javascript"></script><script src="//assets.bounceexchange.com/cache/7284/website-5598ecce2e650ce826dfb2c4a6295bdb.js" type="text/javascript" async="async"></script><style type="text/css"> .qc-cmp-button {    background-color: #f01c00 !important;    border-color: #f01c00 !important;  }  .qc-cmp-button:hover {    border-color: #f01c00 !important;  }  .qc-cmp-alt-action,  .qc-cmp-link {    color: #f01c00 !important;  }  .qc-cmp-button.qc-cmp-secondary-button:hover {    background-color: #f01c00 !important;    border-color: #f01c00 !important;  }  .qc-cmp-button.qc-cmp-secondary-button:hover {    color: #ffffff !important;  }  .qc-cmp-button.qc-cmp-secondary-button {    color: #f01c00 !important;  }  .qc-cmp-button.qc-cmp-secondary-button {    background-color: #ffffff !important;    border-color: transparent !important;  }  .qc-cmp-ui,  .qc-cmp-ui .qc-cmp-title,  .qc-cmp-ui .qc-cmp-table,  .qc-cmp-ui .qc-cmp-messaging,  .qc-cmp-ui .qc-cmp-sub-title,  .qc-cmp-ui .qc-cmp-vendor-list,  .qc-cmp-ui .qc-cmp-purpose-info,  .qc-cmp-ui .qc-cmp-table-header,  .qc-cmp-ui .qc-cmp-beta-messaging,  .qc-cmp-ui .qc-cmp-main-messaging,  .qc-cmp-ui .qc-cmp-vendor-list-title{    color: #FFFFFF !important;  }  .qc-cmp-ui a,  .qc-cmp-ui .qc-cmp-alt-action {    color: #f01c00 !important;  }  .qc-cmp-ui {    background-color: #111111 !important;  } </style><script src="//assets.bounceexchange.com/cache/7284/campaign-index-live-204ff5856b739cde1b6ebec720219aef.js" type="text/javascript" async="async"></script><script type="text/javascript">(function(){ var kleanads=function(e){"use strict";const t="adm";const i="kleanads_errors";class n{constructor(e,t,i,n=1){this.tagId=e,this.kleanadsVersion=t,this.throttling=n,this.device=i||"na"}handleMessage(e,t,i){const n={source:t??"kleanads",type:"log",level:e,tagId:this.tagId,kleanadsVersion:this.kleanadsVersion,href:window.location.href,device:this.device,...i};var s,a;s=n,a=this.throttling,100*Math.random()<a&&navigator.sendBeacon("https://intake.pbstck.com/v1/trace",JSON.stringify(s))}error(e){this.handleMessage("error",i,{message:e})}warn(e){this.handleMessage("warn",i,{message:e})}customLogWithPayload(e,t,i="info"){this.handleMessage(i,e,t)}}const s=/kleanads:debug/.test(window.location.href),a=!!window.localStorage?.getItem&&null!==window.localStorage.getItem("kleanads"),r=!!window.localStorage?.getItem&&null!==window.localStorage.getItem("kleanads_refresh"),o="kleanads";let d,c="na",l="na",u="na";function h(){return s||a}function g(e,t){return`[${e}] [${performance.now().toFixed(2)}] ${t}`}function f(e){u=e}function p(e,...t){h()&&console.log(g(o,e),...t)}function m(e,...t){if(h()){const i="background: #4D5E98;color: #fff; padding: 2px 4px;font-weight:bold;text-transform:capitalize;border-radius: 1px; margin:0 2px;";console.debug("%cDEBUG",i,g(o,e),...t)}}function b(e,...t){h()&&console.warn(g(o,e),...t),d?.warn(e)}function v(e,...t){h()&&console.error(g(o,e),...t),d?.error(e),navigator.sendBeacon(`https://intake.pbstck.com/v1/intake/error?tId=${c}&v=${l}&s=${u}&c=1`,JSON.stringify([{message:e}]))}function y(e,t,i){d?.customLogWithPayload(t,{message:e,...i})}function A(e,t){const i={type:"customEvent",eventName:e,message:t};window.postMessage(i,"*")}function I(e,t){const i=document.createElement("meta");i.setAttribute("name",`pbstck:${e}`),i.content=t,document.head.appendChild(i)}function k(e,t){const i=document.createElement("meta");i.setAttribute("name",`ad:${e}`),i.content=t,document.head.appendChild(i)}function C(e){const t={};e.document.querySelectorAll('meta[name^="ad:"]').forEach((e=>{const i=function(e){const t=e.attributes.getNamedItem("name")?.value||"";return t.startsWith("ad:")?t.slice(3):t}(e);i&&(t[i]=function(e){const t=e.attributes.getNamedItem("content")?.value||"";return t.split(",")}(e))}));const i=new URLSearchParams(e.location.search);for(const e of i.keys())e.startsWith("ad:")&&(t[e.slice(3)]=i.getAll(e));return t}function S(){const e=document.head.querySelector('meta[name="ad:no_cmp"]');return!!e&&"true"===e.content}function w(e){return null!==document.getElementById(e)}function E(e){const t=document.getElementById(e);if(t){return t.getBoundingClientRect().top}return p(`[DOM] div ${e} not found during get distance from top`),0}function T(e,t){const i=document.createElement("script");return i.setAttribute("src",e),i}function $(e,t){return new Promise(((i,n)=>e().then(i).catch((i=>{return t>1?(s=100,new Promise((e=>setTimeout(e,s)))).then($.bind(null,e,t-1)).then((e=>e)).catch(n):n(i);var s}))))}const _=async(e,t=3)=>$((()=>import(e)),t).then((e=>e)).catch((i=>{throw v(`Failed to load module ${e} after ${t} retries`,i),new Error("Too many failed attempt to load external module.")})),R=(e,t)=>{const i=T(e);i.setAttribute("async","true"),i.setAttribute("data-kleanads","true"),document.head.append(i)},U=(e,t)=>{const i=T(e);i.setAttribute("async","false"),i.setAttribute("data-kleanads","true"),document.head.append(i)};function P(e){return[...new Set(e)]}async function O(e,t){const{beforeStart:i}=t,n=function(e,t){return(e.extraScripts??[]).filter((i=>i.tagId===e.tagId&&!!i.beforeStart===t))}(e,i);if(n.length>0){p("[extra-script]",i?"Loading extraScripts before config":"Loading extraScripts after consent");const e=n.filter((({synchronous:e})=>!e)).flatMap((e=>e.scripts)),t=n.filter((({synchronous:e})=>e)).flatMap((e=>e.scripts));if(e.length>0&&(p(`[extra-script] downloading async extra scripts ${e.join("\n")}`),e.forEach((e=>R(e)))),t.length>0){p(`[extra-script] downloading sync extra scripts ${t.join("\n")}`);for(const e of t)try{await _(e)}catch(e){b("[extra-script] Error while loading sync extra script",e)}}}}function x(e,t){return e.size<t.size?1:e.size>t.size?-1:0}function L(e){if("fluid"===e)return"fluid";const[t,i]=e.split("x");return[parseInt(t,10),parseInt(i,10)]}function N(e){return e>=100||e>=Math.floor(100*Math.random())+1}function D(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}const j=["master","master-1","master-2","master-3","companion",void 0],B=(e,t)=>j.indexOf(e.roadblock)-j.indexOf(t.roadblock)||E(e.divId)-E(t.divId);function M(e){return e.mediaTypes.includes("Instream")&&void 0!==e.instreamParams}function V(e){return e.mediaTypes.includes("Banner")&&void 0!==e.bannerSizes}function W(e){return e.mediaTypes.includes("Skin")}const z=(e,t)=>"fluid"===e&&"fluid"===t||e[0]===t[0]&&e[1]===t[1];function F(e){const t=e.values?e.values.join(","):"";return e.value?e.value:t}function H(e){const t=e.values??[];return e.value?e.value:t}const G=e=>e.map(K),K=e=>({bidder:e.bidder,params:e.params}),q=e=>({banner:{sizes:e}}),Y=e=>({video:e}),X=e=>({native:e}),J=e=>({video:{context:"outstream",playerSize:[640,480],mimes:["video/mp4","video/ogg","video/webm","application/javascript"],protocols:[1,2,3,4,5,6,7,8,11,12,13,14],api:[1,2,3,5,6,7],playbackmethod:[2,3,4],skip:1,linearity:2,startdelay:0,placement:3,plcmt:4,maxduration:30,minduration:0,playVideoVisibleThreshold:25,nonViewableBehavior:"pause",renderer:e}}),Q=e=>{if(void 0===e||0===e.length)return{protocols:[2,3,4,5,6,7,8,9,11,12,13,14,15,16],mimes:["video/mp4","video/mpeg","video/3gp","video/ogg","application/javascript","text/html"],api:[1,2,3,5,6,7,8,9]};const t={VAST2:{protocols:[2,5],mimes:["video/mp4","video/mpeg","video/3gp","video/ogg"],api:[]},VAST3:{protocols:[3,6],mimes:["video/mp4","video/mpeg","video/3gp","video/ogg"],api:[]},VAST4:{protocols:[7,8,11,12,13,14,15,16],api:[7],mimes:["video/mp4","video/mpeg","video/3gp","video/ogg"]},VPAID:{protocols:[4,5,6,8,12,14,16],api:[1,2,3,5,6,7],mimes:["application/javascript"]},SIMID:{protocols:[5,6,8,12,14,16],api:[7,8,9],mimes:["text/html"]}},i={protocols:[],api:[],mimes:[]};return e.forEach((e=>{i.protocols=P([...i.protocols,...t[e].protocols]),i.api=P([...i.api,...t[e].api]),i.mimes=P([...i.mimes,...t[e].mimes])})),i},Z=()=>({url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",options:{adText:"",aspectRatio:"16:9",skippable:{enabled:!0,skipButtonText:"SKIP"}}}),ee=e=>{const t=e.ortb2Imp,i=`${e.adUnitPath}#${e.divId}`;return t?(t.ext.gpid=i,t.ext.data={...t.ext.data,adUnitName:e.adUnitName,pbadslot:i},t.ext.pubstack={...t.ext.pubstack,adUnitName:e.adUnitName,requestId:e.divId},t):{ext:{gpid:i,data:{adUnitName:e.adUnitName,pbadslot:i},pubstack:{adUnitName:e.adUnitName,requestId:e.divId}}}},te=(e,t)=>{const i=e.floors;i&&t&&(i.values.banner=Math.max(i.values.banner,t));const n={code:e.divId,pubstack:{adUnitName:e.adServerAdUnitName,adUnitPath:ne(e)},floors:i,ortb2Imp:ee(e)},s=e.getTargetings();if(s.find((e=>"ad_index"===e.key))){const e=s.find((e=>"ad_index"===e.key))?.value;n.pubstack&&(n.pubstack.tags=[`ad_index:${e}`])}return n};function ie(e,t){const i=te(e,t?.newFloor);if(M(e))return[{...i,bids:G(e.bidders),mediaTypes:Y(e.instreamParams?.mediaTypeParams)}];const n=(t,n,s)=>{const a=function(e,t){const i={};return t.includes("Banner")&&V(e)&&t.includes("Skin")&&W(e)?i.banner=q([[1800,1e3],...e.bannerSizes]).banner:t.includes("Banner")&&V(e)?i.banner=q(e.bannerSizes).banner:t.includes("Skin")&&W(e)&&(i.banner=q([[1800,1e3]]).banner),t.includes("Outstream")&&function(e){return e.mediaTypes.includes("Outstream")}(e)&&(i.video=J(Z()).video),t.includes("Native")&&function(e){return e.mediaTypes.includes("Native")&&void 0!==e.nativeParams}(e)&&(i.native=X(e.nativeParams).native),i}(e,t);if(0===Object.keys(a).length)b(`Bidder ${n.bidder} has no Prebid mediaType ${t} for adUnit ${e.adUnitName}`);else{const e=s.find((e=>JSON.stringify(e.mediaTypes)===JSON.stringify(a)));e?e.bids.push(K(n)):s.push({...i,bids:[K(n)],mediaTypes:a})}};return e.bidders.reduce(((e,i)=>(t?.multiformatBidders?.includes(i.bidder)?n(i.mediaTypes,i,e):i.mediaTypes.forEach((t=>{n([t],i,e)})),e)),[])}function ne(e){const t=[...e.getTargetings()],i=(e.pubstackDeclarationTargetingKeys??[]).map((e=>{const i=t.find((t=>t.key===e));if(i)return i;{const t=C(window)[e];return t?{key:e,values:t}:void 0}})).filter((e=>!!e)).map((e=>`${e.key}=${F(e)}`)).join("&"),n=e.adUnitPath.includes("?")?"&":"?";return i.length>0?`${e.adUnitPath}${n}${i}`:e.adUnitPath}class se{constructor(){this.uprEnabled=!0,this.disableGptPreAuction=!1,this.kleanadsRunCount=1}setUprState(e,t){switch("true"===function(e,t){const i=`meta[name="${t}"]`,n=e.document.querySelector(i);return null!==n?n.getAttribute("content"):null}(window,"adm_feature:upr_disabled")&&(e="disabled"),e){case"disabled":this.uprEnabled=!1;break;case"tested":this.uprEnabled=N(t??50),this.uprTested=!0;break;default:this.uprEnabled=!0}}setKleanadsRunCount(e){this.kleanadsRunCount=e}static getInstance(){return se.instance||(se.instance=new se),se.instance}}const ae="ad_floor-rule",re="prkv";function oe(e){if("string"==typeof e)return!0;if(Array.isArray(e)){for(const t of e)if("string"!=typeof t)return!1;return!0}return!1}function de(e,t){const i=e.getTargeting(t);i&&i.length>0&&e.clearTargeting(t)}const ce="bid_bidder",le="bid_size",ue="bid_mediatype",he="[instream] [Dailymotion]";class ge{constructor(e,t,i,n){this.callbackAdded=!1,this.configSetOnce=!1,this.adReadyToFetchReceivedOnce=!1,this.adReadyToFetchCallback=()=>{},this.declaredAdUnit="",this.pubstackWindow=e,this.pageContext=t,this.device=i,this.targetings=pe(this.device,this.pubstackWindow),this.instreamType=n??"dailymotion-v1"}declareAdUnit(e){"dailymotion-v3"===this.instreamType&&""===this.declaredAdUnit&&(this.declaredAdUnit=e.divId,this.executeWhenAdServerReady((()=>{const t=this.pubstackWindow.dailymotion;t?t.getPlayer(e.divId).then((t=>{t.on(this.pubstackWindow.dailymotion?.events.AD_READYTOFETCH,(()=>{p(`${he} ${e.divId} event AD_READYTOFETCH received`),this.adReadyToFetchReceivedOnce||(this.adReadyToFetchReceivedOnce=!0),this.adReadyToFetchCallback()}))})):v(`${he} unable to get dailymotion on the page`)})))}setApsTargetings(e){if(0!==e.length){p(`${he} putting targeting keys for aps auction of winning bidder`,e[0]);try{const t=e[0].helpers?.qsParams();if(t)return void this.targetings.push(t.slice(1));const i=e[0].qsParams;if(i)return void this.targetings.push(i.slice(1))}catch(e){v(`${he} error setting APS targetings`,e)}}}executeWhenAdServerReady(e){this.pubstackWindow.dailymotion?e():setTimeout(this.executeWhenAdServerReady.bind(this,e),100)}async callAdServer(e,t){const i=e.divId;if("dailymotion-v3"===this.instreamType&&e.divId!==this.declaredAdUnit)return void v(`${he} ${e.divId} call ad server but it is not the same divId as the one declared ${this.declaredAdUnit}`);if(!M(e))return void v(`${he} ${i} is not an instream adUnit`);p(`${he} ${i} call ad server`);const n=await(this.pubstackWindow.dailymotion?.getPlayer(i));if(!n)return void v(`${he} no player found for ${i}`);p(`${he} ${i} player:`,n);const s=await n.getState();switch(this.customConfig=function(e,t,i,n){const s=function(e){return e.getTargetings().map(fe)}(e);p(`${he} adUnitTargetings`,s);const a=Array.from(i.entries()).filter((([,e])=>!!e)).map((([e,t])=>`${e}=${t}`)),r=s.concat(t).concat(a).join("&"),o={...e.instreamParams?.vast,vpmute:n.playerIsMuted?1:0},d=Object.keys(o).map((function(e){return`${e}=${o[e]}`})).join("&"),c=e.instreamParams?.adDeactivationContext;let l=!1;if(c){const e=i.get(c.key);l=!!e&&c.values.includes(e)}const u={dynamiciu:e.adUnitPath,keyvalues:r,keyvalues2:d};return l?{...u,premium:"true"}:u}(e,this.targetings,this.pageContext,s),p(`${he} generated customConfig`,this.customConfig),this.instreamType){case"dailymotion-v1":p(`${he} ${i} setCustomConfig`,this.customConfig),n.setCustomConfig(this.customConfig),p(`${he} ad server called ${i}`),document.dispatchEvent(new CustomEvent("admDailymotionReady",{detail:{divId:i}})),p(`${he} ${i} admDailymotionReady event dispatched`);break;case"dailymotion-v2":this.callbackAdded||(p(`${he} ${i} add callback to event ${this.pubstackWindow.dailymotion?.events.AD_READYTOFETCH}`),n.on(this.pubstackWindow.dailymotion?.events.AD_READYTOFETCH,(()=>{p(`${he} ${i} event AD_READYTOFETCH received, setCustomConfig`,this.customConfig),this.customConfig&&n.setCustomConfig(this.customConfig),t&&(p(`${he} ${i} event AD_READYTOFETCH, call "onCallFinished"`),t())})),this.callbackAdded=!0);break;case"dailymotion-v3":!this.configSetOnce&&this.adReadyToFetchReceivedOnce?(p(`${he} ${e.divId} event AD_READYTOFETCH already received, setting customConfig"`,this.customConfig),this.customConfig&&(n.setCustomConfig(this.customConfig),this.configSetOnce=!0),t&&(p(`${he} ${e.divId} event AD_READYTOFETCH, call "onCallFinished"`),t())):this.adReadyToFetchCallback=()=>{p(`${he} ${e.divId} event AD_READYTOFETCH callback, setting customConfig"`,this.customConfig),this.customConfig&&n.setCustomConfig(this.customConfig)}}}setPbjsTargetings(e,t){if(e){p(`${he} put pbjs targeting keys for ${t.divId}`);const i=e.getAdserverTargetingForAdUnitCode(t.divId);for(const e of Object.keys(i)){const n=i[e];oe(n)?this.targetings.push(`${e}=${n}`):b(`${he} [targeting] unable to set targeting ${e}=${n} on adUnit ${t.divId}`)}}else v(`${he} no pbjs given: unable to put header bidding targetings`)}cleanTargetings(){this.targetings.splice(0),this.targetings.push(...pe(this.device,this.pubstackWindow))}}function fe(e){const t=H(e);return`${e.key}=${"string"==typeof t?t:t.join(",")}`}function pe(e,i){const n=[],s=C(i);Object.keys(s).forEach((e=>{const t=s[e].join(",");n.push(`${e}=${t}`)})),n.push(`${t}=1`),n.push(`device=${e}`);const a=se.getInstance().grapeshotValues;a?.length&&n.push(`gs_cat=${a.join(",")}`);try{const e=JSON.parse(i.localStorage._pdfps).slice(0,250).join(",");""!==e?n.push(`permutive=${e}`):p(`[${he}] no permutive targeting found`)}catch(e){p(`[${he}] error reading permutive targeting, ${e}`)}return n}var me,be,ve;!function(e){e.BEGIN_INIT="begin_init",e.CMP_RESPONSE_AVAILABLE="cmp_response_available",e.MAIN_THREAD_END="main_thread_end",e.GOOGLETAG_READY="googletag_ready",e.APSTAG_READY="apstag_ready",e.PREBID_READY="prebid_ready"}(me||(me={})),function(e){e.BEGIN_CONFIGURE="begin_configure",e.BEGIN_START="begin_start",e.SPA_RELOAD="spa_reload"}(be||(be={})),function(e){e.START_AUCTION="start_auction",e.END_PBJS_AUCTION="end_pbjs_auction",e.END_APS_AUCTION="end_aps_auction",e.START_AD_SERVER_CALL="start_ad_server_call",e.SLOT_RENDER_ENDED_TIME="slot_render_ended_time",e.SLOT_RESPONSE_RECEIVED_TIME="slot_response_received_time"}(ve||(ve={}));const ye=[],Ae=[],Ie="getEntriesByName"in performance&&"measure"in performance&&"mark"in performance;function ke(e){ye.includes(e)||(we(e),ye.push(e))}function Ce(e){we(e)}function Se(e,t){const i=function(e,t){return`${e}_${t}`}(e,t);Ae.includes(i)||(we(i),Ae.push(i))}function we(e){Ie&&(performance.mark(e.toString()),m(`[performance] [mark] ${e}: ${performance.getEntriesByName(e)[0].startTime.toFixed(2)}`))}const Ee="[consent]";function Te(e){return new Promise(((t,i)=>{!function(e,t,i){(n=e,new Promise(((e,t)=>$e(n,e)))).then((()=>{try{!function(e,t){const i=function(e){return e.__tcfapi}(e);i("addEventListener",2,(e=>{if(e&&("useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus)){m(`${Ee} Consent status`,e.eventStatus),ke(me.CMP_RESPONSE_AVAILABLE);const i=function(e){if(!e.purpose.consents||0===Object.keys(e.purpose.consents).length)return!1;for(const t in e.purpose.consents)if(!e.purpose.consents[t])return!1;return!0}(e);t(i)}}))}(e,t)}catch(e){v(`${Ee} Error while loading tcf api`,e),i(e)}})).catch((e=>{v(`${Ee} Error while loading tcf api`,e),i(e)}));var n}(e,t,i)}))}function $e(e,t,i){const n=e.__tcfapi;n&&function(e){if("function"!=typeof e)throw new Error("__tcfapi is not a function");return!0}(n)?t():setTimeout((()=>$e(e,t)),100)}const _e="[context]";function Re(e){return e.map((e=>({key:e.key.toLowerCase(),defaultValue:e.defaultValue?e.defaultValue.toLowerCase():void 0,otherValues:e.otherValues?e.otherValues.map((e=>e.toLowerCase())):[]})))}function Ue(e,t,i){(function(e,t,i){const n=[],s=Re(t).filter((e=>void 0!==e.defaultValue)).map((e=>e.key.toLowerCase())),a=[];e.document.querySelectorAll('meta[name^="pbstck_context:"]').forEach((e=>{const t=e.attributes.getNamedItem("name")?.value.substring(15).toLowerCase();t&&a.push(t)}));for(const e of i)s.includes(e)&&!a.includes(e)&&n.push(e);return n})(e,t,i).forEach((e=>{b(`[context] Missing ${e} context key used in adunit path`)}))}const Pe={pbjsFinished:!1,apsFinished:!1},Oe="[executor] [instream]";class xe{constructor(e,t,i,n){this.rank=1,this.adServer=e,this.pbjs=t,this.aps=i,this.kleanadsRunCount=n}executeAdCallRoadblock(e){this.executeAdCall(e)}executeAdCall(e){if(0===e.length)return void b(`${Oe} no adunit to monetize`);e.length>1&&b(`cannot monetize multiple instream adunits, using only the first one ${e[0].divId}`);const t=e[0];this.adServer.declareAdUnit(t),this.adUnitAuctionStatus?b(`${Oe} cannot make a new ad call, existing one on ${t.divId}.`):(p(`${Oe} executeAdCall for adunit`,t),this.startAuction(t))}executeRefresh(e){this.adServer.cleanTargetings();const t={labels:["pubstackRefresh",`pubstackRefreshRank:${e.rank}`]};this.startAuction(e.adUnit,t)}startAuction(e,t){this.adUnitAuctionStatus=Pe,Se(e.divId,ve.START_AUCTION),p(`${Oe} starting auctions for ${e.divId}`);const i=se.getInstance().kleanadsRunCount;if(this.pbjs){const n=this.pbjs.getPbjs();this.pbjs.startPbjsAuction([e],(()=>{this.kleanadsRunCount===i?this.pbjsFinished(n,e):p(`${Oe} kleanads run count has changed (from ${this.kleanadsRunCount} to ${i}), avoid calling pbjsFinished`)}),t)}this.aps&&this.aps.startApsAuction([e],(t=>{this.kleanadsRunCount===i?this.apsFinished(e,t):p(`${Oe} kleanads run count has changed (from ${this.kleanadsRunCount} to ${i}), avoid calling apsFinished`)})),this.pbjs||this.aps||this.adServer.executeWhenAdServerReady((()=>{this.kleanadsRunCount===i?this.callAdServer(e):p(`${Oe} kleanads run count has changed (from ${this.kleanadsRunCount} to ${i}), avoid calling AdServer`)}))}isAlreadyMonetized(){return!!this.adUnitAuctionStatus}pbjsFinished(e,t){p(`${Oe} pbjs end callback for ${t.divId}`,e.getAllPrebidWinningBids()),Se(t.divId,ve.END_PBJS_AUCTION),this.adServer.executeWhenAdServerReady((()=>{p(`${Oe} pbjs end callback ad server ready ${t.divId}`),this.adServer.setPbjsTargetings(e,t),this.adUnitAuctionStatus&&(this.adUnitAuctionStatus.pbjsFinished=!0),this.canCallAdServer()&&this.callAdServer(t)}))}apsFinished(e,t){p(`${Oe} aps end callback ${e.divId}`,t),Se(e.divId,ve.END_APS_AUCTION),this.adServer.executeWhenAdServerReady((()=>{p(`${Oe} aps end callback ad server ready ${e.divId}`),this.adServer.setApsTargetings(t),this.adUnitAuctionStatus&&(this.adUnitAuctionStatus.apsFinished=!0),this.canCallAdServer()&&this.callAdServer(e)}))}canCallAdServer(){const e=this.adUnitAuctionStatus;return this.aps&&!this.pbjs?e&&e.apsFinished:this.pbjs&&!this.aps?e&&e.pbjsFinished:this.pbjs&&this.aps?e&&e.apsFinished&&e.pbjsFinished:void 0}callAdServer(e){Se(e.divId,ve.START_AD_SERVER_CALL),this.adServer.callAdServer(e,(()=>{p(`${Oe} onCallFinished called, adding setTimeout to a new auction`),setTimeout((()=>{this.executeRefresh({adUnit:e,rank:this.rank}),this.rank++}),5e3)})),p(`${Oe} ad server called ${e.divId}`)}}const Le="[ExternalApi-AdServer]";class Ne{constructor(e,t,i){this.callbacks={},this.pbjsRecords={},this.apsRecords={},this.knownAdUnits=[],this.pubstackWindow=e,this.pageContext=t,this.device=i}init(e,t,i,n){}prebidReady(e){}declareAdUnits(e){return this.knownAdUnits.push(...e.map((e=>e.divId))),Promise.resolve()}clean(){this.knownAdUnits=[],this.callbacks={},this.pbjsRecords={},this.apsRecords={}}registerExternalTargetingDeclaration(e){}addCallback(e,t){return!!this.knownAdUnits.includes(e)&&(p(`${Le} addCallback - params`,e,t),this.callbacks[e]=t,this.pbjsRecords[e]={},this.apsRecords[e]={},!0)}callAdServer(e){p(`${Le} callAdServer - START`),e.filter((e=>this.knownAdUnits.includes(e.divId))).forEach((e=>{try{p(`${Le} callAdServer - inside forEach, run provided callback for divId:${e.divId}`);const i=function(e,i,n,s){const a={};n.forEach(((e,t)=>{e&&(a[t]=e)}));const r=C(i);Object.keys(r).forEach((e=>{a[e]=r[e].join(",")})),a[t]="1",a.device=s;const o=se.getInstance().grapeshotValues;o?.length&&(a.gs_cat=o.join(","));e.getTargetings().forEach((e=>{a[e.key]=F(e)}));try{const e=JSON.parse(i.localStorage._pdfps).slice(0,250).join(",");""!==e?a.permutive=e:p(`[${Le}] no permutive targeting found`)}catch(e){p(`[${Le}] error reading permutive targeting, ${e}`)}return a}(e,this.pubstackWindow,this.pageContext,this.device);this.callbacks[e.divId]({...i,...this.pbjsRecords[e.divId],...this.apsRecords[e.divId]})}catch(e){v(`${Le} error calling callback, ${e}`)}p(`${Le} callAdServer - inside forEach, run test callback`)})),p(`${Le} callAdServer - END`)}executeWhenAdServerReady(e){e()}setPbjsTargetings(e,t){e?(m(`${Le} try to put pbjs targeting keys for ${t.map((e=>e.divId)).join(",")}`),t.forEach((t=>{if(this.pbjsRecords[t.divId]){const i=e.getAdserverTargetingForAdUnitCode(t.divId);for(const[e,n]of Object.entries(i))"string"==typeof n&&(this.pbjsRecords[t.divId][e]=n)}}))):v(`${Le} no pbjs given: unable to put header bidding targetings`)}setApsTargetings(e,t){m(`${Le} putting targeting keys for aps auction`,t),e.forEach((e=>{if(this.apsRecords[e.divId]){const i=t.find((t=>t.slotID===e.divId));if(i&&i.targeting)for(const[t,n]of Object.entries(i.targeting))"string"==typeof n&&(this.apsRecords[e.divId][t]=n)}}))}}let De=4400;const je="[APS]";let Be=!1,Me=!1;function Ve(e){const t=e.apstag;if(t.kleanadsBlocker){p(`${je} getting apstag from blocker's methods`);const e=t;return{...t,fetchBids:e.fetchBidsKleanads,setDisplayBids:e.setDisplayBidsKleanads}}return t}class We{constructor(e,t){this.pubstackWindow=e,this.apsPubId=t}setEnableApsForTests(e){!function(e){v(`${je} this function should be used only for testing purpose`),Be=e}(e)}load(){!function(e){function t(t,i){Ve(e)?._Q?.push([t,i])}Be=!0,e.apstag||(e.apstag={_Q:[]}),e.apstag.init=(...e)=>t("i",e),e.apstag.fetchBids=(...e)=>t("f",e),e.apstag.setDisplayBids=()=>{},e.apstag.targetingKeys=()=>[],R("//c.amazon-adsystem.com/aax2/apstag.js")}(this.pubstackWindow)}startApsAuction(e,t){if(!Be)return p(`${je} skipping auction for adunits [${e.map((e=>e.divId)).join(",")}]`),void t([]);if(!Me)return b(`${je} cannot start auction: apstag is not initialized`),void t([]);const i=Ve(this.pubstackWindow);if(!i)return b(`${je} cannot find apstag on the page`),void t([]);const n=function(e){return e.filter((e=>e.headerBiddingEnabled)).reduce(((e,t)=>{const i=t.mediaTypes;if(i.includes("Instream")){const t={slotID:"videoSlot",mediaType:"video",sizes:[[640,480]]};return[...e,t]}if(V(t)){const i={slotID:t.divId,slotName:t.slotName,sizes:t.bannerSizes};return i.sizes.length?[...e,i]:e}if(i.includes("Outstream")){const i={slotID:t.divId,mediaType:"video",sizes:[[640,480]]};return[...e,i]}return[]}),[])}(e);if(0===n.length)return m(`${je} no slot created, not calling fetchbids`,n),void t([]);m(`${je} apsSlots created`,n);let s=!1;setTimeout((()=>{s||(b(`${je} fetchbids did not response before ${De}ms, calling callback`),s=!0,t([]))}),De),i.fetchBids({slots:n},(e=>{s||(s=!0,t(e))})),p(`${je} called fetchBids`,n)}initAps(e,t){if(Be){De=e+1400,m(`${je} configuring failsafe timeout to ${De}`);const i=Ve(this.pubstackWindow);if(!i)return void b(`${je} cannot find apstag on the page`);const n=t?.config;i.init({pubID:this.apsPubId,adServer:"googletag",bidTimeout:e,deals:!0,videoAdServer:"DFP",schain:n},(()=>{m(`${je} apstag init done`),ke(me.APSTAG_READY)})),Me=!0}else p(`${je} apstag init skipped`)}}function ze(e,t,i,n=(()=>!0)){return new Promise(((s,a)=>Fe(e,t,i,s,a,n)))}function Fe(e,t,i,n,s,a){if(e[t])try{a(e[t])?n():setTimeout((()=>Fe(e,t,i,n,s,a)),i)}catch(e){s(e)}else setTimeout((()=>Fe(e,t,i,n,s,a)),i)}const He="[GAM]",Ge="pbstck_ab_test",Ke="xp_variant",qe=[3,1];let Ye=!1;const Xe=[],Je=50;function Qe(e,i,n,s,a){(function(e){return ze(e,"googletag",Je,(e=>e.apiReady??!1))})(e).then((()=>{p(`${He} googletag ready, starting initialization`),e.googletag.pubads().disableInitialLoad(),s?.disableSingleRequest?m(`${He} single request disabled`):e.googletag.pubads().enableSingleRequest()||v("unable to enable single request"),function(e,i,n){const s=e.googletag.pubads();i.forEach(((e,t)=>{e&&s.setTargeting(t,e)}));const a=C(e);m("[targetings] setting page level targetings from meta declaration",a),Object.keys(a).forEach((e=>{s.setTargeting(e,a[e])})),s.setTargeting(t,"1");const r=se.getInstance().grapeshotValues;r?.length&&(m(`${He} grapeshot: setting gs_cat gam targeting values`,r),s.setTargeting("gs_cat",r));const o=n?.filter((e=>e.gamTargeting));o?.length&&(m(`${He} setting ab_test gam targeting values`,o),o.forEach((e=>{s.setTargeting(e.name,e.value)})));if(se.getInstance().uprTested){m(`${He} setting xp_variant/pbstck_ab_test gam targeting value any previous value will be ignored`);const e=`floor_optimization:${se.getInstance().uprEnabled}`;s.setTargeting(Ke,e),s.setTargeting(Ge,e)}}(e,i,a),s&&s.ppidValue&&e.googletag.pubads().setPublisherProvidedId(s.ppidValue),s&&s?.threadYieldConfig&&e.googletag.setConfig({threadYield:s.threadYieldConfig}),e.googletag.enableServices(),n?.lazyLoadingGoogle?.googleFetchMarginPercent&&n?.lazyLoadingGoogle?.googleRenderMarginPercent&&e.googletag.pubads().enableLazyLoad({fetchMarginPercent:n.lazyLoadingGoogle.googleFetchMarginPercent,renderMarginPercent:n.lazyLoadingGoogle.googleRenderMarginPercent,mobileScaling:n.lazyLoadingGoogle.googleMobileScaling}),e.googletag.pubads().setCentering(!0),p("googletag initialized"),Ye=!0,Xe.forEach((e=>e())),ke(me.GOOGLETAG_READY),m("GAM","googletag slotRenderEnded listener added"),e.googletag.pubads().addEventListener("slotRenderEnded",Ze),e.googletag.pubads().addEventListener("slotResponseReceived",et)}))}const Ze=e=>{const t=e.slot,i=t.getSlotElementId();Se(i,ve.SLOT_RENDER_ENDED_TIME),function(e,t){de(t,ae),de(t,re),m(`removed price rule targetings (${re} & ${ae}) from slot ${e}`)}(i,t),m(`slot render ended for ${i}`)},et=e=>{const t=e.slot.getSlotElementId();m(`slot response received for ${t}`),Se(t,ve.SLOT_RESPONSE_RECEIVED_TIME)};function tt(e,t){for(const i of e.getTargetings()){const n=H(i),s=i.key;t.setTargeting(s,n),m(`${He} adding targeting (${s}, ${n}) to adunit ${e.divId}`)}t.setTargeting("ad_adunitname",[e.adServerAdUnitName])}function it(e){Ye?e():Xe.push(e)}class nt{constructor(e,t){this.externalTargetingDeclarations=[],this.googletagSlotsInitialized={},this.pubstackWindow=e,this.prebidOrderIds=t}prebidReady(){}init(e,t,i,n){Qe(this.pubstackWindow,e,t,i,n)}declareAdUnits(e){return this.declareGoogleSlots(e)}registerExternalTargetingDeclaration(e){this.externalTargetingDeclarations.push(e)}clean(){this.externalTargetingDeclarations=[],this.executeWhenAdServerReady((()=>{p(`${He} cleaning slots`,this.pubstackWindow.googletag.pubads().getSlots().map((e=>e.getSlotElementId())),this.pubstackWindow.googletag.pubads().getSlots());const e=[];this.pubstackWindow.googletag.pubads().getSlots().forEach((t=>{const i=this.pubstackWindow.googletag.destroySlots([t]);m(`${He} slot ${t.getSlotElementId()} destroyed ? ${i}`),i||(e.push(t),p(`${He} slot ${t.getSlotElementId()} not destroyed, retrying later`))})),e.length?v(`${He} unable to destroy slot ${st(e)}`):m(`${He} all slots destroyed`),this.pubstackWindow.googletag.pubads().removeEventListener("slotRenderEnded",Ze),this.pubstackWindow.googletag.pubads().removeEventListener("slotResponseReceived",et),Xe.splice(0)}))}setPbjsTargetings(e,t){e?(m(`${He} try to put pbjs targeting keys for ${t.map((e=>e.divId)).join(",")}`),t.forEach((t=>{const i=this.getSlot(t,"setPbjsTargetings");i&&function(e,t,i){i.getTargetingKeys().forEach((e=>{"bid_"!==e.substring(0,4)&&"hb_"!==e.substring(0,3)||i.clearTargeting(e)}));const n=t.getAdserverTargetingForAdUnitCode(e.divId);for(const t of Object.keys(n)){const s=n[t];oe(s)?i.setTargeting(t,s):b(`[targeting] unable to set targeting ${t}=${s} on adUnit ${e.divId}`)}i.setTargeting("kuc_version","2503171622")}(t,e,i)}))):v(`${He} no pbjs given: unable to put header bidding targetings`)}setApsTargetings(e,t){var i;m(`${He} putting targeting keys for aps auction`,t),i=this.pubstackWindow,Ve(i)?.setDisplayBids()}setRefreshTargeting(e){const t=this.getSlot(e.adUnit,"setPbjsTargetings");var i,n;t&&(i=t,n=e.rank,i.setTargeting("ad_refresh","1"),i.setTargeting("pbstck_refresh","1"),i.setTargeting("ad_refresh-rank",function(e){return e<10?`${e}`:"10-more"}(n)))}callAdServer(e){m(`${He} preparing call to GAM for ${e.map((e=>e.divId)).join(",")}`,e);const t=this.pubstackWindow.googletag.pubads().getSlots(),i=e.map((e=>({adUnit:e,slot:t.find((t=>t.getSlotElementId()===e.divId))}))).filter((e=>!!e.slot));i.forEach((({adUnit:e,slot:t})=>tt(e,t)));const n=i.map((({slot:e})=>e));p(`${He} calling GAM with ${n.length} slots`,st(n)),A("googletag:refresh",{slotIds:n.map((e=>e.getSlotElementId()))}),this.refresh(n)}refresh(e){e.every((e=>this.googletagSlotsInitialized[e.getSlotElementId()]))?this.pubstackWindow.googletag.pubads().refresh(e):setTimeout((()=>this.refresh(e)),50)}executeWhenAdServerReady(e){Ye?e():Xe.push(e)}renderListener(e){it((()=>{this.renderListenerCallback=t=>{const i=t.slot,n=t.campaignId,s={divId:i.getSlotElementId(),creativeId:t.creativeId,lineItemId:t.lineItemId??t.sourceAgnosticLineItemId,orderId:n,size:at(t),isEmpty:t.isEmpty,advertiserId:t.advertiserId};if(n&&this.prebidOrderIds.includes(n)){const e=i.getTargeting(ce);e&&(s.hb_bidder=Array.isArray(e)?e[0]:e);const t=i.getTargeting(le);t&&t[0]&&(s.size=L(t[0]));const n=i.getTargeting(ue);n&&(s.hb_mediaType=Array.isArray(n)?n[0]:n)}e(s)},this.pubstackWindow.googletag.pubads().addEventListener("slotRenderEnded",this.renderListenerCallback)}))}removeRenderListener(){this.renderListenerCallback&&(m("GAM","removing render listener"),this.pubstackWindow.googletag.pubads().removeEventListener("slotRenderEnded",this.renderListenerCallback))}getSlot(e,t){const i=this.pubstackWindow.googletag.pubads().getSlots().filter((t=>t.getSlotElementId()===e.divId));if(0!==i.length)return i.length>1&&v(`${He} multiple slot found for adunit ${e.divId} on operation ${t}`),i[0];v(`${He} slot not found for adunit ${e.divId} on operation ${t}`)}declareGoogleSlots(e){return new Promise((t=>{it((()=>{const i=e.sort(B),n=[],s=[];i.forEach((e=>{if("interstitial"===e.outOfPageType){const t=window.googletag.defineOutOfPageSlot(e.adUnitPath,googletag.enums.OutOfPageFormat.INTERSTITIAL);t?(t.addService(googletag.pubads()),n.push(t),s.push(t),tt(e,t)):v(`${He} unable to create interstitial slot for ${e.divId}`)}else if(document.getElementById(e.divId)){let t;if("default"===e.outOfPageType)t=window.googletag.defineOutOfPageSlot(e.adUnitPath,e.divId)?.addService(googletag.pubads());else{const i=[qe,...e.bannerSizes??[],...e.extraAdServerSizes??[]];W(e)&&i.push([1800,1e3]),t=window.googletag.defineSlot(e.adUnitPath,i,e.divId)?.addService(googletag.pubads())}t?(m(`${He} slot created, displaying ${e.divId}`),googletag.display(e.divId),s.push(t)):v(`${He} unable to create slot for ${e.divId}`)}else m(`${He} unable to display ${e.divId}, the div does not exist`)}));const a=s.map((e=>`\n${e.getSlotElementId()} (${e.getAdUnitPath()})`)).join();if(p(`${He} slots defined for ${a}`),n.forEach((e=>{m(`${He} calling googletag.display for interstitial slot`,e),googletag.display(e)})),n.length>0&&googletag.pubads().refresh(n),this.externalTargetingDeclarations.length>0){const e=performance.now();let i;const n=new Promise((e=>{i=setTimeout((()=>{b(`${He} failsafe promise for external targeting declarations, some targetings may be missing`),e()}),3e3)}));Promise.race([Promise.all(this.externalTargetingDeclarations.map((e=>e(s)))).then((()=>{i&&clearTimeout(i)})),n]).then((()=>{const i=performance.now();m(`${He} external targetings declarations took ${i-e}ms`),s.forEach((e=>{this.googletagSlotsInitialized[e.getSlotElementId()]=!0})),t()}))}else s.forEach((e=>{this.googletagSlotsInitialized[e.getSlotElementId()]=!0})),t()}))}))}}function st(e){return e.map((e=>`{id:${e.getSlotElementId()},path:${e.getAdUnitPath()}}`)).toString()}function at(e){return e.size}function rt(e,t){const i=t?.gamConfig?.networkId??e.networkId,n=t?.gamConfig?.mcmIds&&t?.gamConfig?.mcmIds.length>0?t?.gamConfig?.mcmIds:e.mcmIds;return i?n?[i,...n].join(","):i:""}const ot="[instream] [Dailymotion]";class dt{constructor(e,t,i){this.dmIsInitialized=!1,this.dmInitializedQueue=[],this.declaredAdUnit=new Map,this.renderCallbacks=[],this.pubstackWindow=e,this.pageContext=t,this.device=i}renderListener(e){this.renderCallbacks.push(e)}removeRenderListener(){}setRefreshTargeting(){}init(){(function(e){return ze(e,"dailymotion",50)})(this.pubstackWindow).then((()=>{this.dmIsInitialized=!0,this.dmInitializedQueue.forEach((e=>e())),this.dmInitializedQueue=[]}))}prebidReady(){}clean(){this.declaredAdUnit.forEach((e=>e.cleanTargetings())),this.declaredAdUnit.clear()}registerExternalTargetingDeclaration(){}async declareAdUnits(e){for(const t of e)if(this.declaredAdUnit.has(t.divId))b(`${ot} ${t.divId} already declared`);else if(M(t)){const e=new ht(t,this.device,this.pubstackWindow);this.declaredAdUnit.set(t.divId,e),this.executeWhenAdServerReady((()=>{e.prepareAdUnit(),e.onImpression((()=>{this.renderCallbacks.forEach((e=>e({divId:t.divId,size:null,lineItemId:null,orderId:null,isEmpty:!1,advertiserId:null})))}))}))}else b(`${ot} ${t.divId} is not an Instream ad unit`)}setApsTargetings(e,t){if(0===t.length)return;const i=e.map((e=>this.declaredAdUnit.get(e.divId))).filter((e=>void 0!==e));p(`${ot} putting targeting keys for aps auction of winning bidder`,t[0]);try{const e=t[0].helpers?.qsParams();if(e)return void i.forEach((t=>t.pushTargeting(e.slice(1))));const n=t[0].qsParams;if(n)return void i.forEach((e=>e.pushTargeting(n.slice(1))))}catch(e){v(`${ot} error setting APS targetings`,e)}}executeWhenAdServerReady(e){this.dmIsInitialized?e():this.dmInitializedQueue.push(e)}async callAdServer(e){for(const t of e){const e=this.declaredAdUnit.get(t.divId);e?await e.callAdServer(this.pageContext):v(`${ot} no handler found for ${t.divId}`)}}setPbjsTargetings(e,t){if(e)for(const i of t){const t=this.declaredAdUnit.get(i.divId);if(t){p(`${ot} put pbjs targeting keys for ${i.divId}`);const n=e.getAdserverTargetingForAdUnitCode(i.divId);for(const e of Object.keys(n)){const s=n[e];oe(s)?t.pushTargeting(`${e}=${s}`):b(`${ot} [targeting] unable to set targeting ${e}=${s} on adUnit ${i}`)}}else v(`${ot} no handler found for ${i.divId}`)}else v(`${ot} no pbjs given: unable to put header bidding targetings`)}cleanTargetings(){this.declaredAdUnit.forEach((e=>e.cleanTargetings()))}}function ct(e){const t=H(e);return`${e.key}=${"string"==typeof t?t:t.join(",")}`}function lt(e,t,i,n){const s=function(e){return e.getTargetings().map(ct)}(e);p(`${ot} adUnitTargetings`,s);const a=Array.from(i.entries()).filter((([,e])=>!!e)).map((([e,t])=>`${e}=${t}`)),r=s.concat(t).concat(a).join("&"),o={...e.instreamParams.vast,vpmute:n.playerIsMuted?1:0},d=Object.keys(o).map((function(e){return`${e}=${o[e]}`})).join("&"),c=e.instreamParams?.adDeactivationContext;let l=!1;if(c){const e=i.get(c.key);l=!!e&&c.values.includes(e)}const u={dynamiciu:e.adUnitPath,keyvalues:r,keyvalues2:d};return l?{...u,premium:"true"}:u}function ut(e,i){const n=[],s=C(i);Object.keys(s).forEach((e=>{const t=s[e].join(",");n.push(`${e}=${t}`)})),n.push(`${t}=1`),n.push(`device=${e}`);const a=se.getInstance().grapeshotValues;a?.length&&n.push(`gs_cat=${a.join(",")}`);try{const e=JSON.parse(i.localStorage._pdfps).slice(0,250).join(",");""!==e?n.push(`permutive=${e}`):p(`[${ot}] no permutive targeting found`)}catch(e){p(`[${ot}] error reading permutive targeting, ${e}`)}return n}class ht{constructor(e,t,i){this.targetings=[],this.configSetOnce=!1,this.adReadyToFetchReceivedOnce=!1,this.adReadyToFetchCallback=()=>{},this.impressionCallbacks=[],this.adUnit=e,this.device=t,this.pubstackWindow=i,this.targetings=ut(t,i)}pushTargeting(e){this.targetings.push(e)}async callAdServer(e){const t=this.adUnit.divId;p(`${ot} ${t} call ad server`);const i=await(this.pubstackWindow.dailymotion?.getPlayer(t));if(!i)return void v(`${ot} no player found for ${t}`);p(`${ot} ${t} player:`,i);const n=await i.getState();this.customConfig=lt(this.adUnit,this.targetings,e,n),p(`${ot} generated customConfig for ${t}`,this.customConfig),!this.configSetOnce&&this.adReadyToFetchReceivedOnce?(p(`${ot} ${t} event AD_READYTOFETCH already received, setting customConfig"`,this.customConfig),this.customConfig&&(i.setCustomConfig(this.customConfig),this.configSetOnce=!0)):this.adReadyToFetchCallback=()=>{p(`${ot} ${t} event AD_READYTOFETCH callback, setting customConfig"`,this.customConfig),this.customConfig&&i.setCustomConfig(this.customConfig)}}prepareAdUnit(){const e=this.pubstackWindow.dailymotion;e?e.getPlayer(this.adUnit.divId).then((e=>{e.on(this.pubstackWindow.dailymotion?.events.AD_READYTOFETCH,(()=>{p(`${ot} ${this.adUnit.divId} event AD_READYTOFETCH received`),this.adReadyToFetchReceivedOnce||(this.adReadyToFetchReceivedOnce=!0),this.adReadyToFetchCallback()})),e.on(this.pubstackWindow.dailymotion?.events.AD_IMPRESSION,(()=>{this.impressionEvent()}))})):v(`${ot} unable to get dailymotion on the page`)}cleanTargetings(){this.targetings.splice(0),this.targetings.push(...ut(this.device,this.pubstackWindow))}impressionEvent(){this.impressionCallbacks.forEach((e=>e()))}onImpression(e){this.impressionCallbacks.push(e)}}const gt="[Local-AdServer]";class ft{constructor(){this.managedDivs=[],this.callbacks=[]}prebidReady(e){this.pbjs=e}callAdServer(e){this.pbjs?(p(`${gt} callAdServer`,e),e.forEach((e=>{if(this.managedDivs.includes(e.divId)){const t=this.pbjs.getHighestCpmBids(e.divId);if(t.length>0){const e=t[0];try{!function(e,t){if(p(`${gt} renderOne`,t),!t||!t.adId)throw new Error(`${gt} no winning bid or adId provided ${t}`);{const i=document.getElementById(t.adUnitCode);if(!i)throw new Error(`${gt} unable to find div ${t.adUnitCode}`);{const n=i.getElementsByTagName("iframe");p(`${gt} found ${n.length} iframe to remove`),Array.from(n).forEach((e=>e.remove()));const s=document.createElement("iframe");s.scrolling="no",s.frameBorder="0",s.marginHeight="0",s.name=`prebid_ads_iframe_${t.adUnitCode}`,s.title="3rd party ad content",s.sandbox?.add("allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"),s.setAttribute("aria-label","Advertisment"),s.style.setProperty("border","0"),s.style.setProperty("margin","0"),s.style.setProperty("overflow","hidden"),i.appendChild(s);const a=s.contentWindow?.document;if(!a)throw new Error(`${gt} error while getting document from iframe`);{e.renderAd(a,t.adId);const i="/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */button,hr,input{overflow:visible}progress,sub,sup{vertical-align:baseline}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}details,main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{padding:.35em .75em .625em}legend{color:inherit;display:table;max-width:100%;white-space:normal}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden],template{display:none}",n=a.createElement("style");n.appendChild(a.createTextNode(i)),a.head.appendChild(n)}}}}(this.pbjs,e);const t={divId:e.adUnitCode,isEmpty:!1,hb_bidder:e.adserverTargeting.bid_bidder,hb_mediaType:e.adserverTargeting.bid_mediatype,size:e.adserverTargeting.bid_size?L(e.adserverTargeting.bid_size):null,advertiserId:null,lineItemId:null,orderId:null,creativeId:null};this.renderListenerCallback(t)}catch(e){v(`${gt} unable to render: ${e}`)}}else{const t={divId:e.divId,isEmpty:!0,size:null,advertiserId:null,lineItemId:null,orderId:null,creativeId:null};this.renderListenerCallback(t)}}}))):v(`${gt} pbjs is not available`)}clean(){p(`${gt} cleanAdUnits - START`),this.managedDivs.forEach((e=>{const t=document.getElementById(e);if(t){const e=t.getElementsByTagName("iframe");p(`${gt} found ${e.length} iframe to remove`),Array.from(e).forEach((e=>e.remove()))}})),this.managedDivs=[],p(`${gt} cleanAdUnits - END`,this.managedDivs)}declareAdUnits(e){return p(`${gt} declareAdUnits (adUnits, managedDivs)`,e,this.managedDivs),e.forEach((e=>{this.managedDivs.includes(e.divId)?v(`${gt} adUnit already declared ${e.divId}`):this.managedDivs.push(e.divId)})),Promise.resolve(void 0)}executeWhenAdServerReady(e){p(`${gt} executeWhenAdServerReady`,e),e()}init(e,t,i,n){p(`${gt} init (nothing to do), this are the input params:`,e,t,i,n)}removeRenderListener(){p(`${gt} removeRenderListener`),this.callbacks=[]}renderListenerCallback(e){p(`${gt} renderListenerCallback called event:`,e),this.callbacks.forEach((t=>t(e)))}renderListener(e){p(`${gt} renderListener`,e),this.callbacks.push(e)}setApsTargetings(){}setPbjsTargetings(){}setRefreshTargeting(){}registerExternalTargetingDeclaration(){}}function pt(e,t,i,n){navigator.sendBeacon(`https://intake.pbstck.com/v1/intake/gam-impression?sId=${t}&tId=${e}&c=1&s=${n}&v=${i}`)}class mt{constructor(){this.name="AdServer",this.scriptLoaded=!1}get adServer(){return this._adServer}get instreamAdServer(){return this._instreamAdServer}get externalApiAdServer(){return this._externalApiAdServer}async onAfterConsentRefused({config:e}){if(!this._adServer)switch(e.consentlessMode){case"GAM":this._adServer=new nt(window,e.globalRefreshConfig?.prebidOrderIds||[]),this._adServer.renderListener((t=>{t.isEmpty||pt(e.tagId,e.stack.scopeId,e.kleanadsVersion,e.stackVersion)})),this.scriptLoaded||(R("https://pagead2.googlesyndication.com/tag/js/gpt.js"),this.scriptLoaded=!0);break;case"local":this._adServer=new ft;break;default:p("AdServerModule - onAfterConsentRefused - no ad server configured for consentless")}}async onAfterConsentAccepted({config:e}){this._adServer||(this._adServer=new nt(window,e.globalRefreshConfig?.prebidOrderIds||[]),this._adServer.renderListener((t=>{t.isEmpty||pt(e.tagId,e.stack.scopeId,e.kleanadsVersion,e.stackVersion)})),this.scriptLoaded||(R("https://securepubads.g.doubleclick.net/tag/js/gpt.js"),this.scriptLoaded=!0))}async onStackConfigLoad({config:e,stackConfig:t}){!this._externalApiAdServer&&t.adUnits.some((e=>e.externalAdServer||e.isInstream))&&(this._externalApiAdServer=new Ne(window,e.pageContext,e.device)),this._adServer?(this._adServer.init(e.pageContext,t.lazyLoading,t.gamConfig,t.runningABTest),"dailymotion-v3"===e.instreamType&&t.adUnits.find((e=>e.isInstream))&&(this._instreamAdServer=new dt(window,e.pageContext,e.device),this._instreamAdServer.init(e.pageContext,t.lazyLoading,t.gamConfig,t.runningABTest))):v("AdServerModule - onStackConfigLoad - no ad server configured")}async onPrepareAdUnits({toPreparedAdUnits:e}){const t=(e??[]).filter((e=>!e.externalAdServer||!M(e))),i=t.filter((e=>!e.mediaTypes.includes("Instream")||!M(e))),n=t.filter((e=>e.mediaTypes.includes("Instream")||M(e))),s=(e??[]).filter((e=>e.externalAdServer||M(e)));return this._externalApiAdServer?.declareAdUnits(s),this._instreamAdServer&&n.length>0?Promise.all([this._instreamAdServer.declareAdUnits(n),this._adServer?.declareAdUnits(i)]).then((()=>{})):this._adServer?.declareAdUnits(i)}async onAfterPrebidReady({prebid:e}){const t=e.getPbjs();this._adServer?this._adServer.prebidReady(t):v("AdServerModule - onAfterPrebidReady - no ad server configured")}async clean(){this._externalApiAdServer?.clean(),this._adServer?this._adServer.clean():v("AdServerModule - clean - no ad server configured")}}class bt{constructor(){this.name="Aps"}get aps(){return this._aps}async onStackConfigLoadSync({stackConfig:e}){this._aps=function(e,t){if(e&&t.some((e=>e.headerBiddingEnabled&&(e.isInstream||e.canOutstream||e.sizes.some((e=>"fluid"!==e)))))){p(`${je} downloading amazon apstag`);const t=new We(window,e);return t.load(),t}}(e.tamConfig?.apsPubId,e.adUnits)}async onStackConfigLoad({config:e,stackConfig:t}){const i=t.tamConfig?.disableSchain,n=i?void 0:t.prebidConfig?.pbjsConfig.schain;this._aps?.initAps(t.prebidConfig?.adCallTimeout??e.adCallTimeout,n)}async clean(){}}const vt="[ModuleService]";class yt{constructor(e,t){this.modules=t,this.lifecycleState={config:e},m(`${vt} ${t.length} modules registered: ${t.map((e=>e.name)).join(", ")}`);const i=this.modules.filter((e=>!!e.load));m(`${vt} Loading modules, ${i.length} modules to load`),this.loadModules(i)}getModules(){return this.modules}getLoadedModuleInstance(e){return this.modules.find((t=>t instanceof e))}loadModules(e){e.length&&m(`${vt} Loading modules: ${e.map((e=>e.name)).join(", ")}`);for(const t of e)try{t.load?.(this.lifecycleState)}catch(e){v(`${vt} Error while loading module ${t.name}`,e)}}async modulesDispatchEvent(e,...t){this.lifecycleState={...this.lifecycleState,...t[0]};const i=this.lifecycleState,n=this.modules.filter((t=>t[e]&&"function"==typeof t[e]||t[`${e}Sync`]&&"function"==typeof t[`${e}Sync`]));m(`${vt} event call: ${e}. ${n.map((e=>e.name)).join(", ")}`);const s=[];for(const t of n){const n=t[`${e}Sync`]?.(i);n instanceof Promise&&s.push(n)}return await Promise.all(s),new Promise((t=>{const s=[];for(const t of n){const n=t[e]?.(i);n instanceof Promise&&s.push(n)}t(s)}))}async modulesCleanUp(){const e=this.modules;e.length&&m(`${vt} Cleaning modules: ${e.map((e=>e.name)).join(", ")}`);for(const t of e)await t.clean(this.lifecycleState);this.modules=[]}}const At=[];for(let e=0;e<256;++e)At.push((e+256).toString(16).slice(1));let It;const kt=new Uint8Array(16);var Ct={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function St(e,t,i){if(Ct.randomUUID&&!e)return Ct.randomUUID();const n=(e=e||{}).random??e.rng?.()??function(){if(!It){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");It=crypto.getRandomValues.bind(crypto)}return It(kt)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(e,t=0){return(At[e[t+0]]+At[e[t+1]]+At[e[t+2]]+At[e[t+3]]+"-"+At[e[t+4]]+At[e[t+5]]+"-"+At[e[t+6]]+At[e[t+7]]+"-"+At[e[t+8]]+At[e[t+9]]+"-"+At[e[t+10]]+At[e[t+11]]+At[e[t+12]]+At[e[t+13]]+At[e[t+14]]+At[e[t+15]]).toLowerCase()}(n)}const wt="[pbjs][initPbjs][sublime]";function Et(e,t){const i=function(e,t){const i=e.filter((e=>e.bidders.find((e=>$t(e.bidder,t)))));if(0===i.length)return;if(i.length>1)return void b(`${wt} Sublime bidder has multiple adUnits ${i.map((e=>e.divId)).join("")}`,i);const n=i[0].bidders.find((e=>$t(e.bidder,t)))?.params;if(n){const e=n.zoneId;if(e&&("string"==typeof e||"number"==typeof e))return`${e}`}else b(`${wt} unable to extract Sublime zoneId from ${i[0].divId}`,i[0])}(e,t);if(i){const e=`https://sac.ayads.co/sublime/${i}/prebid`;m(`${wt} loading sublime script ${e}`),U(e)}}function Tt(e,t){const i=function(){window.sublime=window.sublime||{};const e=window.sublime.notifyId||St();return window.sublime.notifyId=e,e}();return $t(e.bidder,t)?(m(`${wt} generate notify id`),{...e,params:{...e.params,notifyId:i}}):e}function $t(e,t=[]){return"sublime"===e||t?.some((t=>"sublime"===t.bidderSource&&t.bidderLabel===e))}function _t(e,t){return e.flatMap((e=>Rt(e,t)))}function Rt(e,t){return[e,...t?.filter((t=>t.bidderSource===e)).map((e=>e.bidderLabel))||[]]}const Ut=(e,t)=>e.delimiter===t.delimiter&&"|"===e.delimiter&&e.fields.length+1===t.fields.length&&e.fields.every(((e,i)=>e===t.fields[i]));function Pt(e){const t=e.flatMap((e=>e.bidders)).map((e=>e.bidder));return[...new Set(t)]}const Ot=1900,xt="[pbjs]";function Lt(e,t){const i=e.cpm,n=i>0?function(e,t){let i;if(t.forEach((t=>{const n=parseFloat(t.max);n>e&&(i=!i||n<parseFloat(i.max)?t:i)})),!i)return Math.max(...t.map((e=>parseFloat(e.max))));const n=parseFloat(i.increment);return parseFloat((Math.floor(e/n)*n).toFixed(2))}(i,t):0,s=Math.max(...t.map((e=>parseFloat(e.max))));return Math.min(n,s).toFixed(2)}function Nt(e,t,i,n,s){const a=t.filter((e=>e.headerBiddingEnabled&&e.bidders.length>0));m(`${xt} using only ad units with prebid enabled`,a);const r=a.flatMap((t=>{if(t.dynamicPrebidFloor){const i=e.getHighestCpmBids(t.divId);if(i.length>0){const e=i[0].cpm;return ie(t,{newFloor:Math.floor(100*e)/100,multiformatBidders:s})}}return ie(t,{multiformatBidders:s})}));if(r.length>0){const t=n?.timeout,s=n?.labels,o=function(e){const t=e.getConfig("bidderTimeout");if(t){if("number"==typeof t)return t+Ot;if(parseInt(t))return parseInt(t)+Ot}return 3e3+Ot}(e);let d=!1;setTimeout((()=>{d||(b(`${xt} prebid requestBids did not response before ${o}ms, calling callback`),d=!0,i())}),o);const c=()=>{d||(d=!0,i())};if(!(e=>1===new Set(e.map((e=>e.floors)).filter((e=>void 0!==e)).map((e=>[...e.schema.fields,e.schema.delimiter].join("")))).size)(a)){const e=(e=>e.map((e=>e.floors)).filter((e=>void 0!==e)).map((e=>e.schema)).reduce(((e,t)=>(e?t.fields.length>e.fields.length&&(e=t):e=t,e)),void 0))(a);e&&(m(`${xt} floors schema are not the same, unifying schema`),((e,t)=>{e.forEach((i=>{if(i.floors&&i.floors?.schema!==t){const n=i.floors.schema;if(Ut(n,t)){i.floors.schema=t;const e=i.floors.values;i.floors.values={};for(const t of Object.keys(e))i.floors.values[`${t}|*`]=e[t]}else v(`Unable to unify schema for adUnits ${e.map((e=>e.divId)).join(", ")}.`,t)}}))})(a,e))}e.requestBids({timeout:t,adUnits:r,bidsBackHandler:c,labels:s}),p(`${xt} called requestBids`,r)}else p(`${xt} no prebid auction to start for [${t.map((e=>e.divId)).join(",")}]`),i()}function Dt(e,t,i){const n=e.flatMap((e=>e.bidders)).map((e=>e.bidder)),s=[...new Set(n)],a=[t,...i?.filter((e=>e.bidderSource===t)).map((e=>e.bidderLabel))||[]];return s.some((e=>a?.includes(e)))}class jt{constructor(e){this.pbjs=e.getPbjs()}initPbjs(e,t,i,n,s){this.multiformatBidders=s,function(e,t,i,n,s){m(`${xt}[initPbjs] Start prebid initialization`);const{currency:a,userSync:r,priceGranularity:o,bidderAdjustments:d,allowAlternateBidderCode:c,bidderAliases:l,bidderConfigs:u,floors:h,analytics:g,schain:f,outbrain:v,realTimeData:y,allowLocalStorage:A,dsaConfig:I,s2sConfig:k,enableTIDs:C,useBaseGvlid:S}=i;if(e.setConfig(n),a&&(m(`${xt}[initPbjs] set currency config`,a),e.setConfig({currency:a,priceGranularity:"dense"}),o&&(m(`${xt}[initPbjs] set priceGranularity config`,o),e.setConfig({priceGranularity:o}))),k&&(k.bidders=k.bidders?.filter((e=>t.some((t=>t.bidders.some((t=>t.bidder===e))))))??[],m(`${xt}[initPbjs] set prebid server config`,k),e.setConfig({s2sConfig:k})),r){const t=k?.bidders??[],i=_t(["optidigital","richaudience","justpremium","impactify","smilewanted","onetag","connectad","adagio","appnexus","yobee","equativ","teal","smartadserver","bliink"],l??[]),n=t.reduce(((e,t)=>[...e,(l??[]).find((e=>e.bidderLabel===t))?.bidderSource??t]),[]),s=new Set(i.concat(n));if(e.installedModules?.includes("utiqIdSystem")){const e=r.userIds?.find((e=>"utiq"===e.name));e&&(e.name="utiqId")}const a={auctionDelay:50,aliasSyncEnabled:!0,filterSettings:{iframe:{bidders:[...s],filter:"include"},image:{bidders:"*",filter:"include"}},...r};m(`${xt}[initPbjs] set userSync config`,a),e.setConfig({userSync:a})}else{const t=e.getConfig("userSync")||{};t.auctionDelay=50,e.setConfig({userSync:t})}if(v&&(m(`${xt}[initPbjs] set Outbrain config:`,v),e.setConfig({outbrain:v})),y&&(m(`${xt}[initPbjs] set realTimeData config`,y),e.setConfig({realTimeData:y})),h&&(m(`${xt}[initPbjs] set floors config`,h),e.setConfig({floors:h})),g&&(p(`${xt}[initPbjs] enable analytics`,g),e.enableAnalytics(g)),f&&(m(`${xt}[initPbjs] set schain config`,f),e.setConfig({schain:f})),(e.installedModules?.includes("paapi")||e.installedModules?.includes("paapiForGpt"))&&e.setConfig({paapi:{enabled:!0,defaultForSlots:1}}),i.secondaryBidders&&(m(`${xt}[initPbjs] set secondary bidders config`,i.secondaryBidders),e.setConfig({auctionOptions:{secondaryBidders:i.secondaryBidders.secondaryBidders,suppressStaleRender:i.secondaryBidders.suppressStaleRender||!1,suppressExpiredRender:i.secondaryBidders.suppressExpiredRender||!1}})),u){m(`${xt}[initPbjs] set bidder config`,u);for(const t of u)e.setBidderConfig(t)}const w={};if(d){m(`${xt}[initPbjs] set bidder adjustments config`,d);for(const e of d)w[e.bidder]={bidCpmAdjustment:function(t){return t*e.adjustment}}}if(c){m(`${xt}[initPbjs] set allow alternate bidder code config`,c);for(const e of c)w[e.bidder]={...w[e.bidder],allowAlternateBidderCodes:!0,allowedAlternateBidderCodes:e.allowedAlternateBidderCodes||[]}}if(A){for(const e of Pt(t))w[e]={...w[e],storageAllowed:!0};if(l){const e=Array.from(new Set(l.map((e=>e.bidderSource))));for(const t of e)w[t]={...w[t],storageAllowed:!0}}}if(w.standard={adserverTargeting:[{key:ce,val:function(e){return e.bidderCode}},{key:"bid_id",val:function(e){return e.adId}},{key:"bid_cpm",val:function(e){return e.pbCg}},{key:le,val:function(e){return e.size}},{key:ue,val:function(e){return e.mediaType}},{key:"bid_videoId",val:function(e){return e.videoCacheKey}}]},s&&se.getInstance().uprEnabled&&(w.standard={adserverTargeting:[...w.standard.adserverTargeting,{key:"prkv",val:e=>Lt(e,s)},{key:"ad_floor-rule",val:e=>Lt(e,s)}]}),Object.keys(w).length>0&&(e.bidderSettings=w),l){m(`${xt}[initPbjs] set alias bidder`,l);for(const t of l)S?e.aliasBidder(t.bidderSource,t.bidderLabel,{useBaseGvlid:!0}):e.aliasBidder(t.bidderSource,t.bidderLabel)}if(Dt(t,"sublime",l)&&Et(t,l),e.installedModules?.includes("utiqSystem")||e.installedModules?.includes("utiqIdSystem")){const t=localStorage.getItem("utiqPass");if(t)try{const i=JSON.parse(t),n=null!==i?.connectId?.idGraph?.[0].atid;m(`${xt}[initPbjs] set Utiq key values isUtiqPresent=`,n),e.mergeConfig({ortb2:{site:{keywords:"isUtiqPresent="+n}}})}catch(e){b(`${xt}[initPbjs] Utiq config is not valid JSON, ${e}`,t)}}I&&(m(`${xt}[initPbjs] set DSA config`,I),e.mergeConfig({ortb2:{regs:{ext:{dsa:I}}}})),Dt(t,"criteo",l)&&e.setConfig({criteo:{fastBidVersion:"latest"}}),void 0!==C&&(m(`${xt}[initPbjs] setting enableTIDs to`,C),e.setConfig({enableTIDs:C})),se.getInstance().disableGptPreAuction&&e.setConfig({gptPreAuction:{enabled:!1}}),ke(me.PREBID_READY),p(`${xt}[initPbjs] Prebid is initialized`)}(this.pbjs,e,t,i,n)}roundUpToNearestIncrement(e,t){return function(e,t){const i=e.sort(((e,t)=>e.max<t.max?-1:1)),n=i.filter((e=>t<=e.max));if(0===n.length)return p(`${xt}[Price granularity] round up - initial CpmValue : ${t} // rounded value : ${i[i.length-1].max} `),i[i.length-1].max.toFixed(2);const s=n[0].increment;let a=t%s==0?t:t+(s-t%s);const r=t.toString().split("."),o=r.length>1?r[1].split("").length:0;(a-s).toFixed(o)===t.toFixed(o)&&(a=t);const d=a.toFixed(2);return p(`${xt}[Price granularity] round up - initial CpmValue : ${t} // rounded value : ${d} `),d}(e,t)}startPbjsAuction(e,t,i){Nt(this.pbjs,e,t,i,this.multiformatBidders)}getPbjs(){return this.pbjs}}class Bt{constructor(){this.name="Prebid"}get pbjs(){return this._pbjs}async onStackConfigLoadSync({config:e,stackConfig:t}){this._pbjs=await async function(e,t){if(t.some((e=>e.headerBiddingEnabled&&e.bidders.length)))try{const t=await _(e);return new jt(t)}catch(e){return void v("[config] Error while loading the kleanadsPbjs module",e)}}(e.newPrebidUrl,t.adUnits),this._pbjs&&this.aliasWindowPbjs(window,this._pbjs.getPbjs())}async onStackConfigLoad({config:e,stackConfig:t}){if(!t.adUnits.some((e=>e.headerBiddingEnabled&&e.bidders.length)))return;if(!this._pbjs)throw new Error("PrebidModule is not loaded");const i=t?.prebidConfig?.adCallTimeout??e.adCallTimeout,n={...t.prebidConfig.pbjsConfig},s={gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}},a=this._pbjs.getPbjs().installedModules;let r;a.includes("consentManagementUsp")&&(s.usp={cmpApi:"iab",timeout:8e3}),a.includes("consentManagementGpp")&&(s.gpp={cmpApi:"iab",timeout:8e3}),a.includes("anonymisedRtdProvider")&&(s.gdpr.rules=[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["anonymised"]}]),t.prebidConfig?.pbjsConfig?.useCanonicalUrl&&(r=window.document.querySelector("link[rel='canonical']")?.getAttribute("href"));const o={bidderTimeout:i,useBidCache:!0,maxRequestsPerOrigin:6,consentManagement:e.noCmp?void 0:s,enableSendAllBids:!1,pageUrl:r||document.location.href,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache",ignoreBidderCacheKey:!0},timeoutBuffer:400};this._pbjs.initPbjs(t.adUnits,n,o,e.priceRuleBuckets,t.multiformatBidders)}async clean(){this.setDefaultPbjsConfig();const e=this._pbjs?.getPbjs();e&&(e.bidderSettings={})}aliasWindowPbjs(e,t){e.pbjs=t}setDefaultPbjsConfig(){this._pbjs?.getPbjs().setConfig({bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10,priceGranularity:"medium",customPriceBucket:{},mediaTypePriceGranularity:{},bidderSequence:"random",auctionOptions:{},userSync:{syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:50}})}}class Mt{constructor(e,t){this.pubstackWindow=e,this.rule=t}isDivIdMatchingRule(e){const t=document.getElementById(e);if(t){const e=t.getBoundingClientRect();return this.rule(this.pubstackWindow,e)}return!1}}const Vt=(e,t,i)=>{if(function(e){return 0===e.top&&0===e.bottom&&0===e.left&&0===e.right&&0===e.width&&0===e.height}(t))return!1;const n=-i*e.innerHeight,s=(1+i)*e.innerHeight>t.top,a=t.bottom>n;return s&&a};function Wt(e,t,i,n){const s=e.filter((e=>e.roadblock)).filter((e=>!e.mediaTypes.includes("Instream"))).filter((e=>!e.externalAdServer||!M(e))).filter((e=>w(e.divId))),a=e.filter((e=>!e.roadblock)).filter((e=>!e.mediaTypes.includes("Instream"))).filter((e=>!e.externalAdServer||!M(e))).filter((e=>w(e.divId))),r=e.filter((e=>e.mediaTypes.includes("Instream"))).filter((e=>!e.externalAdServer||!M(e))).filter((e=>w(e.divId)));t.executeAdCallRoadblock(s),r.length>0&&i?.executeAdCall(r);const o=function(e){if(e&&e.lazyLoadingKleanads){const t=e.lazyLoadingKleanads.viewportPercent/100;return m(`[lazyloading] lazy loading enabled with ${t} viewports`),(e,i)=>Vt(e,i,t)}}(n);if(o){zt(a,[],new Mt(window,o),t)}else t.executeAdCall(a)}function zt(e,t,i,n){const s=e.filter((e=>!t.includes(e.divId))).filter((e=>e.anchor?.mode||e.outOfPageType||i.isDivIdMatchingRule(e.divId)));n.executeAdCall(s),t.push(...s.map((e=>e.divId))),e.length>t.length&&setTimeout((()=>zt(e,t,i,n)),200)}const Ft="[optimization]",Ht=async e=>{try{const t=await Gt();if(e?.prebidConfig.adCallTimeout){const i=t.getTimeout(e?.prebidConfig.adCallTimeout);m(`${Ft} Ad call timeout optimized from ${e?.prebidConfig.adCallTimeout} to ${i}`),e.prebidConfig.adCallTimeout=i}}catch(e){v(`${Ft} Error while loading optimization engine`,e)}return e},Gt=async()=>new Promise(((e,t)=>{try{const i={env:{}};WebAssembly.instantiateStreaming(fetch("https://cdn-adm.pbstck.com/kleanads/wasm/volt.wasm"),i).then((t=>{m(`${Ft} WebAssembly module loaded successfully`,t),e(t.instance.exports)})).catch((e=>{t(e)}))}catch(e){t(e)}}));class Kt extends TypeError{constructor(e,t){let i;const{message:n,explanation:s,...a}=e,{path:r}=e,o=0===r.length?n:`At path: ${r.join(".")} -- ${n}`;super(s??o),null!=s&&(this.cause=o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>i??(i=[e,...t()])}}function qt(e){return"object"==typeof e&&null!=e}function Yt(e){return qt(e)&&!Array.isArray(e)}function Xt(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Jt(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function Qt(e,t,i,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:a}=t,{type:r}=i,{refinement:o,message:d=`Expected a value of type \`${r}\`${o?` with refinement \`${o}\``:""}, but received: \`${Jt(n)}\``}=e;return{value:n,type:r,refinement:o,key:s[s.length-1],path:s,branch:a,...e,message:d}}function*Zt(e,t,i,n){var s;qt(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]);for(const s of e){const e=Qt(s,t,i,n);e&&(yield e)}}function*ei(e,t,i={}){const{path:n=[],branch:s=[e],coerce:a=!1,mask:r=!1}=i,o={path:n,branch:s,mask:r};a&&(e=t.coercer(e,o));let d="valid";for(const n of t.validator(e,o))n.explanation=i.message,d="not_valid",yield[n,void 0];for(let[c,l,u]of t.entries(e,o)){const t=ei(l,u,{path:void 0===c?n:[...n,c],branch:void 0===c?s:[...s,l],coerce:a,mask:r,message:i.message});for(const i of t)i[0]?(d=null!=i[0].refinement?"not_refined":"not_valid",yield[i[0],void 0]):a&&(l=i[1],void 0===c?e=l:e instanceof Map?e.set(c,l):e instanceof Set?e.add(l):qt(e)&&(void 0!==l||c in e)&&(e[c]=l))}if("not_valid"!==d)for(const n of t.refiner(e,o))n.explanation=i.message,d="not_refined",yield[n,void 0];"valid"===d&&(yield[void 0,e])}class ti{constructor(e){const{type:t,schema:i,validator:n,refiner:s,coercer:a=(e=>e),entries:r=function*(){}}=e;this.type=t,this.schema=i,this.entries=r,this.coercer=a,this.validator=n?(e,t)=>Zt(n(e,t),t,this,e):()=>[],this.refiner=s?(e,t)=>Zt(s(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,i){const n=ni(e,t,{message:i});if(n[0])throw n[0]}(e,this,t)}create(e,t){return function(e,t,i){const n=ni(e,t,{coerce:!0,message:i});if(n[0])throw n[0];return n[1]}(e,this,t)}is(e){return ii(e,this)}mask(e,t){return function(e,t,i){const n=ni(e,t,{coerce:!0,mask:!0,message:i});if(n[0])throw n[0];return n[1]}(e,this,t)}validate(e,t={}){return ni(e,this,t)}}function ii(e,t){return!ni(e,t)[0]}function ni(e,t,i={}){const n=ei(e,t,i),s=function(e){const{done:t,value:i}=e.next();return t?void 0:i}(n);if(s[0]){return[new Kt(s[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,s[1]]}function si(e,t){return new ti({type:e,schema:null,validator:t})}function ai(e){return new ti({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[i,n]of t.entries())yield[i,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Jt(e)}`})}function ri(){return si("boolean",(e=>"boolean"==typeof e))}function oi(e){const t={},i=e.map((e=>Jt(e))).join();for(const i of e)t[i]=i;return new ti({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${i}\`, but received: ${Jt(t)}`})}function di(){return si("never",(()=>!1))}function ci(e){return new ti({...e,validator:(t,i)=>null===t||e.validator(t,i),refiner:(t,i)=>null===t||e.refiner(t,i)})}function li(){return si("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${Jt(e)}`))}function ui(e){const t=e?Object.keys(e):[],i=di();return new ti({type:"object",schema:e||null,*entries(n){if(e&&qt(n)){const s=new Set(Object.keys(n));for(const i of t)s.delete(i),yield[i,n[i],e[i]];for(const e of s)yield[e,n[e],i]}},validator:e=>Yt(e)||`Expected an object, but received: ${Jt(e)}`,coercer(t,i){if(!Yt(t))return t;const n={...t};if(i.mask&&e)for(const t in n)void 0===e[t]&&delete n[t];return n}})}function hi(e){return new ti({...e,validator:(t,i)=>void 0===t||e.validator(t,i),refiner:(t,i)=>void 0===t||e.refiner(t,i)})}function gi(e,t){return new ti({type:"record",schema:null,*entries(i){if(qt(i))for(const n in i){const s=i[n];yield[n,n,e],yield[n,s,t]}},validator:e=>Yt(e)||`Expected an object, but received: ${Jt(e)}`,coercer:e=>Yt(e)?{...e}:e})}function fi(){return si("string",(e=>"string"==typeof e||`Expected a string, but received: ${Jt(e)}`))}function pi(e){const t=di();return new ti({type:"tuple",schema:null,*entries(i){if(Array.isArray(i)){const n=Math.max(e.length,i.length);for(let s=0;s<n;s++)yield[s,i[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${Jt(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function mi(e){const t=Object.keys(e);return new ti({type:"type",schema:e,*entries(i){if(qt(i))for(const n of t)yield[n,i[n],e[n]]},validator:e=>Yt(e)||`Expected an object, but received: ${Jt(e)}`,coercer:e=>Yt(e)?{...e}:e})}function bi(e){const t=e.map((e=>e.type)).join(" | ");return new ti({type:"union",schema:null,coercer(t,i){for(const n of e){const[e,s]=n.validate(t,{coerce:!0,mask:i.mask});if(!e)return s}return t},validator(i,n){const s=[];for(const t of e){const[...e]=ei(i,t,n),[a]=e;if(!a[0])return[];for(const[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Jt(i)}`,...s]}})}function vi(){return si("unknown",(()=>!0))}function yi(e,t,i){return new ti({...e,coercer:(n,s)=>ii(n,t)?e.coercer(i(n,s),s):e.coercer(n,s)})}function Ai(e,t,i={}){return yi(e,vi(),(e=>{const n="function"==typeof t?t():t;if(void 0===e)return n;if(!i.strict&&Xt(e)&&Xt(n)){const t={...e};let i=!1;for(const e in n)void 0===t[e]&&(t[e]=n[e],i=!0);if(i)return t}return e}))}const Ii=ui({bidder:fi(),params:hi(gi(fi(),vi()))}),ki=ui({currency:fi(),schema:ui({delimiter:fi(),fields:ai(fi())}),values:gi(fi(),li())}),Ci=ui({ext:ui({})}),Si=ui({playerSize:bi([pi([li(),li()]),ai(pi([li(),li()]))]),context:hi(fi()),protocols:hi(ai(li())),api:hi(ai(li())),playbackmethod:hi(ai(li())),skip:hi(li()),mimes:hi(ai(fi())),linearity:hi(li()),startdelay:hi(li()),placement:hi(li()),plcmt:hi(li()),maxduration:hi(li()),minduration:hi(li()),playVideoVisibleThreshold:hi(li()),nonViewableBehavior:hi(fi())}),wi=gi(fi(),vi()),Ei=oi(["low","medium","high","auto","dense","custom"]),Ti=ui({buckets:ai(ui({precision:hi(li()),max:li(),increment:li()}))}),$i=bi([pi([li(),li()]),function(e){const t=Jt(e);return new ti({type:"literal",schema:e,validator:i=>i===e||`Expected the literal \`${t}\`, but received: ${Jt(i)}`})}("fluid")]),_i=(Ri=ui({key:fi(),value:hi(fi()),values:hi(ai(fi()))}),Ui="KeyValueTargeting",Pi=e=>!!e.value||!!e.values,new ti({...Ri,*refiner(e,t){yield*Ri.refiner(e,t);const i=Zt(Pi(e,t),t,Ri,e);for(const e of i)yield{...e,refinement:Ui}}}));var Ri,Ui,Pi,Oi;!function(e){e.USE_EXISTING_DIV="useExistingDiv",e.CREATE_NEW_DIV="createNewDiv"}(Oi||(Oi={}));const xi=ui({mode:oi([Oi.USE_EXISTING_DIV,Oi.CREATE_NEW_DIV])}),Li=oi(["default","interstitial"]),Ni=oi(["master","companion","master-1","master-2","master-3"]),Di=mi({sizes:ai($i),divId:fi(),adUnitName:fi(),adServerAdUnitName:fi(),slotName:hi(fi()),bidders:ai(Ii),parallax:Ai(ri(),!1),dynamic:Ai(ri(),!1),targeting:hi(_i),extraTargetings:hi(ai(_i)),anchor:hi(xi),floors:hi(ki),dynamicPrebidFloor:hi(ri()),extraAdServerSizes:hi(ai($i)),headerBiddingEnabled:Ai(ri(),!0),canOutstream:hi(ri()),canNative:hi(ri()),isInstream:hi(ri()),biddersNative:hi(ai(Ii)),biddersOutstream:Ai(ai(fi()),[]),outOfPageType:hi(Li),biddersSkin:hi(ai(fi())),roadblock:hi(Ni),ortb2Imp:hi(Ci),nativeParams:hi(gi(fi(),vi())),instreamParams:hi(ui({startPlayingOption:hi(li()),placement:hi(fi()),skippableAds:hi(ri()),protocols:hi(ai(fi())),mediaTypeParams:hi(Si),params:hi(gi(fi(),fi())),vast:hi(gi(fi(),bi([fi(),li()]))),targetings:hi(gi(fi(),fi())),adDeactivationContext:hi(ui({key:fi(),values:ai(fi())}))})),externalAdServer:hi(ri())}),ji=ui({googleFetchMarginPercent:hi(li()),googleRenderMarginPercent:hi(li()),googleMobileScaling:hi(li())}),Bi=ui({viewportPercent:li()}),Mi=ui({configName:fi(),lazyLoadingGoogle:hi(ji),lazyLoadingKleanads:yi(hi(Bi),ci(Bi),(e=>e??void 0))}),Vi=ui({bidders:Ai(ai(fi()),[]),sizes:Ai(ai($i),[]),timer:yi(hi(li()),ci(li()),(e=>e??void 0))});var Wi;!function(e){e.Stop="stop",e.Continue="continue",e.InstantSecondChance="instantSecondChance"}(Wi||(Wi={}));const zi=mi({adUnitNames:ai(fi()),timer:li(),capping:hi(li()),specificRules:ai(Vi),alwaysInView:hi(ri()),refreshBehaviorOnEmpty:hi(oi([Wi.Stop,Wi.Continue,Wi.InstantSecondChance])),adxTimer:hi(li())}),Fi=ui({adUnitConfig:ai(zi)}),Hi=bi([gi(fi(),vi()),ui({ppid:hi(fi()),userIds:hi(ai(gi(fi(),vi())))})]),Gi=ui({provider:fi(),options:gi(fi(),vi()),includeEvents:hi(ai(fi())),excludeEvents:hi(ai(fi()))}),Ki=ui({bidder:fi(),adjustment:li()}),qi=ui({bidder:fi(),allowedAlternateBidderCodes:ai(fi())}),Yi=ui({bidderLabel:fi(),bidderSource:fi()}),Xi=ui({name:fi(),waitForIt:hi(ri()),params:gi(fi(),vi())}),Ji=ui({auctionDelay:li(),dataProviders:ai(Xi)}),Qi=ui({sendKVTargetings:ri(),biddersBlackList:ai(fi())}),Zi=ui({bidderUrl:hi(fi()),usersyncUrl:hi(fi())}),en=gi(fi(),vi()),tn=ui({aliases:hi(gi(fi(),fi())),cache:hi(gi(fi(),vi())),targeting:hi(en),returnallbidstatus:hi(ri())}),nn=mi({accountId:fi(),adapter:fi(),bidders:hi(ai(fi())),enabled:hi(ri()),endpoint:fi(),extPrebid:hi(tn),syncEndpoint:fi(),timeout:hi(li())}),sn=ui({currency:hi(yi(wi,fi(),(e=>JSON.parse(e)))),userSync:hi(yi(Hi,fi(),(e=>JSON.parse(e)))),sendAdditionalWinningBidTargeting:hi(ri()),analytics:hi(yi(ai(Gi),fi(),(e=>JSON.parse(e)))),bidderConfigs:hi(yi(ai(gi(fi(),vi())),fi(),(e=>JSON.parse(e)))),bidderAdjustments:hi(ai(Ki)),allowAlternateBidderCode:hi(ai(qi)),bidderAliases:hi(ai(Yi)),priceGranularity:hi(yi(bi([Ei,Ti]),fi(),(e=>JSON.parse(e)))),realTimeData:hi(yi(Ji,fi(),(e=>JSON.parse(e)))),floors:hi(yi(gi(fi(),vi()),fi(),(e=>JSON.parse(e)))),schain:hi(yi(gi(fi(),vi()),fi(),(e=>JSON.parse(e)))),allowLocalStorage:hi(Ai(ri(),!0)),targetingBehaviors:hi(Qi),outbrain:hi(Zi),fledgeForGpt:hi(ri()),paapi:hi(gi(fi(),vi())),dsaConfig:hi(gi(fi(),vi())),s2sConfig:hi(nn),enableTIDs:hi(ri())});var an;!function(e){e.DISABLED="DISABLED",e.ENABLED_ALL_SLOTS="ENABLED_ALL_SLOTS"}(an||(an={}));const rn=ui({networkId:li(),adUnitPathConfig:ai(fi()),mcmIds:hi(ai(li())),ppidValue:hi(fi()),threadYieldConfig:hi(oi([an.DISABLED,an.ENABLED_ALL_SLOTS])),disableSingleRequest:hi(ri())}),on=ui({enabled:ri(),measureOnly:hi(ri()),publisherId:fi()}),dn=ui({pubId:fi()}),cn=ui({name:fi(),ratio:li(),configToMerge:hi(ci(ui({adUnits:ai(Di)})))}),ln=ui({name:fi(),ratio:li(),configToMerge:hi(ci(ui({lazyLoading:hi(Mi)})))}),un=ui({name:fi(),ratio:li(),configToMerge:hi(ci(ui({refreshConfig:hi(Fi)})))}),hn=ui({adUnits:ai(Di),lazyLoading:hi(Mi),refreshConfig:hi(Fi),prebidConfig:ui({adCallTimeout:li(),pbjsConfig:sn}),gamConfig:hi(rn),tamConfig:hi(ui({apsPubId:fi(),disableSchain:hi(ri())})),xplnConfig:hi(on),iasConfig:hi(dn),abTest:hi(bi([ai(cn),ai(ln),ai(un)]))});var gn,fn,pn,mn,bn,vn,yn,An,In,kn,Cn,Sn;!function(e){e.firstId="firstId",e.utiqId="utiqId",e.sharedId="sharedId"}(gn||(gn={})),function(e){e.id5id="id5Id"}(fn||(fn={})),function(e){e.INSTREAM="instream",e.OUTSTREAM="outstream"}(pn||(pn={})),function(e){e[e.LINEAR=1]="LINEAR",e[e.NON_LINEAR=2]="NON_LINEAR"}(mn||(mn={})),function(e){e[e.IN_STREAM=1]="IN_STREAM",e[e.IN_BANNER=2]="IN_BANNER",e[e.IN_ARTICLE=3]="IN_ARTICLE",e[e.IN_FEED=4]="IN_FEED",e[e.INTERSTITIAL=5]="INTERSTITIAL"}(bn||(bn={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.ACCOMPANYING_CONTENT=2]="ACCOMPANYING_CONTENT",e[e.INTERSTITIAL=3]="INTERSTITIAL",e[e.NO_CONTENT=4]="NO_CONTENT"}(vn||(vn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ABOVE_THE_FOLD=1]="ABOVE_THE_FOLD",e[e.LOCKED=2]="LOCKED",e[e.BELOW_THE_FOLD=3]="BELOW_THE_FOLD",e[e.HEADER=4]="HEADER",e[e.FOOTER=5]="FOOTER",e[e.SIDEBAR=6]="SIDEBAR",e[e.FULLSCREEN=7]="FULLSCREEN"}(yn||(yn={})),function(e){e[e.VAST_1_0=1]="VAST_1_0",e[e.VAST_2_0=2]="VAST_2_0",e[e.VAST_3_0=3]="VAST_3_0",e[e.VAST_1_0_WRAPPER=4]="VAST_1_0_WRAPPER",e[e.VAST_2_0_WRAPPER=5]="VAST_2_0_WRAPPER",e[e.VAST_3_0_WRAPPER=6]="VAST_3_0_WRAPPER",e[e.VAST_4_0=7]="VAST_4_0",e[e.VAST_4_0_WRAPPER=8]="VAST_4_0_WRAPPER",e[e.DAAST_1_0=9]="DAAST_1_0",e[e.DAAST_1_0_WRAPPER=10]="DAAST_1_0_WRAPPER",e[e.VAST_4_1=11]="VAST_4_1",e[e.VAST_4_1_WRAPPER=12]="VAST_4_1_WRAPPER",e[e.VAST_4_2=13]="VAST_4_2",e[e.VAST_4_2_WRAPPER=14]="VAST_4_2_WRAPPER"}(An||(An={})),function(e){e[e.VPAID_1_0=1]="VPAID_1_0",e[e.VPAID_2_0=2]="VPAID_2_0",e[e.MRAID_1_0=3]="MRAID_1_0",e[e.ORMMA=4]="ORMMA",e[e.MRAID_2_0=5]="MRAID_2_0",e[e.MRAID_3_0=6]="MRAID_3_0",e[e.OMID_1_0=7]="OMID_1_0",e[e.SIMID_1_0=8]="SIMID_1_0",e[e.SIMID_1_1=9]="SIMID_1_1"}(In||(In={})),function(e){e[e.AUTO_PLAY_SOUND_ON=1]="AUTO_PLAY_SOUND_ON",e[e.AUTO_PLAY_SOUND_OFF=2]="AUTO_PLAY_SOUND_OFF",e[e.CLICK_TO_PLAY=3]="CLICK_TO_PLAY",e[e.MOUSE_OVER=4]="MOUSE_OVER",e[e.INVIEW_SOUND_ON=5]="INVIEW_SOUND_ON",e[e.INVIEW_SOUND_OFF=6]="INVIEW_SOUND_OFF",e[e.CONTINUOUS_PLAYBACK=7]="CONTINUOUS_PLAYBACK"}(kn||(kn={})),function(e){e.VIDEO_MP4="video/mp4",e.VIDEO_WEBM="video/webm",e.VIDEO_OGG="video/ogg",e.VIDEO_MPEG="video/mpeg",e.APPLICATION_JAVASCRIPT="application/javascript"}(Cn||(Cn={})),function(e){e[e.NON_SKIPPABLE=0]="NON_SKIPPABLE",e[e.SKIPPABLE=1]="SKIPPABLE"}(Sn||(Sn={}));const wn={playerSize:[[640,480]],context:pn.INSTREAM,api:[In.VPAID_1_0,In.VPAID_2_0,In.MRAID_1_0,In.MRAID_2_0,In.MRAID_3_0,In.OMID_1_0],linearity:mn.LINEAR,mimes:[Cn.VIDEO_MP4,Cn.VIDEO_OGG,Cn.VIDEO_WEBM,Cn.APPLICATION_JAVASCRIPT],maxduration:30,minduration:1,protocols:[An.VAST_1_0,An.VAST_2_0,An.VAST_3_0,An.VAST_4_0,An.VAST_1_0_WRAPPER,An.VAST_2_0_WRAPPER,An.VAST_3_0_WRAPPER,An.VAST_4_0_WRAPPER,An.VAST_4_1,An.VAST_4_1_WRAPPER,An.VAST_4_2,An.VAST_4_2_WRAPPER],startdelay:0,placement:bn.IN_STREAM,plcmt:vn.INSTREAM,playbackmethod:[kn.AUTO_PLAY_SOUND_OFF,kn.CLICK_TO_PLAY,kn.MOUSE_OVER],skip:Sn.SKIPPABLE,skipafter:0,pos:yn.UNKNOWN,minbitrate:1,maxbitrate:6e3},En="[pocOverride]";function Tn(e,t,i){Object.keys(e??{}).some((e=>"scope"!==e&&"sites"!==e&&"stacks"!==e))&&v("Invalid override object",e);const n=e?.stacks?.[i],s=e?.sites?.[t],a=e?.scope;return n??s??a}function $n(e,t){if(t)return t[e]??t.type}function _n(e){const t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop()?.split(";").shift()}class Rn{constructor(e,t){this.stackLoadedConfig={...e,runningABTest:[]},this.pocOverrides=t}withConvertToInstreamAdUnit(){const e=this.pocOverrides.convertToInstreamAdUnits;if(e){const t=[];this.stackLoadedConfig.adUnits.forEach((i=>{const n=e[i.adUnitName];n&&(i.isInstream=!0,i.dynamic=!1,i.parallax=!1,i.anchor=void 0,i.canOutstream=!1,i.biddersOutstream=[],i.floors=n.floors,i.instreamParams={...n.instreamParams,vast:n.instreamParams?.vast||{},mediaTypeParams:{...wn,...n.instreamParams?.mediaTypeParams}},t.push(i.adUnitName))})),"dailymotion-v3"===this.pocOverrides.instreamConfig?.type&&this.stackLoadedConfig.refreshConfig?.adUnitConfig.push({adUnitNames:t,timer:10,specificRules:[],alwaysInView:!0})}return this}withUseNativeAlias(){if(this.pocOverrides.useNativeAlias)for(const e of this.stackLoadedConfig.adUnits){const t=e=>e.bidder.includes("native")||e.bidder.endsWith("_na"),i=e.bidders.filter((e=>t(e)));i.length>0&&(e.biddersNative=i),e.bidders=e.bidders.filter((e=>!t(e)))}return this}withConvertToNativeAdUnit(){const e=this.pocOverrides.convertToNativeAdUnits;return e&&this.stackLoadedConfig.adUnits.forEach((t=>{const i=e[t.adUnitName];if(i){if(t.canNative=!0,i.useNativeTemplate&&this.pocOverrides.nativeParamsTemplate?t.nativeParams=this.pocOverrides.nativeParamsTemplate:t.nativeParams=i.nativeParams,i.useNativeAlias){const e=e=>e.bidder.includes("native")||e.bidder.endsWith("_na");t.biddersNative=t.bidders.filter((t=>e(t))),t.bidders=t.bidders.filter((t=>!e(t)))}i.nativeOnly&&(t.sizes=[],t.extraAdServerSizes?.includes("fluid")?t.extraAdServerSizes=["fluid"]:t.extraAdServerSizes=[],t.isInstream=!1,t.parallax=!1,t.anchor=void 0,t.canOutstream=!1,t.biddersOutstream=[])}})),this}withFirstId(){if(this.pocOverrides?.firstId){const e=function(){const e=new RegExp("(?:(?:^|.*; *)firstid *= *([^;]*).*$)|^.*$","i"),t=document.cookie.match(e);return t&&t[1]?decodeURIComponent(t[1]):void 0}();if(e){const t=this.stackLoadedConfig.prebidConfig.pbjsConfig.userSync?.userIds??[];t.push({name:"pubProvidedId",params:{eids:[{source:"first-id.fr",uids:[{id:e,atype:1,ext:{stype:"ppuid"}}]}]}}),this.stackLoadedConfig.prebidConfig.pbjsConfig.userSync={...this.stackLoadedConfig.prebidConfig.pbjsConfig.userSync,userIds:t}}}return this}withId5Id(){if(this.pocOverrides?.id5id){const e=localStorage.getItem(this.pocOverrides.id5id.pd);e&&(this.stackLoadedConfig.prebidConfig.pbjsConfig.userSync?.userIds??[]).forEach((t=>{"id5Id"===t.name&&(t.params||(t.params={}),t.params.pd=e)}))}return this}withConvertToInterstitialAdUnit(){const e=this.pocOverrides.convertToInterstitialAdUnits;return e&&this.stackLoadedConfig.adUnits.forEach((t=>{e.includes(t.adUnitName)&&(t.outOfPageType="interstitial",p(`Interstitial adUnit found: ${t.adUnitName}`))})),this}withSkinRenderingSettings(e,t){const i=this.pocOverrides?.skinRenderingSettings,n=i?.stackLevel?.[t],s=i?.siteLevel?.[e];return s?.disableSkinBids||n?.disableSkinBids?this.stackLoadedConfig.adUnits=this.stackLoadedConfig.adUnits.map((e=>({...e,sizes:e.sizes.filter((e=>!z(e,[1800,1e3])))}))):(s?.biddersOverride||n?.biddersOverride)&&(this.stackLoadedConfig.adUnits=this.stackLoadedConfig.adUnits.map((e=>e.sizes.some((e=>z(e,[1800,1e3])))?{...e,biddersSkin:n?.biddersOverride??s?.biddersOverride}:e))),this}withPpidSolution(e,t){const i=Tn(this.pocOverrides?.ppidSolutions,e,t);if(i){const e=Array.isArray(i.ppidSolution)?i.ppidSolution:[i.ppidSolution],{type:t,value:n}=function(e){for(const i of e)switch(i){case gn.firstId:return{type:"prebid",value:"first-id.fr"};case gn.sharedId:return{type:"prebid",value:"pubcid.org"};case gn.utiqId:return{type:"prebid",value:"utiq.com"};case fn.id5id:{const e=localStorage.getItem("id5id");if(e)return{type:"other",value:(t=e,JSON.parse(decodeURIComponent(t)).gp)};break}default:{let e=localStorage.getItem(i);if(e)return{type:"other",value:e};if(e=_n(i)??null,e)return{type:"other",value:e}}}var t;return{type:"other",value:""}}(e);if("prebid"===t)this.stackLoadedConfig.prebidConfig.pbjsConfig.userSync={...this.stackLoadedConfig.prebidConfig.pbjsConfig.userSync,ppid:n};else this.stackLoadedConfig.gamConfig&&n&&(this.stackLoadedConfig.gamConfig.ppidValue=n)}return this}withRefreshAlwaysInView(e,t){const i=this.pocOverrides?.refreshAlwaysInViewAdUnitNames;if(Array.isArray(i)&&this.stackLoadedConfig.refreshConfig&&i&&i.length>0){const e=[];this.stackLoadedConfig.refreshConfig.adUnitConfig.forEach((t=>{i.forEach((i=>{t.adUnitNames?.includes(i)&&(e.push({...t,alwaysInView:!0,adUnitNames:[i]}),t.adUnitNames.splice(t.adUnitNames.indexOf(i),1))}))})),this.stackLoadedConfig.refreshConfig.adUnitConfig=[...this.stackLoadedConfig.refreshConfig.adUnitConfig.filter((e=>(e.adUnitNames||[]).length>0)),...e]}else if(i&&!Array.isArray(i)){const n=Tn(i,e,t);if(this.stackLoadedConfig.refreshConfig&&n&&n.length>0){const e=[];this.stackLoadedConfig.refreshConfig.adUnitConfig.forEach((t=>{"string"==typeof n&&"all"===n?t.alwaysInView=!0:"object"==typeof n&&n.forEach((i=>{t.adUnitNames?.includes(i)&&(e.push({...t,alwaysInView:!0,adUnitNames:[i]}),t.adUnitNames.splice(t.adUnitNames.indexOf(i),1))}))})),this.stackLoadedConfig.refreshConfig.adUnitConfig=[...this.stackLoadedConfig.refreshConfig.adUnitConfig.filter((e=>(e.adUnitNames||[]).length>0)),...e]}}return this}withrefreshBehaviorOnEmpty(){const e=this.pocOverrides?.refreshBehaviorOnEmpty;return e&&this.stackLoadedConfig.refreshConfig?.adUnitConfig.forEach((t=>{t.refreshBehaviorOnEmpty=e})),this}withOutbrainConfig(e){if(this.pocOverrides?.outbrainConfig){const t=this.pocOverrides.outbrainConfig.find((t=>t.siteId===e)),i=this.pocOverrides.outbrainConfig.find((e=>!e.siteId)),n=t||i;n&&(this.stackLoadedConfig.prebidConfig.pbjsConfig.outbrain={bidderUrl:n.bidderUrl,usersyncUrl:n.usersyncUrl})}return this}withXplnConfig(e,t){const i=Tn(this.pocOverrides.xplnConfig,e,t);return i&&(this.stackLoadedConfig.xplnConfig=i),this}withFloorEnforcement(e){const t=this.pocOverrides?.floorEnforcement;if(t){const t=this.pocOverrides?.floorEnforcement?.sites?.[e],i=this.pocOverrides?.floorEnforcement?.scope;(t||i)&&(this.stackLoadedConfig.prebidConfig.pbjsConfig.floors={...this.stackLoadedConfig.prebidConfig.pbjsConfig.floors,enforcement:{...t??i}})}return this}withDynamicPrebidFloors(e){const t=this.pocOverrides?.dynamicPrebidFloors;if(t){const t=this.pocOverrides?.dynamicPrebidFloors?.sites?.[e],i=this.pocOverrides?.dynamicPrebidFloors?.scope;(t||i)&&this.stackLoadedConfig.adUnits.forEach((e=>{e.dynamicPrebidFloor=!0}))}return this}withSkinFloor(e){const t=this.pocOverrides?.skinFloor;if(t){const i=t.specificFloor?.[e]??t.defaultFloor;this.stackLoadedConfig.adUnits.forEach((e=>{if(e.sizes.some((e=>z(e,[1800,1e3]))))if(e.floors){const t=e.floors?.values.banner;t?e.floors={...e.floors,schema:{delimiter:"|",fields:["mediaType","size"]},values:{"banner|*":t,"banner|1800x1000":i}}:v("no banner value found in floors, skin floor cannot be applied.",e.floors)}else e.floors={currency:t.currency,schema:{delimiter:"|",fields:["mediaType","size"]},values:{"banner|1800x1000":i}}}))}return this}withDsaConfig(){return this.pocOverrides?.dsaConfig&&(this.stackLoadedConfig.prebidConfig.pbjsConfig={...this.stackLoadedConfig.prebidConfig.pbjsConfig,dsaConfig:this.pocOverrides?.dsaConfig}),this}withRoadblockOrder(e,t){const i=Tn(this.pocOverrides?.roadblockOrder,e,t);return i&&this.stackLoadedConfig.adUnits.forEach((e=>{i[e.adUnitName]&&(e.roadblock=i[e.adUnitName])})),this}withDisableThreadYield(e,t){const i=window.location.search,n=new URLSearchParams(i);return(Tn(this.pocOverrides?.disableThreadYield,e,t)||n.get("disableThreadYield"))&&this.stackLoadedConfig.gamConfig&&(this.stackLoadedConfig.gamConfig.threadYieldConfig=an.DISABLED),this}withDisableGptPreAuction(e,t){return Tn(this.pocOverrides?.disableGptPreAuction,e,t)&&(se.getInstance().disableGptPreAuction=!0),this}withDisableSchainForTam(e,t){return Tn(this.pocOverrides?.disableSchainForTam,e,t)&&this.stackLoadedConfig.tamConfig&&(this.stackLoadedConfig.tamConfig={...this.stackLoadedConfig.tamConfig,disableSchain:!0}),this}withIASConfig(e,t){const i=Tn(this.pocOverrides.iasConfig,e,t);return i&&(this.stackLoadedConfig.iasConfig=i,p("[IAS Module] IAS Config override",i)),this}withDisableSingleRequest(e,t){const i=Tn(this.pocOverrides?.disableSingleRequest,e,t),n=this.stackLoadedConfig.adUnits.some((e=>e.roadblock));return i&&this.stackLoadedConfig.gamConfig&&!n&&(this.stackLoadedConfig.gamConfig.disableSingleRequest=!0),this}withDisableFetchLazyLoading(e,t){return Tn(this.pocOverrides?.disableFetchLazyLoading,e,t)&&(this.stackLoadedConfig.lazyLoading={...this.stackLoadedConfig.lazyLoading,configName:"lazyLoadingGoogle disabled",lazyLoadingGoogle:{...this.stackLoadedConfig.lazyLoading?.lazyLoadingGoogle,googleFetchMarginPercent:-1}}),this}withUseBaseGvlid(e,t){return Tn(this.pocOverrides?.useBaseGvlid,e,t)&&(this.stackLoadedConfig.prebidConfig.pbjsConfig={...this.stackLoadedConfig.prebidConfig.pbjsConfig,useBaseGvlid:!0}),this}withAdxRefreshTimer(e,t){const i=Tn(this.pocOverrides?.adxRefreshTimer,e,t);return i&&this.stackLoadedConfig.refreshConfig?.adUnitConfig.forEach((e=>{e.adxTimer=i})),this}withExternalAdServer(e,t){const i=Tn(this.pocOverrides?.externalAdServer,e,t);return i&&this.stackLoadedConfig.adUnits.forEach((e=>{i.includes(e.adUnitName)&&(e.externalAdServer=!0)})),this}withUseCanonicalUrl(e,t){return Tn(this.pocOverrides?.useCanonicalUrl,e,t)&&(this.stackLoadedConfig.prebidConfig.pbjsConfig.useCanonicalUrl=!0),this}withSecondaryBidders(e,t){const i=Tn(this.pocOverrides?.secondaryBidders,e,t);return i&&(this.stackLoadedConfig.prebidConfig.pbjsConfig.secondaryBidders=i),this}withCustomTimeInView(e,t){const i=Tn(this.pocOverrides?.customTimeInView,e,t),n=this.stackLoadedConfig.refreshConfig;return i&&n&&n.adUnitConfig.forEach((e=>{e.customTimeInView=i})),this}withUpdateRefreshTimerInView(e,t){const i=Tn(this.pocOverrides?.updateRefreshTimerInView,e,t);if(this.stackLoadedConfig.refreshConfig&&i&&i.length>0){const e=[];this.stackLoadedConfig.refreshConfig.adUnitConfig.forEach((t=>{i.forEach((i=>{t.adUnitNames?.includes(i)&&(e.push({...t,refreshTimerInView:!0,adUnitNames:[i]}),t.adUnitNames.splice(t.adUnitNames.indexOf(i),1))}))})),this.stackLoadedConfig.refreshConfig.adUnitConfig=[...this.stackLoadedConfig.refreshConfig.adUnitConfig.filter((e=>(e.adUnitNames||[]).length>0)),...e]}return this}withAllowAlternateBiddersCodes(e,t){const i=Tn(this.pocOverrides?.allowAlternateBiddersCodes,e,t);return i&&(this.stackLoadedConfig.prebidConfig.pbjsConfig.allowAlternateBidderCode=[],Object.keys(i).forEach((e=>{const t=i[e];t.length>0&&this.stackLoadedConfig.prebidConfig.pbjsConfig.allowAlternateBidderCode?.push({bidder:e,allowedAlternateBidderCodes:t})})),this.stackLoadedConfig.prebidConfig.pbjsConfig.allowAlternateBidderCode),this}withTimedGlobalFloorAdjustments(e,t){const i=Tn(this.pocOverrides?.timedGlobalFloorAdjustments,e,t);if(i){const e=(new Date).toTimeString().substring(0,5),t=i.find((t=>t.stopTime<t.startTime?t.startTime<=e||e<t.stopTime:t.startTime<=e&&e<t.stopTime));if(t){const e=t.adjustment;this.stackLoadedConfig.adUnits.forEach((t=>{const i=t.floors?.values;i&&Object.keys(i).forEach((t=>{i[t]=i[t]*e}))}))}}return this}build(){return this.stackLoadedConfig}}function Un(e,t,i,n){const{pocOverrides:s,runningABTest:a}=function(e,t,i){const{overrideABTest:n,...s}=e,a=Tn(n,t,i);if(!a||!function(e){return"populationB"in e&&"object"==typeof e.populationB&&"ratio"in e&&"number"==typeof e.ratio||(v("ABTest populationB should be an object and ratio a number"),!1)}(a))return{pocOverrides:s,runningABTest:[]};const r=N(a.ratio),o=Object.keys(a.populationB);if(r){const e=Object.assign({...s},{...a.populationB});return m(`${En} Drew Poc Override ABTest: winner population B`,e),{pocOverrides:e,runningABTest:[{name:"adm_ab_test",value:"poc:B",gamTargeting:!0},...o.map((e=>({name:e,value:"B"})))]}}return m(`${En} Drew Poc Override ABTest: winner population A`,s),{pocOverrides:s,runningABTest:[{name:"adm_ab_test",value:"poc:A",gamTargeting:!0},...o.map((e=>({name:e,value:"A"})))]}}(t.pocOverrides??{},t.tagId,n.stackId),r=new Rn(e,s).withConvertToInstreamAdUnit().withConvertToNativeAdUnit().withUseNativeAlias().withFirstId().withId5Id().withSkinRenderingSettings(t.tagId,n.stackId).withRefreshAlwaysInView(t.tagId,n.stackId).withrefreshBehaviorOnEmpty().withXplnConfig(t.tagId,n.stackId).withOutbrainConfig(t.tagId).withSkinFloor(t.tagId).withDsaConfig().withPpidSolution(t.tagId,n.stackId).withConvertToInterstitialAdUnit().withFloorEnforcement(t.tagId).withDynamicPrebidFloors(t.tagId).withRoadblockOrder(t.tagId,n.stackId).withDisableThreadYield(t.tagId,n.stackId).withDisableGptPreAuction(t.tagId,n.stackId).withDisableSchainForTam(t.tagId,n.stackId).withIASConfig(t.tagId,n.stackId).withDisableSingleRequest(t.tagId,n.stackId).withDisableFetchLazyLoading(t.tagId,n.stackId).withAdxRefreshTimer(t.tagId,n.stackId).withExternalAdServer(t.tagId,n.stackId).withUseBaseGvlid(t.tagId,n.stackId).withUseCanonicalUrl(t.tagId,n.stackId).withSecondaryBidders(t.tagId,n.stackId).withCustomTimeInView(t.tagId,n.stackId).withUpdateRefreshTimerInView(t.tagId,n.stackId).withAllowAlternateBiddersCodes(t.tagId,n.stackId).withTimedGlobalFloorAdjustments(t.tagId,n.stackId).build();return{...r,runningABTest:[...a,...r.runningABTest]}}const Pn=e=>!!e.priority&&!!e.conditions,On=e=>!e.priority&&!e.conditions,xn=e=>"elements"in e;const Ln={AND:({elements:e},t)=>e.every((e=>Dn(e,t))),OR:({elements:e},t)=>e.some((e=>Dn(e,t)))},Nn={IN:({key:e,values:t},i)=>t.some((t=>t===i.get(e))),NOT_IN:({key:e,values:t},i)=>!t.some((t=>t===i.get(e)))};function Dn(e,t){return xn(e)?Ln[e.op](e,t):Nn[e.op](e,t)}const jn=e=>{if(e.abTest){if(!(e.abTest.length<2)){m("[A/B test] variants",e.abTest.map((e=>e.name)).join(", "));const t=function(e){if(100!==e.reduce(((e,t)=>e+t),0))return p("[drawComplexAbTests] The sum of all probabilities should be equal to 100 and is not, we use the first version of the ab test"),1;const t=e.reduce(((e,t)=>(e.length?e.push(e[e.length-1]+t):e.push(t),e)),[]),i=Math.floor(100*Math.random())+1;return t.findIndex((e=>i<=e))+1}(e.abTest.map((e=>e.ratio))),i=e.abTest[t-1];return m("[A/B test] winner",i.name),{config:{...e,...i.configToMerge},winner:i.name}}v("The A/B test config is invalid: not enough variants")}return{config:e}};class Bn{constructor(e,t,i){this.config=e,this.stack=t,this.stackVersion=i,this.runningABTest=[]}applyRulesABTest(){const{config:e,winner:t}=jn(this.config);return this.config=e,t&&this.runningABTest.push({name:"pbstck_ab_test",value:t,gamTargeting:!0}),this}applyEngineABTest(e){const t=[];return e.multiformat&&!e.pocOverrides?.disableMultiformat&&(this.multiformatBidders=_t(e.multiformat.bidders,this.config.prebidConfig.pbjsConfig.bidderAliases??[]),e.multiformat.abTest&&(N(e.multiformat.abTest.ratio)?(t.push("mf:A"),this.multiformatBidders.push(..._t(e.multiformat.abTest.bidders,this.config.prebidConfig.pbjsConfig.bidderAliases??[]))):t.push("mf:B"))),t.length&&this.runningABTest.push({name:"engine_ab_test",value:t,gamTargeting:!0}),this}applyPocOverrides(e,t){if(e.pocOverrides){const{runningABTest:t,...i}=Un(this.config,e,0,this.stack);this.config=i,this.runningABTest.push(...t)}return this}applyPageLevelBidderConfig(e){return this.config=function(e,t){const i=e.prebidConfig.pbjsConfig.bidderAliases??[];if(e.adUnits.forEach((e=>{e.bidders=e.bidders.map((e=>Tt(e,i)))})),e.prebidConfig.pbjsConfig.targetingBehaviors?.sendKVTargetings){const n=C(window),s=function(e,t,i){const n={};for(const[t,i]of e)n[t]=i;for(const e in t)1===t[e].length?n[e]=t[e][0]:n[e]=t[e];return{bidders:i,config:{ortb2:{site:{ext:{data:n}}},appnexusAuctionKeywords:n}}}(t,n,Pt(e.adUnits).filter((t=>!e.prebidConfig.pbjsConfig.targetingBehaviors?.biddersBlackList.includes(t))));e.prebidConfig.pbjsConfig.bidderConfigs=[...e.prebidConfig.pbjsConfig.bidderConfigs||[],s];const a=Rt("smartadserver",i).filter((t=>!e.prebidConfig.pbjsConfig.targetingBehaviors?.biddersBlackList.includes(t)));a.length>0&&function(e,t,i,n){let s="";for(const[t,i]of e)s+=`${t}=${i};`;for(const e in t)1===t[e].length?s+=`${e}=${t[e][0]};`:t[e].forEach((t=>{s+=`${e}=${t};`}));i.forEach((e=>{e.bidders.filter((e=>n.includes(e.bidder))).forEach((e=>{const t=e.params??{};t.target||(t.target=s)}))}))}(t,n,e.adUnits,a)}return e}(this.config,e),this}build(){return{...this.config,multiformatBidders:this.multiformatBidders,scopeId:this.stack.scopeId,stackId:this.stack.stackId,stackName:this.stack.stackName,version:this.stackVersion,runningABTest:this.runningABTest}}}async function Mn(e,t,i,n){const s=function(e,t,i,n){const s=function(e,t,i,n,s){return`${e}/config/${t.scopeId.substring(0,8)}/${n.substring(0,8)}/${t.stackId}/${i}/${s}.json`}(e.configUrl,i,n,e.tagId,t);return s.replace(/([^:]\/)\/+/g,"$1")}(e,t,i,n);return new Promise((e=>{fetch(s).then((t=>{t.text().then((async t=>{try{const i=function(e){const t=JSON.parse(e),[i,n]=ni(t,hn,{coerce:!0});if(n)return n;throw new Error(`unable to parse JSON: ${i}`)}(t);e(i)}catch(t){v(`unable to load the configuration from json ${t}`),e(void 0)}}))})).catch((async t=>{v(`unable to load the configuration ${t}`),e(void 0)}))}))}async function Vn(e){return Mn(e,e.device,e.stack,e.stackVersion).then((t=>{if(t)return function(e,t,i,n,s){return new Bn(e,t,i).applyRulesABTest().applyEngineABTest(n).applyPocOverrides(n,s).applyPageLevelBidderConfig(s).build()}(t,e.stack,e.stackVersion,e,e.pageContext)}))}var Wn,zn,Fn;!function(e){e.HISTORY_MUTATION="_pbstck_kleanads_historyMutation",e.PAGE_CHANGE="_pbstck_kleanads_pageChange",e.REFRESH_INIT="_pbstck_kleanads_refreshInit"}(Wn||(Wn={})),function(e){e.SPA_RELOAD="admSPAReload"}(zn||(zn={})),function(e){e.REPLACE_STATE="replaceState",e.PUSH_STATE="pushState"}(Fn||(Fn={}));const Hn=e=>{window.history[e]=new Proxy(window.history[e],{apply(t,i,n){const s=window.location.href,a=t.apply(i,n),r=new CustomEvent(Wn.HISTORY_MUTATION,{detail:{referrer:s,stateObj:n[0],title:n[1],url:n[2],type:e}});return dispatchEvent(r),a}})},Gn=()=>{Hn(Fn.REPLACE_STATE),Hn(Fn.PUSH_STATE)},Kn={excludedAdvertisers:[],excludedOrders:[],excludedLineItems:[],adxLineItems:[]},qn={pbjsFinished:!1,apsFinished:!1},Yn="[executor] [buffered]";var Xn;!function(e){e[e.FirstCall=0]="FirstCall",e[e.Refresh=1]="Refresh"}(Xn||(Xn={}));class Jn{constructor(e,t,i,n){this.buffer=[],this.auctionRunning=!1,this.adUnitAuctionStatus=new Map,this.adServer=e,this.pbjs=t,this.aps=i,this.kleanadsRunCount=n}executeAdCall(e){if(0===e.length)return;const t=e.sort(((e,t)=>E(e.divId)-E(t.divId)));p(`${Yn} buffering adunits`,e),t.forEach((e=>{this.bufferAdUnits({adUnits:[e],origin:Xn.FirstCall})}))}executeAdCallRoadblock(e){if(0===e.length)return;const t=e.sort(B);p(`${Yn} buffering adunits`,e),A("executor:roadblock",{slotIds:t.map((e=>e.divId))}),this.bufferAdUnits({adUnits:t,origin:Xn.FirstCall})}bufferAdUnits(e){switch(this.buffer.push(e),e.origin){case Xn.FirstCall:e.adUnits?.forEach((e=>{this.adUnitAuctionStatus.set(e.divId,qn)}));break;case Xn.Refresh:this.adUnitAuctionStatus.set(e.refreshableAdUnit.adUnit.divId,qn);break;default:v(`${Yn} unknown buffer entry origin`)}this.startAuctionForBufferedAdUnits()}executeRefresh(e){this.bufferAdUnits({refreshableAdUnit:e,origin:Xn.Refresh})}startAuctionForBufferedAdUnits(){if(this.auctionRunning)return void m(`${Yn} auction already running, not starting a new one`);const e=this.buffer.shift();if(m(`${Yn} adunit taken from buffer`,e),e)switch(e.origin){case Xn.FirstCall:this.startAuction(e.adUnits);break;case Xn.Refresh:this.startAuction([e.refreshableAdUnit.adUnit],{labels:["pubstackRefresh",`pubstackRefreshRank:${e.refreshableAdUnit.rank}`]});break;default:v(`${Yn} unknown buffer entry origin`)}else m(`${Yn} no more adunit to monetize in buffer`)}startAuction(e,t){this.auctionRunning=!0,e.forEach((e=>{Se(e.divId,ve.START_AUCTION)})),p(`${Yn} starting header bidding for ${e.map((e=>e.divId))}`);const i=se.getInstance().kleanadsRunCount;if(this.pbjs){const n=this.pbjs.getPbjs();this.pbjs.startPbjsAuction(e,(()=>{this.kleanadsRunCount===i?this.pbjsFinished(n,e):p(`${Yn} kleanads run count has changed (from ${this.kleanadsRunCount} to ${i}), avoid calling pbjsFinished`)}),t)}this.aps&&this.aps.startApsAuction(e,(t=>{this.kleanadsRunCount===i?this.apsFinished(e,t):p(`${Yn} kleanads run count has changed (from ${this.kleanadsRunCount} to ${i}), avoid calling apsFinished`)})),this.pbjs||this.aps||this.adServer.executeWhenAdServerReady((()=>{this.kleanadsRunCount===i?this.callAdServer(e):p(`${Yn} kleanads run count has changed (from ${this.kleanadsRunCount} to ${i}), avoid calling AdServer`)}))}pbjsFinished(e,t){m(`${Yn} pbjs end callback for ${t.map((e=>e.divId)).join(",")}`,e.getAllPrebidWinningBids()),t.forEach((e=>{Se(e.divId,ve.END_PBJS_AUCTION)})),this.adServer.executeWhenAdServerReady((()=>{m(`${Yn} pbjs end callback ad server ready ${t.map((e=>e.divId)).join(",")}`),this.adServer.setPbjsTargetings(e,t),t.forEach((e=>{const t=this.adUnitAuctionStatus.get(e.divId);t&&this.adUnitAuctionStatus.set(e.divId,{...t,pbjsFinished:!0})})),this.canCallAdServer(t)&&this.callAdServer(t)}))}apsFinished(e,t){m(`${Yn} aps end callback ${e.map((e=>e.divId)).join(",")}`,t),e.forEach((e=>Se(e.divId,ve.END_APS_AUCTION))),this.adServer.executeWhenAdServerReady((()=>{m(`${Yn} aps end callback ad server ready ${e.map((e=>e.divId)).join(",")}`),this.adServer.setApsTargetings(e,t),e.forEach((e=>{const t=this.adUnitAuctionStatus.get(e.divId);t&&this.adUnitAuctionStatus.set(e.divId,{...t,apsFinished:!0})})),this.canCallAdServer(e)&&this.callAdServer(e)}))}canCallAdServer(e){const t=e.filter((e=>{const t=this.adUnitAuctionStatus.get(e.divId);return this.aps&&!this.pbjs?t&&t.apsFinished:this.pbjs&&!this.aps?t&&t.pbjsFinished:this.pbjs&&this.aps?t&&t.apsFinished&&t.pbjsFinished:void 0}));return t.length>0&&t.length!==e.length&&v(`${Yn} cannot call ad server for ${e.map((e=>e.divId)).join(",")}, some ad units are not ready`),t.length>0}callAdServer(e){if(this.auctionRunning=!1,this.startAuctionForBufferedAdUnits(),e.forEach((e=>{Se(e.divId,ve.START_AD_SERVER_CALL)})),e.length>0){this.adServer.callAdServer(e);const t=e.map((e=>e.divId));p(`${Yn} ad server called ${t.join(",")}`)}}}const Qn="adServerAdUnitName";function Zn(e,t,i,n){const s=[];if("number"!=typeof t&&""===t||s.push(t),i&&0!==i.length){const e=function(e,t){return e.filter((e=>e!==Qn)).map((e=>t.get(e))).filter((e=>e)).join("/")}(i,n);e&&s.push(e)}else b("Ad unit path config is missing for this site");const a=`/${s.join("/")}`;return i&&i.includes(Qn)?`${a}/${e}`:`${a}`}function es(e){return new Promise(((t,i)=>{if(window.lucead_loaded)return void t();window.lucead_loaded=!0;const n=document.createElement("script");n.src=`https://s.lucead.com/prebid/${e}.js`,n.onload=()=>t(window.lucead_prebid),n.onerror=i,document.head.appendChild(n)}))}function ts(e){return e.startsWith("css:")?e.replace("css:",""):void 0}const is=["adyoulike"],ns=(e,t,i,n,s)=>{const a=[];if(e.includes("Banner")&&a.push("Banner"),e.includes("Outstream")&&i.includes(t.bidder)&&a.push("Outstream"),e.includes("Native")&&!s&&a.push("Native"),e.includes("Skin")){const e=is.includes(t.bidder);n?n.includes(t.bidder)&&!e&&a.push("Skin"):e||a.push("Skin")}return e.includes("Instream")&&a.push("Instream"),a},ss=e=>{return(t=e.sizes,t.filter(D)).filter((e=>!z(e,[1800,1e3])));var t},as=e=>{const t=ss(e);return 0===t.length?{}:{bannerSizes:t}},rs=e=>{const t=(e=>{const t=[];if(e.isInstream){if(void 0!==e.instreamParams)return["Instream"];b(`Instream ad unit ${e.divId} is missing instreamParams`)}return ss(e).length>0&&t.push("Banner"),e.canOutstream&&t.push("Outstream"),e.canNative&&(void 0!==e.nativeParams?t.push("Native"):b(`Native ad unit ${e.divId} is missing nativeParams`)),e.sizes.some((e=>z(e,[1800,1e3])))&&t.push("Skin"),t})(e),i=!!e.biddersNative?.length,n=e.bidders.map((n=>({mediaTypes:ns(t,n,e.biddersOutstream,e.biddersSkin,i),bidder:n.bidder,params:n.params}))).filter((e=>e.mediaTypes.length>0));if(i&&e.biddersNative){const t=e.biddersNative.map((e=>({mediaTypes:["Native"],bidder:e.bidder,params:e.params})));n.push(...t)}return{bidders:n,mediaTypes:t}};function os(e,t,i,n,s){return e.flatMap((e=>{const a=Zn(e.adServerAdUnitName,i,n,t);if(e.bidders.forEach((e=>{if("lucead"===e.bidder&&e.params?.siteId){const{siteId:t,...i}=e.params;e.params={...i,loader:es(t)}}})),e.dynamic)return function(e,t,i){return function(e){const t=ts(e.divId)||`[id^="${e.divId}"]`;try{return Array.from(document.querySelectorAll(t))}catch(e){return v(`${t} is not a valid CSS selector, ${e}`),[]}}(e).map((n=>{const s=n.id;return s||v(`Unable to find an id on DOM element for adUnit.divId ${e.divId}`),{...e,...as(e),...rs(e),divId:s,slotName:n?.attributes.getNamedItem("data-aps-slotname")?.value||e.slotName||t,dynamic:!1,adUnitPath:n?.attributes.getNamedItem("data-adunitpath")?.value||t,adServerAdUnitName:e.adServerAdUnitName,pubstackDeclarationTargetingKeys:i??[],getTargetings:()=>[...[...e.targeting?[e.targeting]:[],...e.extraTargetings||[]],...[...cs(n?.attributes),ds(s)]]}}))}(e,a,s);{const t=function(e){const t=ts(e);try{return t?document.querySelector(t):document.getElementById(e)}catch(t){return v(`${e} is not a valid CSS selector, ${t}`),null}}(e.divId);if(t||"interstitial"===e.outOfPageType||e.anchor?.mode===Oi.CREATE_NEW_DIV){t&&!t?.id&&v(`Unable to find an id on DOM element for adUnit.divId ${e.divId}`);const i=t?.attributes.getNamedItem("data-adunitpath")?.value||a,n={...e,...as(e),...rs(e),divId:t?.id??e.divId,adUnitPath:i,slotName:t?.attributes.getNamedItem("data-aps-slotname")?.value||e.slotName||i,adServerAdUnitName:e.adServerAdUnitName,pubstackDeclarationTargetingKeys:s??[],getTargetings:()=>[...[...e.targeting?[e.targeting]:[],...e.extraTargetings||[]],...[...cs(t?.attributes)]]};return e.isInstream&&(n.instreamParams={vast:e.instreamParams?.vast,adDeactivationContext:e.instreamParams?.adDeactivationContext,mediaTypeParams:{skip:e.instreamParams?.skippableAds?1:0,playerSize:e.sizes.filter((e=>"fluid"!==e)),playbackmethod:e.instreamParams?.startPlayingOption?[e.instreamParams?.startPlayingOption]:[],...Q(e.instreamParams?.protocols),...e.instreamParams?.mediaTypeParams}}),[n]}return m(`Div id missing for ${e.divId}, no further action on this ad unit`),[]}}))}function ds(e){const t=new RegExp("\\D","g");return{key:"ad_index",value:e.replace(t,"")}}function cs(e){return Array.from(e??[]).filter((e=>e.name.startsWith("data-ad-"))).map((e=>({key:e.name.replace("data-ad-",""),value:e.value})))}class ls{constructor(e,t,i){this.stackConfig=e,this.kleanAdsConfig=t,this.pageContext=i,this.adUnits=[],this.callbacks=[]}alreadyUsedDivIds(){return this.adUnits.map((e=>e.divId))}setConfig(e,t,i){this.stackConfig=e,this.kleanAdsConfig=t,this.pageContext=i,this.adUnits=[],this.callbacks=[]}async executeWhenAdUnitsFound(e){const t=(i=this.stackConfig,n=this.kleanAdsConfig,s=this.pageContext,us(i.adUnits,i,n,s)).filter((e=>!this.alreadyUsedDivIds().includes(e.divId)));var i,n,s;if(this.adUnits.push(...t),await e(this.adUnits),this.callbacks.push(e),!this.adUnitObserver){const e=async e=>{const t=function(e,t,i,n){return us([e],t,i,n)}(e,this.stackConfig,this.kleanAdsConfig,this.pageContext).filter((e=>!this.alreadyUsedDivIds().includes(e.divId))).reduce(((e,t)=>(e.find((e=>e.divId===t.divId))?v(`We tried to prepare two times the same divId, skipping adUnit ${t.adServerAdUnitName} from the list`,t):(e.push(t),m("New adUnit dynamicaly loaded",t.divId)),e)),[]);t.length>0&&(this.adUnits.push(...t),this.callbacks.forEach((async e=>{await e(t)})))};this.startAdUnitObserver(e)}}cleanObserverAndAdUnits(){this.adUnitObserver?.disconnect(),this.adUnitObserver=void 0,this.adUnits=[]}startAdUnitObserver(e){const t=this.alreadyUsedDivIds(),i=this.stackConfig.adUnits.filter((e=>!t.includes(e.divId)||e.dynamic)),n=document.body;if(!n)return void v("Body not found, cannot start observer");const s=new MutationObserver(function(e,t){return(i,n)=>{i.filter((e=>"childList"===e.type&&e.addedNodes.length>0)).forEach((i=>{Array.from(i.addedNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE)).forEach((i=>{e.forEach((e=>{const n=e.divId.startsWith("css:")?e.divId.replace("css:",""):e.dynamic?`[id^="${e.divId}"]`:`[id="${e.divId}"]`;(i.matches(n)||i.querySelectorAll(n).length>0)&&t(e)}))}))}))}}(i,e));s.observe(n,{childList:!0,subtree:!0}),this.adUnitObserver=s}}function us(e,t,i,n){const s=t?.gamConfig?.adUnitPathConfig??[];return os(e,n,rt(i,t),s,i.pubstackDeclarationTargetingKeys)}class hs{constructor(){this.name="AdUnitsManager"}get adUnitsManager(){return this._adUnitsManager}async onStackConfigLoadSync({config:e,stackConfig:t}){this._adUnitsManager=new ls(t,e,e.pageContext)}async onStackConfigLoad({config:e,stackConfig:t}){this._adUnitsManager?.setConfig(t,e,e.pageContext)}async clean(){this._adUnitsManager?.cleanObserverAndAdUnits()}}class gs{constructor(e,t){this.element=e,this.dateIn=0,this.pastTimeInView=0,this.isInview=!1,this.alwaysInView=t??!1,this.isTabActivated="visible"===window.document.visibilityState,this.isVisible=!window.document.hidden,this.resetAt=0,this.hasBeenReset=!1}getTimeInView(e){return this.hasBeenReset?e>=this.dateIn&&this.dateIn>0&&(this.isInview||this.alwaysInView)&&this.isTabActivated?this.pastTimeInView+(e-this.dateIn):this.pastTimeInView:0}getTimeOnPage(e){return this.hasBeenReset?e-this.resetAt:0}resetTimer(e){(this.isInview||this.alwaysInView)&&this.isTabActivated&&(this.dateIn=e),this.resetAt=e,this.hasBeenReset=!0,this.pastTimeInView=0}updateTimerOnInViewChange(e,t){this.isInview=e,this.updateTimer(t)}updateTimerOnTabStatusChange(e,t){this.isTabActivated=e,this.updateTimer(t)}updateTimerOnVisibleChange(e,t){this.isVisible=e,this.updateTimer(t)}updateTimer(e){if((this.isInview||this.alwaysInView)&&this.isTabActivated)return 0===this.dateIn?void(this.dateIn=e):this.dateIn>0?void 0:void(this.dateIn=e);this.dateIn>0&&(e>=this.dateIn&&(this.pastTimeInView=this.pastTimeInView+(e-this.dateIn)),this.dateIn=0)}}const fs={root:null,rootMargin:"0px",threshold:.5},ps="[adUnitsObserver]";class ms{constructor(e,t){this.elements={},this.observer=new IntersectionObserver((e=>{this.handleIntersect(e,this)}),fs),this.configAlwaysInView=t,e.forEach((e=>{this.elements[e.id]=new gs(e,t?.[e.id]),this.observer.observe(e)})),addEventListener("visibilitychange",(()=>{m(`${ps} visibilitychange`,window.document.visibilityState),"visible"===window.document.visibilityState?Object.keys(this.elements).forEach((e=>{this.elements[e].updateTimerOnTabStatusChange(!0,Date.now())})):Object.keys(this.elements).forEach((e=>{this.elements[e].updateTimerOnTabStatusChange(!1,Date.now())}))}))}isObserving(e){return e in this.elements}unobserve(e){this.isObserving(e)&&(this.observer.unobserve(this.elements[e].element),delete this.elements[e])}observe(e){this.isObserving(e.id)||(this.elements[e.id]=new gs(e,this.configAlwaysInView?.[e.id]),this.observer.observe(e))}getObservedDivIds(){return Object.keys(this.elements)}getTimeInView(e,t){return this.isObserving(e)?this.elements[e].getTimeInView(t):0}isInView(e){return!!this.isObserving(e)&&this.elements[e].isInview}getTimeOnPage(e,t){return this.isObserving(e)?this.elements[e].getTimeOnPage(t):0}resetTimers(e,t){e.forEach((e=>{this.isObserving(e)&&(m(`${ps} reseting time for ${e}`),this.elements[e].resetTimer(t))}))}getAdUnitInViewTimer(e){return this.elements[e]}handleIntersect(e,t){e.forEach((e=>{const i=Date.now();t.elements[e.target.id].updateTimerOnInViewChange(e.isIntersecting,i),m(`${ps}`,e.target.id,e.isIntersecting?"in view":"out of view")}))}}function bs(e,t,i,n,s,a){if(r){const r=document.getElementById(t),o=r?.parentElement,d="refresh_kleanads";let c=document.getElementById(`${d}_${t}-refresh-debug`);c||(c=document.createElement("div"),c.id=`${d}_${t}-refresh-debug`,c.style.position="absolute",c.style.bottom="5px",c.style.left="5px",c.style.zIndex="99999999",c.style.backdropFilter="blur(6px)",c.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.3)",c.style.fontFamily="Arial, sans-serif",c.style.borderRadius="5px",c.style.color="white",c.style.padding="8px 16px",c.style.display="flex",c.style.flexDirection="column",c.style.gap="5px",c.style.textAlign="left",c.style.border="1px solid white",c.style.transition="background-color 250ms linear",o?.prepend(c));let l=document.getElementById(`${d}_${t}-refresh-div-id`);l||(l=document.createElement("span"),l.id=`${d}_${t}-refresh-div-id`,c.appendChild(l)),l.textContent=`${t}`,l.style.fontSize="1rem",l.style.fontWeight="bold";let u=document.getElementById(`${d}_${t}-refresh-debug-timer`);u||(u=document.createElement("span"),u.id=`${d}_${t}-refresh-debug-timer`,c.appendChild(u)),u.textContent=`Time in view : ${Math.floor(i/1e3).toString()}`,u.style.fontSize="1rem";let h=document.getElementById(`${d}_${t}-refresh-debug-refresh-rank`);h||(h=document.createElement("span"),h.id=`${d}_${t}-refresh-debug-refresh-rank`,c.appendChild(h));const g=n??"∞";h.textContent=`Refresh rank : ${e.getRefreshRank(t).toString()} / ${g}`,h.style.fontSize="1rem",c.style.backgroundColor=s&&a?"rgba(55, 110, 79, 0.7)":"rgba(140, 71, 79, 0.7)"}}const vs="[RefreshState]";class ys{constructor(e,t,i){this.adUnitsObserver=new ms(e,i),this.exclusions=t,this.lastRenderInfo={},this.refreshRank={},this.hasAuctionInProgress={},this.shouldRefreshBeforeTimerEnd={},this.consecutiveSecondChanceAttempts={},e.forEach((e=>{this.refreshRank[e.id]=0,this.hasAuctionInProgress[e.id]=!1,this.shouldRefreshBeforeTimerEnd[e.id]=!1,this.consecutiveSecondChanceAttempts[e.id]=0}))}unobserve(e){m(`${vs} refresh unobserve`,e),this.adUnitsObserver.unobserve(e)}addAdUnits(e){e.forEach((e=>{m(`${vs} refresh addAdUnit`,e.id),this.adUnitsObserver.observe(e),this.refreshRank[e.id]=0,this.hasAuctionInProgress[e.id]=!1}))}getTimeInView(e,t){return this.adUnitsObserver.getTimeInView(e,t)}getTimeOnPage(e,t){return this.adUnitsObserver.getTimeOnPage(e,t)}isInView(e){return this.adUnitsObserver.isInView(e)}needRefresh(e,t){const i=t.divId;if(!this.adUnitsObserver.isObserving(i))return!1;if(this.cappingReached(i,t.capping))return!1;if(this.hasAuctionInProgress[i])return!1;if(this.shouldRefreshBeforeTimerEnd[i])return this.shouldRefreshBeforeTimerEnd[i]=!1,!0;const n=this.getTimeInView(i,e),s=this.getTimeOnPage(i,e),a=this.getTimer(i,t.timer,t.refreshSpecificRules,t.adxTimer);bs(this,i,n,t.capping,this.adUnitsObserver.getAdUnitInViewTimer(i)?.isTabActivated,this.adUnitsObserver.getAdUnitInViewTimer(i)?.isInview);const r=t.alwaysInView,o=t.refreshTimerInView,d=this.getLastWinningMediaType(i),c="video";if(r||d===c||o)return r&&d!==c?s>=a:n>=a;{const e=this.isInView(i),r=t.customTimeInView??1e3;return e&&n>=r&&s>=a}}cappingReached(e,t){return!!t&&t<this.getRefreshRank(e)}getTimer(e,t,i,n){if("video"===this.getLastWinningMediaType(e))return 3e4;if(this.isLastWinningAdx(e))return n?1e3*n:1e3*t;const s=this.getLastWinningBidder(e),a=this.getLastSize(e),r=[];return i.forEach((e=>{if(!e.timer)return;const t=!!s&&e.bidders.includes(s)&&0===e.sizes.length,i=a&&e.sizes.find((e=>z(e,a)))&&0===e.bidders.length,n=s&&a&&e.bidders.includes(s)&&e.sizes.find((e=>z(e,a)));(t||i||n)&&r.push(1e3*e.timer)})),r.length>0?Math.max(...r):1e3*t}getObservedDivIds(){return this.adUnitsObserver.getObservedDivIds()}getRefreshRank(e){const t=this.refreshRank[e];return this.adUnitsObserver.isObserving(e)&&t?t:0}updateAdUnitStatus(e,t){const i=e.divId;if(this.refreshRank[i]+=1,this.lastRenderInfo[i]=e,m(`${vs} update status ${i} new refresh rank ${this.refreshRank[i]}`),e.isEmpty){if(t.refreshBehaviorOnEmpty===Wi.Continue)return;if(t.refreshBehaviorOnEmpty===Wi.InstantSecondChance)return void(this.consecutiveSecondChanceAttempts[t.divId]<1&&(this.consecutiveSecondChanceAttempts[t.divId]++,this.shouldRefreshBeforeTimerEnd[t.divId]=!0));m(`${vs} ${i} is excluded from refresh from now on (empty impression)`),this.unobserve(i)}else this.consecutiveSecondChanceAttempts[t.divId]=0;const n=t.refreshSpecificRules.filter((e=>!e.timer)),s=this.getLastWinningBidder(t.divId),a=this.getLastSize(t.divId);(!!n.find((e=>{const t=!!s&&e.bidders.includes(s),i=!!a&&!!e.sizes.find((e=>z(e,a))),n=t&&0===e.sizes.length,r=i&&0===e.bidders.length;return n||r||t&&i}))||this.isExcludedByConfig(t.divId)||this.cappingReached(i,t.capping))&&(m(`${vs} ${i} is excluded from refresh from now on`),this.unobserve(i))}getLastSize(e){return this.lastRenderInfo[e]?.size||void 0}getLastAdvertiserId(e){return this.lastRenderInfo[e]?.advertiserId||void 0}getLastWinningBidder(e){return this.lastRenderInfo[e]?.hb_bidder}getLastWinningMediaType(e){return this.lastRenderInfo[e]?.hb_mediaType}resetTimer(e,t){this.adUnitsObserver.resetTimers([e],t),this.hasAuctionInProgress[e]=!1}setAuctionInProgress(e){this.hasAuctionInProgress[e]=!0}isExcludedByConfig(e){const t=this.getLastAdvertiserId(e),i=this.getLastWinningLineItemId(e),n=this.getLastWinningOrderId(e),s=!!t&&this.exclusions.excludedAdvertisers.includes(t),a=!!n&&this.exclusions.excludedOrders.includes(n),r=!!i&&this.exclusions.excludedLineItems.includes(i);return s||a||r}getLastWinningLineItemId(e){return this.lastRenderInfo[e]?.lineItemId||void 0}getLastWinningOrderId(e){return this.lastRenderInfo[e]?.orderId||void 0}isLastWinningAdx(e){return-1===this.lastRenderInfo[e]?.lineItemId||this.exclusions.adxLineItems.includes(this.lastRenderInfo[e]?.lineItemId||0)}}const As="[refresh]";const Is="[refresh]";async function ks(e,t,i,n,s,a){const r=[],o=[],d={},c=new ys([],n,d);e.executeWhenAdUnitsFound((async e=>{const t=e.filter((e=>a?e.mediaTypes.includes("Instream"):!e.mediaTypes.includes("Instream")));p(a?`${Is} [instream] adUnits found for refresh`:`${Is} adUnits found for refresh`,t),function(e,t){return e.flatMap((e=>{const i=e.adUnitNames.flatMap((e=>t.filter((t=>t.adUnitName.startsWith(e))))),n=e.specificRules;return i.filter((e=>!!e)).flatMap((t=>({...t,alwaysInView:e.alwaysInView,refreshTimerInView:e.refreshTimerInView,capping:e.capping,timer:e.timer,refreshSpecificRules:n,refreshBehaviorOnEmpty:e.refreshBehaviorOnEmpty,adxTimer:e.adxTimer,customTimeInView:e.customTimeInView})))}))}(i,t).forEach((e=>{r.push(e),e.alwaysInView&&(d[e.divId]=!0);const t=document.getElementById(e.divId);t?(o.push(t),c.addAdUnits([t])):p(`${Is} element to refresh not found with id`,e.divId)}))})),s.renderListener((e=>function(e,t,i){const n=e.divId,s=t.find((e=>e.divId===n));if(s){const t=e.hb_bidder;i.resetTimer(n,Date.now()),i.updateAdUnitStatus(e,s),t&&m(`${As} we have a winning bidder for ${n} that is from prebid: ${t}`),m(`${As} render on`,n)}}(e,r,c)));const l=()=>{const e=[],i=Date.now();c.getObservedDivIds().forEach((t=>{const n=r.find((e=>e.divId===t));n&&c.needRefresh(i,n)&&e.push(n)})),e.length>0&&e.forEach((e=>{const i=c.getRefreshRank(e.divId);p(`${Is} refresh on ${e.divId} with rank ${i}`);const n={adUnit:e,rank:i};s.setRefreshTargeting(n),t.executeRefresh(n),c.setAuctionInProgress(e.divId)})),c.getObservedDivIds().length>=0?setTimeout((()=>{l()}),100):p("${LOG_PREFIX} There is no more adUnits observed, stop refreshCycle")};l();window.dispatchEvent(new CustomEvent(Wn.REFRESH_INIT,{detail:{stopRefresh:e=>{e&&Array.isArray(e)&&e?.length>0?e.forEach((e=>{c.unobserve(e)})):c.getObservedDivIds().forEach((e=>{c.unobserve(e)}))}}}));const u=()=>{window.removeEventListener(Wn.PAGE_CHANGE,u),p("${LOG_PREFIX} history mutation event received"),s.removeRenderListener(),o.forEach((e=>{c.resetTimer(e.id,Date.now()),c.unobserve(e.id)})),c.refreshRank={},c.lastRenderInfo={}};window.addEventListener(Wn.PAGE_CHANGE,u)}async function Cs(e,t){Ce(be.BEGIN_CONFIGURE),await O(e,{beforeStart:!0});const i=window,s=e.pocOverrides?.waitForEventToConfigure;s&&await new Promise(((e,t)=>{const i=setTimeout((()=>{v("Wait for configure event is too long"),t()}),6e4),n=()=>{window.removeEventListener(s||"",n),clearTimeout(i),e()};m(`[CONFIGURE] wait for event ${s} to start kleanads`),window.addEventListener(s,n)})),p(`Configure kleanads.js (version: ${e.kleanadsVersion}, run count: ${se.getInstance().kleanadsRunCount})`);const a=function(e,t){const i=t.sort(x);for(const t of i)if(e>=t.size)return t.device;return"desktop"}(i.innerWidth,e.screenSizeBreakpoints);!function(e,t,i,s){d=new n(e,t,i,s),c=e,l=t}(e.tagId,e.kleanadsVersion,a,function(e,t){return Tn(e,t,"")}(e.pocOverrides?.traceThrottling,e.tagId)),se.getInstance().setUprState(e.pocOverrides?.uprState,e.pocOverrides?.uprRatio);const r=function(e,t){const i=Re(t),n=new Map(i.map((({key:e,defaultValue:t})=>[e,t])));e.document.querySelectorAll('meta[name^="pbstck_context:"]').forEach((e=>{const t=e.attributes.getNamedItem("name")?.value.substring(15).toLowerCase(),s=e.attributes.getNamedItem("content")?.value.toLowerCase();if(t&&s){const e=i.find((({key:e})=>e===t));e&&(function(e,t){return t.defaultValue===e||(t.otherValues??[]).includes(e)}(s,e)?n.set(t,s):b(`${_e} Unknown ${t} value ${s}`))}}));const s=new URLSearchParams(e.location.search);for(const e of s.keys())e.startsWith("pbstck_context:")&&n.set(e.slice(15),s.get(e)||"");return n}(i,e.context);if(0===r.size)p("[context] No context set");else{let e="";r.forEach(((t,i)=>{e+=`\n${i}=>${t}`})),p(`[context] The following context will be used:${e}`,r)}const o=function(e,t){const i=e.filter(Pn).sort(((e,t)=>e.priority-t.priority)),n=e.filter(On);if(0===n.length)return void v("[stacks] Could not find default stack");n.length>1&&v("[stacks] Multiple default stacks found");const s=n[0];return i.find((e=>Dn(e.conditions,t)))??s}(e.stacks,r);if(!o)return void v("No stack found, stopping monetization");p(`[stacks] served stack: ${o.stackId} ${o.priority||o.conditions?"":"(default stack)"}`);const u=ws(o.versions).toString(),h={...e,device:a,stack:o,stackVersion:u,pageContext:r,consentlessMode:e.pocOverrides?.consentlessMode,noCmp:S(),spaMode:e.spaConfig?.[e.tagId]?.mode,pubstackWindow:i,instreamType:$n(e.tagId,e.pocOverrides?.instreamConfig)},g=new yt(h,t);f(u);return{configPromise:Vn(h),kleanAdsConfig:h,moduleService:g}}async function Ss(e){const{configPromise:t,kleanAdsConfig:i,moduleService:n}=e;p("Starting kleanads"),Ce(be.BEGIN_START);const s=i.noCmp||await Te(window);await n.modulesDispatchEvent("onAfterConsent"),await O(i,{beforeStart:!1});const a=i.stacks.find((e=>e.stackId===function(e){return e.pocOverrides?.consentlessStacks?.[e.tagId]}(i)));if(s){const e=await n.modulesDispatchEvent("onAfterConsentAccepted");await Promise.all(e)}else{p("Consent refused");const e=await n.modulesDispatchEvent("onAfterConsentRefused");await Promise.all(e),a&&(i.stack=a,i.stackVersion=ws(a.versions).toString(),f(i.stackVersion),p("Using following consentless stack",a.stackId,a))}if(s||i.consentlessMode||a){await n.modulesDispatchEvent("onBeforeStackConfigLoad");const e=s?t:Vn(i);let a=await e;if(a&&i.pocOverrides?.optimizationModule&&(a=await Ht(a),m("[pocOverrides] Optimization module finished")),p("[config] kleanAdsConfig:",i),p("[config] stackLoadedConfig:",a),a){if(document.body||v("no body element found"),i.pocOverrides&&i.pocOverrides.grapeshotTargetings){m("[pocOverrides] Poc Grapeshot enabled");const e=await async function(e){return new Promise((t=>{const i=`${e}${encodeURIComponent(window.location.href)}`,n=document.createElement("script");n.async=!0,n.src=i,n.onload=()=>t(window.gs_channels),setTimeout((()=>t(void 0)),3e3),n.onerror=()=>t(void 0),document.head.append(n)}))}(i.pocOverrides.grapeshotTargetings);se.getInstance().grapeshotValues=e}await n.modulesDispatchEvent("onStackConfigLoad",{stackConfig:a});const e=n.getLoadedModuleInstance(Bt)?.pbjs;e&&await n.modulesDispatchEvent("onAfterPrebidReady",{prebid:e});const t=n.getLoadedModuleInstance(bt)?.aps,s=n.getLoadedModuleInstance(mt)?.adServer;s&&await n.modulesDispatchEvent("onAfterAdServerReady",{adServer:s});const r=n.getLoadedModuleInstance(hs)?.adUnitsManager;if(!s)return void v("no adServer found, stopping monetization");if(!r)return void v("no adUnitManager found, stopping monetization");Ue(window,i.context,a.gamConfig?.adUnitPathConfig??[]);const o=se.getInstance().kleanadsRunCount,d=new Jn(s,e,t,o),c=n.getLoadedModuleInstance(mt)?.instreamAdServer,l=c?function(e,t,i,n,s){return e.adUnits.some((e=>e.isInstream))?new Jn(s,t,i,n):void 0}(a,e,t,o,c):function(e,t,i,n,s){return e.adUnits.some((e=>e.isInstream))?new xe(new ge(window,t.pageContext,t.device,t.instreamType),i,n,s):void 0}(a,i,e,t,o),u=async e=>{p("[config] adUnits to monetize:",e),await n.modulesDispatchEvent("onPrepareAdUnits",{toPreparedAdUnits:e}),Wt(e,d,l,a.lazyLoading)};await r.executeWhenAdUnitsFound(u);const h=a.refreshConfig;if(i.globalRefreshConfig&&h){const e=Tn(i.pocOverrides?.disableRefreshExclusions,i.tagId,a.stackId),t=i.networkId&&!e?await _s(i.configUrl,i.networkId,i.stack.scopeId):Kn;ks(r,d,h.adUnitConfig,t,s,!1),l&&c&&function(e){return"executeRefresh"in e}(l)&&ks(r,l,h.adUnitConfig,t,c,!0)}const g=n.getLoadedModuleInstance(mt)?.externalApiAdServer,f=g?new Jn(g,e,t,o):void 0;f&&g&&await n.modulesDispatchEvent("onAfterExternalApiReady",{monetize:e=>{const t=r.adUnits.find((t=>t.divId===e));return t?function(e,t,i){return new Promise(((n,s)=>{t.addCallback(e.divId,n)?i.executeAdCall([e]):s(`KSERR_03 - id ${e.divId} is not correctly configured for manual monetization`)}))}(t,g,f):Promise.reject(`KSERR_02 - id ${e} not found on page`)}})}else v("no input configuration, stopping monetization")}else p("consent not given, no monetization");switch(i.spaMode){case"manual":m("[SPA] manual SPA enabled"),$s((()=>{m("[SPA] manual page change requested, restarting kleanads.js"),Es(i,n)}));break;case"auto":m("[SPA] auto SPA enabled"),Gn(),Ts((()=>{m("[SPA] page change detected, restarting kleanads.js"),Es(i,n)}))}ke(me.MAIN_THREAD_END)}function ws(e){const t=e.sort(((e,t)=>e.ratio-t.ratio));return N(void 0!==t[0].ratio?t[0].ratio:100)?t[0].version:t[1].version}const Es=async(e,t)=>{Ce(be.SPA_RELOAD);const i=se.getInstance();i.setKleanadsRunCount(i.kleanadsRunCount+1);const n=t.getModules();await t.modulesCleanUp(),p("Restarting kleanads");const s=await Cs(e,n);s&&Ss(s)},Ts=e=>{const t=new MutationObserver((()=>{n()})),i=e=>{const i=e,n=new URL(i.detail.referrer),s=(a=i.detail.url)?`${a}`.startsWith("http")?new URL(a).pathname:`${a}`:"";var a;n.pathname!==s&&t.observe(document.head,{attributes:!0,childList:!0,subtree:!0})};window.addEventListener(Wn.HISTORY_MUTATION,i);const n=()=>{window.removeEventListener(Wn.HISTORY_MUTATION,i),t.disconnect(),window.dispatchEvent(new CustomEvent(Wn.PAGE_CHANGE)),e()}},$s=e=>{const t=()=>{i()};window.addEventListener(zn.SPA_RELOAD,t);const i=()=>{window.removeEventListener(zn.SPA_RELOAD,t),window.dispatchEvent(new CustomEvent(Wn.PAGE_CHANGE)),e()}},_s=async(e,t,i)=>await fetch(`${e}/refresh-exclusions/${t}/${i}/currentRefreshInfo.json`).then((async e=>e.json().then((e=>e)).catch((e=>{v(`unable to extract line items with no refresh: ${e}`)})))).catch((e=>v(`unable to get line items with no refresh: ${e}`)));const Rs="[parallax]";class Us{constructor(e,t=[]){this.id=e.divId,this.blockedBidders=_t(Us.BLOCKED_ADAPTERS,t);const i=document.getElementById(this.id);if(!i)throw new Error(`${Rs} container not found for adUnit ${this.id}`);const n=(e.bannerSizes??[]).reduce(((e,[,t])=>t>e?t:e),0);this.adUnitContainerMaxHeightPx=Math.max(n,600)/2,this.minViewableHeightPx=Math.min(this.adUnitContainerMaxHeightPx+10,310),this.adUnitContainer=i;const s=this.adUnitContainer.attachShadow({mode:"open"});s.innerHTML=`\n      <div id="${Us.PARALLAX_CLIP_ID}"><slot></slot></div>\n    `,this.adUnitContainerShadowRoot=s,this.cacheLatestBidWon(),this.observeMutations(),m(`${Rs} prepared parallax for adUnit ${this.id}`)}getHighestChildRect(e){const t=e.children;if(0===t.length)return;const i=(e=>e.reduce(((e,t)=>{const i=getComputedStyle(e),n=getComputedStyle(t);return parseInt(n.height)>parseInt(i.height)?t:e}),e[0]))(Array.from(t));return i.getBoundingClientRect()}cacheLatestBidWon(){const e=window?.kleanadsPbjs;if(e)try{e.onEvent("auctionEnd",(e=>{e.adUnitCodes?.includes(this.id)&&(this.latestBidWonInfo=void 0)})),e.onEvent("bidWon",(t=>{if(t.adUnitCode===this.id){const{bidderCode:i,size:n}=t,s=this.blockedBidders.some((t=>i===t||e?.aliasRegistry?.[i]===t)),a=Us.BLOCKED_SIZES.some((e=>e===n)),r="banner"===t?.mediaType;this.latestBidWonInfo={isParallaxable:r&&!a&&!s}}}))}catch(e){b(`${Rs} unable to listen to bidWon event`,e)}else b(`${Rs} pbjs not loaded, unable to listen to bidWon event`)}observeMutations(){this.resizeObserver=new ResizeObserver((e=>{const t=e.some((e=>Array.from(e.target.parentElement?.children??[]).some((e=>e.getBoundingClientRect().height>this.adUnitContainerMaxHeightPx))));(this.latestBidWonInfo?this.latestBidWonInfo.isParallaxable&&t:t)?this.renderParallax():this.cleanUp()})),this.mutationObserver=new MutationObserver((e=>{this.mutationDebounceTimeout&&clearTimeout(this.mutationDebounceTimeout),this.mutationDebounceTimeout=setTimeout((()=>{this.mutationDebounceTimeout=void 0,e.flatMap((e=>Array.from(e.addedNodes))).forEach((e=>{e instanceof HTMLElement&&this.resizeObserver?.observe(e)})),e.flatMap((e=>Array.from(e.removedNodes))).forEach((e=>{e instanceof HTMLElement&&this.resizeObserver?.unobserve(e)}))}),Us.MUTATION_DEBOUNCE_TIMEOUT_VALUE_MS)})),this.mutationObserver.observe(this.adUnitContainer,{childList:!0})}renderParallax(){this.adUnitContainer.classList.add(Us.PARALLAX_ADUNIT_CONTAINER_CLASS),this.adUnitContainerShadowRoot.getElementById(Us.PARALLAX_CLIP_ID)?.classList.add(Us.PARALLAX_CLIP_ENABLED_CLASS);const e=this.getHighestChildRect(this.adUnitContainer),t=10+(window.innerHeight-(e?.height??0))/2,i=new CSSStyleSheet;i.insertRule(`#${Us.PARALLAX_CLIP_ID}.${Us.PARALLAX_CLIP_ENABLED_CLASS} { height: ${this.minViewableHeightPx}px; width: ${e?.width??0}px; clip-path: rect(0 auto ${this.minViewableHeightPx}px 0); position: relative; margin: 0 auto; } `),i.insertRule(`#${Us.PARALLAX_CLIP_ID}.${Us.PARALLAX_CLIP_ENABLED_CLASS} ::slotted(*) {\n        position: fixed;\n        top: ${t}px;\n      }`),this.adUnitContainerShadowRoot.adoptedStyleSheets=[i]}cleanUp(){this.adUnitContainer.classList.remove(Us.PARALLAX_ADUNIT_CONTAINER_CLASS),this.adUnitContainerShadowRoot.getElementById(Us.PARALLAX_CLIP_ID)?.classList.remove(Us.PARALLAX_CLIP_ENABLED_CLASS)}}Us.MUTATION_DEBOUNCE_TIMEOUT_VALUE_MS=40,Us.PARALLAX_ADUNIT_CONTAINER_CLASS="adm-parallax",Us.PARALLAX_CLIP_ID="adm-parallax-clip",Us.PARALLAX_CLIP_ENABLED_CLASS="adm-parallax-clip-enabled",Us.BLOCKED_ADAPTERS=["invibes","seedtag","kargo","ogury"],Us.BLOCKED_SIZES=["1x1"];const Ps=(e,t)=>{try{return new Us(e,t)}catch(t){b(`${Rs} unable to prepareParallax for adUnit ${e.divId}`,t)}};var Os;class xs extends HTMLElement{constructor(){super();const e=window.kleanadsPbjs;if(this.aliasedBidders={},e){try{this.aliasedBidders=e.aliasRegistry}catch(e){b("[pbstck-sticky] unable get the list of aliases",e)}try{e.onEvent("bidWon",this.winningBid.bind(this))}catch(e){b("[pbstck-sticky] unable to listen to bidWon event",e)}}else b("[pbstck-sticky] pbjs not loaded, unable to listen to bidWon event");this.attachShadow({mode:"open"}),this.mutationObserver=new MutationObserver((e=>{this.isAddingCreative(e)&&(Os.shouldDisplay=!0),this.updateShadowLayout()})),this.addEventListener("close",(()=>{m('[pbstck-sticky] event "close" caught'),this.close()}))}isBidderNotToDisplay(e){return Os.adaptersNotToDisplay.includes(e)||Os.adaptersNotToDisplay.includes(this.aliasedBidders[e])}winningBid(e){e.adUnitCode===this.id&&this.isBidderNotToDisplay(e.bidderCode)&&(m("[pbstck-sticky] blocked bidder, preventing display",e),Os.shouldDisplay=!1,this.updateShadowLayout())}close(){m("[pbstck-sticky] closing sticky component"),this.shadowRoot&&(this.mutationObserver.disconnect(),this.shadowRoot.innerHTML="\n          <style>\n              :host {\n                display: none;\n              }\n          </style>")}isAddingCreative(e){return e[0]?.addedNodes[0]&&e[0]?.target.parentElement?.id===this.id}connectedCallback(){this.isConnected&&(this.setAttribute("data-pbstck-component","no-ad"),this.setShadowDom("<div></div>"),this.updateShadowLayout(),this.mutationObserver.observe(this,{subtree:!0,childList:!0}))}disconnectedCallback(){this.mutationObserver.disconnect()}attributeChangedCallback(){this.updateShadowLayout()}getHighestChild(){const e=Array.from(this.children);if(0!==e.length)return Ls(e)}setShadowDom(e){this.shadowRoot&&(Os.shouldDisplay?this.shadowRoot.innerHTML=`\n          <style> \n              :host {\n                display: block;\n                max-height: ${Os.maxHeight}px;\n                overflow: hidden;\n                position: fixed;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                margin: 0;\n                padding: 0;\n                z-index: 99999999;\n              }\n              .sticky-button {\n                height: 28px;\n                width: 28px;\n                background: ${Os.backgroundColor};\n                position: absolute;\n                bottom: 0;\n                right: 0;\n                border-radius: 5px 0 0 0;\n                box-shadow: rgba(0, 0, 0, 0.2) -2px -2px 3px -1px, rgba(0, 0, 0, 0.1) -1px -1px 2px -1px !important;\n              }\n              .sticky-button-container {\n                height: 30px;\n                position: relative;\n              }\n              .sticky-button-text {\n                display: block;\n                height: 22px;\n                width: 22px;\n                padding: 3px;\n              }\n              .sticky-container {\n                background: ${Os.backgroundColor};\n                padding: 8px 0;\n                box-shadow: rgba(0, 0, 0, 0.2) 0px -1px 5px -1px, rgba(0, 0, 0, 0.1) 0px 1px 2px -1px !important;\n              }\n              .sticky-container slot > * {\n                position: relative;\n              }\n              ::slotted(*) {\n                position: relative;\n              }\n              .cross {\n                display: block;\n              }\n              .sticky-container slot {\n                width: fit-content;\n                width: -moz-fit-content;\n                block-size: fit-content;\n                margin: 0 auto !important;\n                display: block;\n              }\n            }\n          </style>\n          ${e}`:this.shadowRoot.innerHTML="\n          <style>\n              :host {\n                display: block;\n                width: 100%;\n                height: 1px;\n                background: transparent;\n                position: fixed;\n                bottom: 0;\n              }\n          </style><div></div>")}updateShadowLayout(){if(m(`[pbstck-sticky] updating element ${this.id}`),!this.shadowRoot)return;this.setAttribute("data-pbstck-component","sticky");const e=document.createElement("div");e.className="sticky-container";const t=document.createElement("slot");e.append(t),this.setShadowDom(`${e.outerHTML}`);const i=this.getHighestChild();if(i&&Os.shouldDisplay){i.style.display="block",i.style.margin="0 auto",i.style.bottom="0",i.style.maxHeight=`${Os.maxCreativeHeight}px`;const e=document.createElement("div");e.className="sticky-button-container";const t=document.createElement("div");t.className="sticky-button";const n=document.createElement("div");n.className="sticky-button-text",n.addEventListener("click",(()=>{m("[pbstck-sticky] Close button pressed"),this.close()}));const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M 5.3,18.7 C 5.5,18.9 5.7,19 6,19 6.3,19 6.5,18.9 6.7,18.7 l 5.3,-5.3 5.3,5.3 c 0.2,0.2 0.5,0.3 0.7,0.3 0.2,0 0.5,-0.1 0.7,-0.3 0.4,-0.4 0.4,-1 0,-1.4 L 13.4,12 18.7,6.7 c 0.4,-0.4 0.4,-1 0,-1.4 -0.4,-0.4 -1,-0.4 -1.4,0 L 12,10.6 6.7,5.3 c -0.4,-0.4 -1,-0.4 -1.4,0 -0.4,0.4 -0.4,1 0,1.4 l 5.3,5.3 -5.3,5.3 c -0.4,0.4 -0.4,1 0,1.4 z");const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("class","cross"),a.setAttribute("height","22px"),a.setAttribute("width","22px"),a.setAttribute("fill","#333"),a.append(s),n.append(a),t.append(n),e.append(t),this.shadowRoot.prepend(e)}}}Os=xs,xs.backgroundColor="rgb(250, 250, 250)",xs.maxCreativeHeight=216,xs.buttonHeight=32,xs.maxHeight=Os.maxCreativeHeight+Os.buttonHeight,xs.shouldDisplay=!1,xs.adaptersNotToDisplay=["ogury","missena","seedtag","kargo","gumgum","bliink","sublime"];const Ls=e=>e.reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e),e[0]);function Ns(e){if(e.anchor){const t=e.divId,i=document.getElementById(t);if(m(`[pbstck-sticky] preparing sticky for ${e.adUnitName}`,e),"pbstck-sticky"===i?.localName)return void m(`[pbstck-sticky] div ${t} already prepared`);const n=document.createElement("pbstck-sticky");n.id=t;const s=`adm-sticky-${t}`;if(i)i.id=s,i.appendChild(n);else{const e=document.createElement("div");e.id=s,e.appendChild(n),document.body?document.body.appendChild(e):v("Body not found, cannot append sticky")}p(`[pbstck-sticky] prepared sticky for ${e.adUnitName}`,e)}}const Ds="adm-ad-loading",js="adm-ad-empty",Bs="adm-ad-rendered",Ms="adm-ad-skin",Vs="data-adm-skin",Ws=["sublime","justpremium","gumgum","dspx","richaudience"];const zs=(e,t,i,n)=>t>15?(b("Could not declare XPLN targetings, xpln_targeting function is undefined"),void n()):e.xpln_targeting&&e.xpln_targeting.toString().length>100?(e.xpln_targeting(),p(`XPLN targeting called after ${t} retry`),void i()):void setTimeout((()=>zs(e,t+1,i,n)),300),Fs=e=>new Promise(((t,i)=>zs(e,0,t,i))),Hs="[IAS Module]";const Gs="[instream]",Ks=20,qs="https://intake.pbstck.com/v1/intake/impression";function Ys(e,t){const i=function(e,t){const i=e.getElementsByTagName("TrackingEvents"),n=function(e){const t=e.getElementsByTagName("VAST")[0],i=t?.getAttribute("version"),n=t?.getAttribute("xmlns");return{version:i,xmlns:n}}(e);if(!n.version)return v(`${Gs} Invalid vast version string, tracking events are not added`),e;if(m(`${Gs} VAST version ${n.version} with namespace ${n.xmlns}`),!i[0]){m(`${Gs} No TrackingEvents found in VAST XML`);const t=e.getElementsByTagName("Linear"),i=n.xmlns?e.createElementNS(n.xmlns,"TrackingEvents"):e.createElement("TrackingEvents");t[0].appendChild(i)}return Object.entries(t).forEach((([t,s])=>{if(s)if("impression"!==t){const a=n.xmlns?e.createElementNS(n.xmlns,"Tracking"):e.createElement("Tracking");a.setAttribute("event",t),a.innerHTML=`<![CDATA[${s}]]>`,i[0].appendChild(a)}else{const t=function(e){const t=e.getElementsByTagName("InLine")[0];if(t)return t;const i=e.getElementsByTagName("Wrapper")[0];if(i)return i}(e);if(t){const i=n.xmlns?e.createElementNS(n.xmlns,"Impression"):e.createElement("Impression");i.innerHTML=`<![CDATA[${s}]]>`,t.appendChild(i)}}})),e}((new DOMParser).parseFromString(e,"text/xml"),t);return(new XMLSerializer).serializeToString(i)}function Xs(e,t){const i="pbstck",n=new Map,s=function(e){const t=document.getElementsByTagName("meta");return Array.from(t).filter((t=>t.name.includes(`${e}:`)))}(i);s.forEach((e=>{const t=(s=e.name,a=i,s.replace(`${a}:`,""));var s,a;n.has(t)&&b(`Custom dim ${t} is present many times`),n.size<Ks?n.set(t,e.content):b(`Skipping custom dim ${t} with ${e.content}: limit of ${Ks} keys exceeded`)})),n.set("kleanadsDefaultDevice",e),n.set("windowWidth",t.innerWidth.toString()),n.set("windowHeight",t.innerHeight.toString());const a=Object.assign({},...Array.from(n.entries()).map((([e,t])=>({[e]:t}))));return n.size>0&&m("Custom dim found :",a),a}function Js(e,t,i,n,s){const a=function(e,t,i,n,s){const a={scopeId:t.scopeId,tagId:e.tagId,device:Qs(),kleanAdsStackId:t.stackId,kleanAdsStackVersion:t.version,browserName:"unknown",browserVersion:"unknown",osName:"unknown",osVersion:"unknown",pbstckVersion:"unknown",pbjsVersion:i,pubstackManaged:!0,pubstackRefresh:!1,pubstackRefreshRank:0,refresh:!1,domain:Zs(e.pubstackWindow.location),hasUserId:"notAvailable",userIdProviderList:[],viewabilityMeasurable:!1,userConsentState:n,userConsentVersion:"notAvailable",lastAuctionId:"",href:ea(e.pubstackWindow.location),networkConnectionEffectiveType:navigator.connection?.effectiveType,pageId:e.pubstackWindow.__pbstck_page_id||"unknown",customFields:Xs(e.device,e.pubstackWindow)};function r(e){return e.size?`video-${e.size}`:e.height&&e.width?`video-${e.width}x${e.height}`:"video"}const o=t.adUnits.find((e=>e.divId===s.adUnitCode)),d=o?.adServerAdUnitName||s.adUnitCode,c=Zn(d,rt(e,t),t.gamConfig?.adUnitPathConfig??[],e.pageContext),l={adUnit:d,adUnitPath:c,adapterCode:s.bidderCode,bidderCode:s.bidderCode,bidId:s.adId,cpm:s.cpm,cpmUplift:0,size:r(s),tags:[]};return{...a,...l}}(e,t,i,n,s);return{impression:ta(qs,a)}}const Qs=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"},Zs=e=>{const t=e?.host??"unknown";return t.startsWith("www.")?t.substring(4):t},ea=e=>{let t;return t=e&&e.protocol&&e.host&&e.pathname?`${e.protocol}//${e.host}${e.pathname}`:"unknown",t};function ta(e,t){return e+`?event=${btoa(JSON.stringify(t))}`}const ia="kleanads_cmd_logs";let na=[];class sa{constructor(){this.name="SkinRendering",this.eligibleForSkinRendering=!1}async onStackConfigLoadSync({config:e,stackConfig:t}){if(this.eligibleForSkinRendering=function(e,t){return!!e.pocOverrides?.skinRenderingSettings?.siteLevel?.[e.tagId]?.enabledSkinRenderAdaptation&&!e.pocOverrides?.skinRenderingSettings?.stackLevel?.[e.stack.stackId]?.disableSkinRenderAdaptation&&t.adUnits?.some((e=>e.sizes.some((e=>z(e,[1800,1e3])))))}(e,t),this.eligibleForSkinRendering){const{maxHeaderHeightPx:t,marginTopPx:i,siteContentWidthPx:n,additionalSkinRenderingCss:s}=e.pocOverrides?.skinRenderingSettings?.stackLevel?.[e.stack.stackId]?.style??e.pocOverrides?.skinRenderingSettings?.siteLevel?.[e.tagId]?.style??{};this.configuredMaxHeaderHeightPx=t,this.configuredMarginTopPx=i,this.configuredSiteContentWidthPx=n,this.configuredAdditionalSkinRenderingCss=s,m("[Skin] Configuration eligible for skin rendering.")}}async onAfterPrebidReady({prebid:e,config:{pubstackWindow:t}}){this.pbjs=e,this.eligibleForSkinRendering&&(this.onBidWonHandler=this.onBidWon.bind(this),this.pbjs.getPbjs().onEvent("bidWon",this.onBidWonHandler),it((()=>{this.onSlotRenderEndedHandler=this.onSlotRenderEnded.bind(this),t.googletag.pubads().addEventListener("slotRenderEnded",this.onSlotRenderEndedHandler)})))}async clean(){this.onBidWonHandler&&(this.pbjs?.getPbjs().offEvent("bidWon",this.onBidWonHandler),this.onBidWonHandler=void 0),this.onSlotRenderEndedHandler&&(window.googletag.pubads().removeEventListener("slotRenderEnded",this.onSlotRenderEndedHandler),this.onSlotRenderEndedHandler=void 0)}onBidWon(e){this.shouldApplyPrebidSkinRendering(e)?this.applySkinCSS(e.adUnitCode,"prebid"):this.removeSkinRendering(e.adUnitCode)}onSlotRenderEnded(e){this.isFromGAM(e)?this.applySkinCSS(e.slot.getSlotElementId(),"gam"):e.size&&!z(e.size,[3,1])&&this.removeSkinRendering(e.slot.getSlotElementId())}removeSkinRendering(e){const t=document.getElementById(e);t&&t.classList.remove(sa.SKIN_RENDERING_CSS_CLASS)}shouldApplyPrebidSkinRendering(e){const t=Ws,i=this.pbjs?.getPbjs();if(i){const n=t.some((t=>e.bidderCode===t||i.aliasRegistry[e.bidderCode]===t));return"1800x1000"===e.size&&!n}return v("shouldApplyPrebidSkinRendering: unable to get aliasRegistry: prebid is not defined"),!1}isFromGAM(e){return!!e.size?.length&&1800===e.size[0]&&1e3===e.size[1]}applySkinCSS(e,t){const i=document.getElementById(e);if(i){if("gam"===t)return;m(`[Skin] applying rendering for ${e} from ${t}`);const n=this.configuredMaxHeaderHeightPx??250,s=this.configuredMarginTopPx??0,a=this.configuredSiteContentWidthPx??1e3,r=this.configuredAdditionalSkinRenderingCss??"",o=1e3,d=(1800-a)/2,c=d+a,l=document.createElement("style");l.setAttribute("data-kleanads","true"),l.textContent=`\n        #${e}.${sa.SKIN_RENDERING_CSS_CLASS} {\n          /* leave security margin to help display top of creative */\n          height: ${n}px;\n          /* set it properly in page flow */\n          display: block;\n          margin-top: ${s}px;\n        }\n  \n        #${e}.${sa.SKIN_RENDERING_CSS_CLASS} > div {\n          /* horizontally center creative */\n          transform: translateX(-50%);\n          position: absolute;\n          left: 50%;\n  \n          /* clipping out the unused part of the creative to leave content visible */\n          clip-path: polygon(0 0, 0% 100%, ${d}px ${o}px, ${d}px ${n}px, ${c}px ${n}px, ${c}px 100%, 100% 100%, 100% 0%);\n        }\n  \n        ${r}\n        `,document.head.appendChild(l),i.classList.add(sa.SKIN_RENDERING_CSS_CLASS)}else b(`skin rendering impossible - adUnitDiv not found for ${e}`)}}sa.SKIN_RENDERING_CSS_CLASS="pbstck_skin_rendering";const aa=[class{constructor(){this.name="Metas",this.customFields=[],this.targetings=[]}load({config:e}){I("kleanads-version",e.kleanadsVersion),this.customFields.push("kleanads-version"),se.getInstance().uprTested&&(I("xp_variant",`floor_optimization:${se.getInstance().uprEnabled}`),this.customFields.push("xp_variant"))}async onStackConfigLoad({stackConfig:e}){I("config-version",`${e.version}`),I("kleanads-stack-id",e.stackId),this.customFields.push("config-version","kleanads-stack-id"),k("adm_stack",`${e.stackId}_v${e.version}`),this.targetings.push("adm_stack"),k("adm_stack_name",function(e){if(e.stackName){const t=`_v${e.version}`;return`${e.stackName.substring(0,40-t.length)}${t}`}return`${e.stackId}_v${e.version}`}(e)),this.targetings.push("adm_stack_name"),e.runningABTest.forEach((e=>{I(e.name,Array.isArray(e.value)?e.value.join(","):e.value),this.customFields.push(e.name)}))}async clean(){this.customFields.forEach((e=>{try{!function(e){const t=document.querySelector(`meta[name="pbstck:${e}"]`);t&&t.remove()}(e)}catch(t){b(`Unable to remove CustomField meta tag ${e}`,t)}})),this.customFields=[],this.targetings.forEach((e=>{try{!function(e){const t=document.querySelector(`meta[name="ad:${e}"]`);t&&t.remove()}(e)}catch(t){b(`Unable to remove targeting meta tag ${e}`,t)}})),this.targetings=[]}},Bt,bt,class{constructor(){this.name="ContainersModule",this.firstStickyDefined=!1}load(){if("function"==typeof customElements?.define&&"function"==typeof MutationObserver){if(customElements.get("pbstck-sticky"))return;try{customElements.define("pbstck-sticky",xs)}catch(e){v(`[ContainersModule] unable to define custom elements, error "${e}"`)}}else b('[ContainersModule] unable to define custom elements, error: "browser not compatible"')}async onPrepareAdUnits({toPreparedAdUnits:e,stackConfig:t}){for(const i of e??[]){const e=t.prebidConfig?.pbjsConfig.bidderAliases;i.parallax&&Ps(i,e),i.anchor&&!this.firstStickyDefined&&(Ns(i),this.firstStickyDefined=!0)}}async clean(){}},mt,class{constructor(){this.name="Collector",this._scriptAdded=!1}async onAfterConsent({config:e}){this._scriptAdded||(setTimeout((()=>{p("Downloading pubstack collector"),R(`https://boot.pbstck.com/v1/tag/${e.tagId}`)}),200),this._scriptAdded=!0)}async clean(){}},hs,sa,class{constructor(){this.name="CssClass"}async onAfterAdServerReady({adServer:e}){e.renderListener(this.applyClassBySlotRenderEndedEvent)}async onAfterPrebidReady({prebid:e}){m("[CssClassModule] onAfterPrebidReady event received"),e.getPbjs().onEvent("bidWon",this.applyClassByBidWon)}async applyClassBySlotRenderEndedEvent(e){const t=e.divId,i=document.getElementById(t);i&&(e.isEmpty?(i.classList.replace(Ds,js),m(`[CSS Class] slot empty: ${t}`)):(i.classList.replace(Ds,Bs),i.classList.replace(js,Bs),e.size?.length&&1800===e.size[0]&&1e3===e.size[1]?(i.classList.add(Ms),i.setAttribute(Vs,"gam"),m(`[CSS Class] slot rendered is skin: ${t}`)):(i.classList.remove(Ms),i.removeAttribute(Vs)),m(`[CSS Class] slot rendered: ${t}`)))}applyClassByBidWon(e){const t=document.getElementById(e.adUnitCode);"1800x1000"===e.size&&(t?.classList.add(Ms),t?.setAttribute(Vs,"prebid"),Ws.includes(e.bidderCode)||t?.classList.add("adm-ad-skin-resizable"),m(`[CSS Class] bidWon is skin: ${e.adUnitCode}`))}async onPrepareAdUnits({toPreparedAdUnits:e}){e&&e.forEach((e=>{const t=document.getElementById(e.divId);t&&t.classList.add(Ds)}))}clean(){return Promise.resolve(void 0)}},class{constructor(){this.name="XplnModule"}async onStackConfigLoad({config:e,stackConfig:t}){if(t.xplnConfig?.enabled&&t.xplnConfig?.publisherId){const i=t.xplnConfig.publisherId;((e,t)=>{const i=e.document.createElement("script"),n=e.document.createElement("script");i.innerHTML=`(function(x,p,l,n,a,i) {\n          a=p.createElement(l);a.async=!0;a.src=n;a.xpln=x;\n          i=p.currentScript||p.getElementsByTagName(l)[0];i.parentNode.insertBefore(a,i);\n          })({xid:'${t}'},document,'script','https://cdn.xpln.tech/page.js');`,n.innerHTML=`(function(x,p,l,n,a,i) {\n          self.xpln_targeting=function(){};\n          a=x.createElement(p);a.async=!0;\n          a.src=l+'${t}'+'/'+location.hostname+'.js';\n          i=x.currentScript||x.getElementsByTagName(p)[0];i.parentNode.insertBefore(a,i);\n          })(document,'script','https://cdn.xpln.tech/');`,i.type="text/javascript",n.type="text/javascript",i.setAttribute("data-kleanads","true"),n.setAttribute("data-kleanads","true"),e.document.head.appendChild(i),e.document.head.appendChild(n)})(e.pubstackWindow,i)}}async onAfterAdServerReady({config:e,stackConfig:t,adServer:i}){t?.xplnConfig&&(p("XplnModule declare xpln targeting when ready"),i.registerExternalTargetingDeclaration((()=>Fs(e.pubstackWindow))))}async clean(){}},class{constructor(){this.name="PublicAccessModule",this.cmd=[],this._refresh_init_listener=e=>{},this._page_change_listener=()=>{window._pbstckKleanAds.apiReady=!1}}async onStackConfigLoadSync({config:e,stackConfig:t}){e.pubstackWindow._pbstckKleanAds.getBootstrapConfig=()=>{const{pubstackWindow:t,...i}=e;return i},e.pubstackWindow._pbstckKleanAds.getStackConfig=()=>t,e.pubstackWindow._pbstckKleanAds.apiReady=!0,window.addEventListener(Wn.PAGE_CHANGE,(()=>{e.pubstackWindow._pbstckKleanAds.apiReady=!1})),this._refresh_init_listener=t=>{e.pubstackWindow._pbstckKleanAds.stopRefresh=e=>{t?.detail?.stopRefresh?.(e)},e.pubstackWindow._pbstckKleanAds.refreshApiReady=!0},window.addEventListener(Wn.REFRESH_INIT,this._refresh_init_listener)}async onPrepareAdUnits(){}async onAfterExternalApiReady({config:e,monetize:t}){Array.isArray(window.kleanads?.cmd)&&this.cmd.push(...window.kleanads.cmd.filter((e=>e instanceof Function))),window.kleanads={cmd:{push:(...t)=>{t.length&&t.forEach((t=>{t instanceof Function?(y("[KleanadsAPI] Valid callback input",ia,{method:"cmd.push",valid:"true"}),e.pubstackWindow._pbstckKleanAds.apiReady?t():na.push(t)):y("[KleanadsAPI] Invalid callback input",ia,{method:"cmd.push",valid:"false",input:`${t}`})}))}},monetize:(e,...i)=>e&&"string"==typeof e&&0===i.length?(y("[KleanadsAPI] Valid monetize input",ia,{method:"monetize",valid:"true"}),t(e)):(y("[KleanadsAPI] Invalid input",ia,{method:"monetize",valid:"false",input:`${[e,...i]}`}),Promise.reject("KSERR_01 - invalid input"))},[...na,...this.cmd].forEach((e=>{y("[KleanadsAPI] Valid callback input",ia,{method:"cmd.push",valid:"true"}),e()})),this.cmd=[],na=[]}async clean({config:e}){e.pubstackWindow._pbstckKleanAds.apiReady=!1,e.pubstackWindow._pbstckKleanAds.getBootstrapConfig=()=>{throw new Error("Not ready yet, wait for apiLoaded.")},e.pubstackWindow._pbstckKleanAds.getStackConfig=()=>{throw new Error("Not ready yet, wait for apiLoaded.")},window.removeEventListener(Wn.REFRESH_INIT,this._refresh_init_listener),window.removeEventListener(Wn.PAGE_CHANGE,this._page_change_listener)}},class{constructor(){this.name="IasModule"}async onAfterAdServerReady({config:e,stackConfig:t,adServer:i}){const n=t.iasConfig?.pubId;n&&i.registerExternalTargetingDeclaration((t=>this.declareIasTargetingsWhenReady(e.pubstackWindow,n,t)))}async clean(){}declareIasTargetingsWhenReady(e,t,i){return new Promise(((n,s)=>this.tryDeclareIasTargetings(e,0,t,i,n,s)))}async tryDeclareIasTargetings(e,t,i,n,s,a){if(t>15)return b(`${Hs} Could not declare IAS targetings because they could not be retrieved`),void a();const r=this.prepareSlots(n),o=await this.getTargetings(i,r,e);if(p(`${Hs} IAS targeting called`,o),o){const e=await o.json();return n.forEach((t=>{if(e.slots[t.getSlotElementId()]&&(void 0!==e.custom["ias-kw"]&&(t.setTargeting("ias-kw",e.custom["ias-kw"]),Object.keys(e.brandSafety).forEach((i=>{t.setTargeting(i,e.brandSafety[i])}))),void 0!==e.fr&&t.setTargeting("fr",e.fr),p(`${Hs} IAS targeting called for slot ${t.getSlotElementId()}`,e),t.getSlotElementId()in e.slots&&e.slots[t.getSlotElementId()].vw)){const i=e.slots[t.getSlotElementId()].vw.toString().replaceAll(",","%2C");t.setTargeting("vw",i)}})),m(`${Hs} IAS targeting called${t?" after "+t+" tries":""}`),void s()}setTimeout((()=>this.tryDeclareIasTargetings(e,t+1,i,n,s,a)),300)}async getTargetings(e,t,i){let n=`https://pixel.adsafeprotected.com/services/pub?anId=${e}`;t.forEach((e=>{n=n.concat(`&slot=${e}`)})),n=n.concat(`&wr=${this.viewports(i)}&sr=${this.browserSize(i)}&sessionId=${St()}&url=${encodeURIComponent(i.location.href)}`),m(`${Hs} URL:`,n);try{return await fetch(n.toString())}catch(e){b(`${Hs} Error while fetching IAS targetings`,e)}}prepareSlots(e){const t=[];return e.length>0&&e.forEach((e=>{t.push(this.slotsToString(e))})),t}slotsToString(e){return`%7Bid:${e.getSlotElementId()},ss:[${e.getSizes().filter((e=>"fluid"!==e)).map((e=>`${e.width}.${e.height}`)).join(",")}],p:${e.getAdUnitPath()},t:display%7D`}viewports(e){return`${e.innerWidth}.${e.innerHeight}`}browserSize(e){return`${e.screen.width}.${e.screen.height}`}},class{constructor(){this.name="InstreamAnalytics",this.consent="notAvailable"}async onAfterConsentAccepted(){this.consent="accepted"}async onAfterConsentRefused(){this.consent="refused"}async onAfterPrebidReady({config:e,stackConfig:t,prebid:i}){this.pbjs=i.getPbjs(),this.onBidAcceptedHandler=function({config:e,stackConfig:t,pbjsVersion:i,userConsentState:n}){return s=>{if(t.adUnits?.some((e=>e.isInstream&&e.externalAdServer))&&(s.vastXml||s.vastUrl)){const a=Js(e,t,i,n,s);s.vastXml?s.vastXml=Ys(s.vastXml,a):s.vastUrl&&(s.vastXml=`<VAST version="4.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[${s.vastUrl}]]></VASTAdTagURI>\n        <Creatives></Creatives>\n        <Impression><![CDATA[${a.impression}]]></Impression>\n      </Wrapper>\n    </Ad>\n  </VAST>`,s.vastUrl=void 0)}}}({config:e,stackConfig:t,pbjsVersion:this.pbjs.version,userConsentState:this.consent}),this.pbjs.onEvent("bidAccepted",this.onBidAcceptedHandler)}async clean(){this.onBidAcceptedHandler&&this.pbjs?.offEvent("bidAccepted",this.onBidAcceptedHandler)}}];class ra{static getModules(){return aa}}async function oa(e){if(window._kleanadslock)return void m("kleanads.js already started");window._kleanadslock=!0,ke(me.BEGIN_INIT);const t=async()=>{const t=await Cs(e,ra.getModules().map((e=>new e)));t&&await Ss(t)};if(e.pocOverrides?.waitForEventToInit){const i=setTimeout((()=>{v("Wait for init event is too long")}),6e4),n=()=>{window.removeEventListener(e.pocOverrides?.waitForEventToInit||"",n),clearTimeout(i),t()};m(`[INIT] wait for event ${e.pocOverrides?.waitForEventToInit} to start kleanads`),window.addEventListener(e.pocOverrides?.waitForEventToInit,n)}else await t()}return window._pbstckKleanAds={initKleanAds:oa,apiReady:!1,getBootstrapConfig:()=>{throw new Error("Not ready yet, wait for apiReady.")},getStackConfig:()=>{throw new Error("Not ready yet, wait for apiReady.")},refreshApiReady:!1,stopRefresh:()=>{throw new Error("Not ready yet, wait for refreshApiReady.")}},e.initKleanAds=oa,e}({});
; window._pbstckKleanAds.initKleanAds({"tagId":"41886144-ec7e-4e26-b10f-9fb34d7cdd71","adCallTimeout":3000,"configUrl":"https://cdn-adm.pbstck.com","screenSizeBreakpoints":[{"size":0,"device":"mobile"},{"size":768,"device":"desktop"}],"metricThrottling":false,"networkId":6428571,"context":[{"key":"country","defaultValue":"","otherValues":["de","en","es","fr","it","pt","uk","us","nl"]},{"key":"website","defaultValue":"","otherValues":["3downnation.com","anfieldwatch.co.uk","arsenal-mania.com","astonvillanews.com","athleticsweekly.com","bigblueinteractive.com","blackcatsnews.com","boxingforum24.com","boxingnews24.com","boxrec.com","brightonandhovenews.org","canonrumors.com","celticfcnews.com","centredevils.co.uk","championofchampionssnooker.co.uk","championshipleaguesnooker.co.uk","chelseanews.com","ciclismoaldia.es","claretandhugh.info","cyclinguptodate.com","daveockop.com","easysbc.io","empireofthekop.com","evertonnews.com","fadeawayworld.net","fetcheveryone.com","followfollow.com","footballscoop.com","forum.killerfrogs.com","goldenskate.com","golfpost.com","golfpost.de","golftoday.co.uk","goonernews.com","gp33.nl","gpblog.com","gpfans.com","grimsbyboroughfc.com","hammersheadlines.com","hometeamlive.com","hornsports.com","howdidido.com","huskerboard.com","isthmian.co.uk","killerfrogs.com","ladieseuropeantour.com","leadingcourses.com","leedsallover.com","liverpoolway.co.uk","managingbarca.com","mancitynews.com","manunews.com","meetscoresonline.com","musicstax.com","newcastleunitednews.org","nowarsenal.com","paisleygates.com","prepvolleyball.com","pwmania.com","rangersfcnews.com","rlfans.com","rockytopinsider.com","rotowire.com","rugby365.com","rugbyfederal.com","rugbypass.com","running.life","sammobile.com","scorenco.com","secondsout.com","speedcafe.com","spursnews.com","swimstandards.com","tennisuptodate.com","tfcstadiums.com","thecelticblog.com","themag.co.uk","themanc.com","thenpl.co.uk","tmspn.com","topdrawersoccer.com","transfernewslive.com","vaughn.live","vfl-app.com","walkon.com","wheresthematch.com","whoscored.com","wrestletalk.com","wrestlingnews.co","buckeyehuddle.com"]},{"key":"parallax","defaultValue":"","otherValues":["true","false"]},{"key":"no_ads","defaultValue":"","otherValues":["yes"]},{"key":"ab_test_enforced","defaultValue":"false","otherValues":["true"]},{"key":"hide_floor","defaultValue":"false","otherValues":["true"]},{"key":"no_tam","defaultValue":"","otherValues":["yes"]},{"key":"publisher","defaultValue":"","otherValues":["vital","streamlinecontent"]}],"pubstackDeclarationTargetingKeys":["adm"],"priceRuleBuckets":[{"max":"5","increment":"0.05"}],"globalRefreshConfig":{"prebidOrderIds":[3593603737,3595152405]},"pocOverrides":{"secondaryBidders":{"sites":{"06026f70-c902-49dd-b9d5-d5f8b0fb8d25":{"secondaryBidders":["ttd","missena","triplelift","rubicon"]},"41886144-ec7e-4e26-b10f-9fb34d7cdd71":{"secondaryBidders":["ttd","vidazoo","amx","sparteo"]},"6fccd536-3e7b-4c79-99a7-1ad3f2747b9b":{"secondaryBidders":["vidazoo","ozone","appnexus","insticator","adasta"]}}},"adxRefreshTimer":{"scope":30},"refreshBehaviorOnEmpty":"instantSecondChance","consentlessMode":"GAM","uprState":"tested","uprRatio":80,"dynamicPrebidFloors":{"scope":true},"floorEnforcement":{"scope":{"enforceJS":false}},"refreshAlwaysInViewAdUnitNames":["arsenalmania.com - Desktop-Sticky","arsenalmania.com - Mobile-Sticky","arsenalmania.com Desktop-Sticky Parallax","videocelts.com - Desktop-Sticky","videocelts.com - Mobile-Sticky","videocelts.com - Desktop-Sticky Parallax","Desktop-Sticky","Mobile-Sticky","desktop-sticky","mobile-sticky","Desktop-Sticky-Parallax"],"convertToInterstitialAdUnits":["interstitial"]},"stacks":[{"scopeId":"337feb8f-8206-4260-89ad-5ab0f70b0fef","stackName":"Default","siteId":"41886144-ec7e-4e26-b10f-9fb34d7cdd71","stackId":"4df4c764-c82b-44ea-b30c-19619478e829","versions":[{"version":78,"ratio":100}],"conditions":null,"priority":null},{"scopeId":"337feb8f-8206-4260-89ad-5ab0f70b0fef","stackName":"s2s A/B test","siteId":"41886144-ec7e-4e26-b10f-9fb34d7cdd71","stackId":"f1b0c20f-ff99-407f-ba4b-685068f88bfe","versions":[{"version":21,"ratio":100}],"conditions":{"op":"AND","elements":[{"op":"IN","key":"ab_test_enforced","values":["true"]}]},"priority":1}],"extraScripts":[{"scripts":["https://cdn-adm.pbstck.com/extra-scripts/basic-scripts-pool/inject_adm_meta.js","https://cdn-adm.pbstck.com/extra-scripts/basic-scripts-pool/no_cmp_event.js","https://cdn-adm.pbstck.com/extra-scripts/basic-scripts-pool/language-checker.js","https://cdn-adm.pbstck.com/extra-scripts/337feb8f/41886144/s2s_activation_50.1744036239653.js","https://scripts.webcontentassessor.com/scripts/6d12182dca2d583690e17146fc86d0f2104f1ef9ab34c628526fb262270c3895"],"tagId":"41886144-ec7e-4e26-b10f-9fb34d7cdd71","synchronous":true,"beforeStart":true},{"scripts":["https://scripts.snack-media.com/audigent/script_v2.js"],"tagId":"41886144-ec7e-4e26-b10f-9fb34d7cdd71","synchronous":false,"beforeStart":false}],"multiformat":{"bidders":["adagio","appnexus","criteo"]},"newPrebidUrl":"https://cdn-adm.pbstck.com/kleanads-prebid/9.48.0-56185810d438de78ab0623a4488cc3c3208d5ce6.js","kleanadsVersion":"2507211507"}); })();</script><script type="text/javascript" id="__tcfapiuiscript" src="https://cmp.inmobi.com/tcfv2/60/cmp2ui-en.js"></script><style qc-data-emotion="css-global" data-s=""></style><style qc-data-emotion="css" data-s=""></style><meta name="ad:adm" content="1"><meta name="ad:no_cmp" content="true"><meta name="ad:navigator_language" content="en-US"><script src="https://api.bounceexchange.com/state/js?website_id=7284&amp;device_id=4763800788886299191&amp;visit_id=1753601965706063" type="text/javascript" async="async"></script><script src="//assets.bounceexchange.com/cache/7284/campaigns/2575707-1d6d696496ea9e517168ed3f6a53fea5.js" type="text/javascript" async="async"></script><link id="creativesBaseStyles" rel="stylesheet" href="//assets.bounceexchange.com/tag/css/creatives-base-styles.a53944a2.min.css" type="text/css"><meta name="pbstck:kleanads-version" content="2507211507"><meta name="pbstck:xp_variant" content="floor_optimization:true"><script src="https://scripts.snack-media.com/audigent/script_v2.js" async="true" data-kleanads="true"></script><script src="https://securepubads.g.doubleclick.net/tag/js/gpt.js" async="true" data-kleanads="true"></script><script src="https://boot.pbstck.com/v1/tag/41886144-ec7e-4e26-b10f-9fb34d7cdd71" async="true" data-kleanads="true"></script><meta http-equiv="origin-trial" content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="A9wSqI5i0iwGdf6L1CERNdmsTPgVu44ewj8QxTBYgsv1LCPUVF7YmWOvTappqB1139jAymxUW/RO8zmMqo4zlAAAAACNeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiRmxlZGdlQmlkZGluZ0FuZEF1Y3Rpb25TZXJ2ZXIiLCJleHBpcnkiOjE3MzY4MTI4MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A+d7vJfYtay4OUbdtRPZA3y7bKQLsxaMEPmxgfhBGqKXNrdkCQeJlUwqa6EBbSfjwFtJWTrWIioXeMW+y8bWAgQAAACTeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiRmxlZGdlQmlkZGluZ0FuZEF1Y3Rpb25TZXJ2ZXIiLCJleHBpcnkiOjE3MzY4MTI4MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><script src="https://securepubads.g.doubleclick.net/pagead/managed/js/gpt/m202507240101/pubads_impl.js?cb=31093651" async=""></script><link href="https://securepubads.g.doubleclick.net/pagead/managed/dict/m202507240101/gpt" rel="compression-dictionary"><script src="https://p.ad.gt/api/v1/p/374" async=""></script><meta name="pbstck:config-version" content="78"><meta name="pbstck:kleanads-stack-id" content="4df4c764-c82b-44ea-b30c-19619478e829"><meta name="ad:adm_stack" content="4df4c764-c82b-44ea-b30c-19619478e829_v78"><meta name="ad:adm_stack_name" content="Default_v78"><script esp-signal="true" src="https://cdn-ima.33across.com/ob.js"></script><script esp-signal="true" src="https://tags.crwdcntrl.net/lt/c/16589/sync.min.js"></script><script esp-signal="true" src="https://static.criteo.net/js/ld/publishertag.ids.js"></script><script esp-signal="true" src="https://connectid.analytics.yahoo.com/connectId-gpt.js"></script><script esp-signal="true" src="https://oa.openxcdn.net/esp.js"></script><script esp-signal="true" src="https://invstatic101.creativecdn.com/encrypted-signals/encrypted-tag-g.js"></script></head>

	<body><div class="qc-cmp2-container" id="qc-cmp2-container" data-nosnippet=""><div class="qc-cmp2-main" id="qc-cmp2-main" data-nosnippet=""><div height="945" class="qc-cmp-cleanslate css-150wp4b"><div id="qc-cmp2-usp" role="dialog" aria-labelledby="qc-usp-title" aria-modal="true" tabindex="0" class="css-bvrdvo"><button tabindex="0" aria-label="Close" aria-pressed="false" class="qc-usp-close-icon"></button><div class="qc-usp-ui-content"><p id="qc-usp-title" class="qc-usp-title">BoxRec - Do Not Process My Personal Information</p><div class="qc-usp-main-messaging" tabindex="0"><div class="usp-dns"><p>If you wish to opt-out of the sale, sharing to third parties, or processing of your personal or sensitive information for targeted advertising by us, please use the below opt-out section to confirm your selection. Please note that after your opt-out request is processed you may continue seeing interest-based ads based on personal information utilized by us or personal information disclosed to third parties prior to your opt-out. You may separately opt-out of the further disclosure of your personal information by third parties on the IAB’s list of downstream participants. This information may also be disclosed by us to third parties on the <a target="_blank" href="https://www.iabprivacy.com/optout.html">IAB’s List of Downstream Participants</a> that may further disclose it to other third parties.</p><p></p></div></div><div class="qc-usp-ui-form-content"><div class="qc-usp-container" style="max-height: 30vh; overflow: auto;"><ul class="qc-cmp2-consent-list css-u6tk2m"><div class="qc-cmp2-scrollable-section"><ul class="qc-cmp2-consent-list"><li id="1" class="qc-cmp2-list-item "><button role="listitem" class="qc-cmp2-list-item-header" aria-label="Opt-Outs" aria-live="polite"><div class="titles-header"><p class="qc-cmp2-list-item-title">Personal Data Processing Opt Outs</p></div><svg type="expand" width="12px" height="19px" viewBox="0 0 12 19" version="1.1" class="css-jswnc6"><defs><path d="M3.88716886,8.47048371 L12.1431472,0.315826419 C12.4725453,-0.0145777987 13.005189,-0.0145777987 13.3345872,0.315826419 L13.8321886,0.814947685 C14.1615867,1.1453519 14.1615867,1.67962255 13.8321886,2.01002677 L6.6625232,9.06802326 L13.8251801,16.1260197 C14.1545782,16.456424 14.1545782,16.9906946 13.8251801,17.3210988 L13.3275787,17.8202201 C12.9981806,18.1506243 12.4655368,18.1506243 12.1361387,17.8202201 L3.88016039,9.6655628 C3.55777075,9.33515858 3.55777075,8.80088793 3.88716886,8.47048371 Z" id="path-1"></path><rect id="path-3" x="0" y="0" width="18" height="18"></rect></defs><g id="New---Mobile-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="iPhone-11-6-Copy" transform="translate(-23.000000, -138.000000)"><g id="v1" transform="translate(20.000000, 138.000000)"><g id="Icons/angle-left"><mask id="mask-2" fill="white"><use href="#path-1"></use></mask><use id="Mask" fill="currentColor" fill-rule="nonzero" href="#path-1"></use></g></g></g></g></svg></button></li></ul></div></ul></div><button aria-label="CONFIRM" aria-pressed="false" size="large" mode="primary" class=" css-47sehv">CONFIRM</button></div></div><div class="qc-usp-alt-buttons"><a tabindex="0" id="qc-usp-delete-link" class="qc-usp-alt-action qc-usp-center-bottom" href="" title="Read More about the Data Deletion Policy">Data Deletion</a><a tabindex="0" id="qc-usp-access-link" class="qc-usp-alt-action qc-usp-center-bottom" href="" title="Read More about the Data Access Policy">Data Access</a><a tabindex="0" id="qc-usp-policy-link" class="qc-usp-alt-action qc-usp-center-bottom" href="" title="Read More about the Privacy Policy">Privacy Policy</a></div></div></div></div></div>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

		<script src="/build/runtime.cb9d43ef.js"></script><script src="/build/app_d.9d42841e.js"></script>
		<iframe name="__tcfapiLocator" style="display: none;"></iframe><iframe name="__gppLocator" style="display: none;"></iframe><script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js" integrity="sha512-4MvcHwcbqXKUHB6Lx3Zb5CEAVoE9u84qN+ZSMM6s7z8IeJriExrV3ND5zRze9mxNlABJ6k864P/Vl8m0Sd3DtQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

		
		
					<!-- Google Analytics -->
			<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZSWWSSWHLM"></script>
			<script>
				window.dataLayer = window.dataLayer || [];
				function gtag(){dataLayer.push(arguments);}
				gtag('consent', 'default', {
						'ad_storage': 'denied',
						'ad_user_data': 'denied',
						'ad_personalization': 'denied',
						'analytics_storage': 'denied',
						'region': ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IS', 'IE', 'IT', 'LV', 'LI', 'LT', 'LU', 'MT', 'NL', 'NO', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'GB'],
						'wait_for_update': 500
				});
				gtag('consent', 'default', {
						'ad_storage': 'granted',
						'ad_user_data': 'granted',
						'ad_personalization': 'granted',
						'analytics_storage': 'granted',
						'wait_for_update': 500
				});
				gtag('js', new Date());

				gtag('config', 'G-ZSWWSSWHLM', {
										'user_properties': {
					            'user_type': 'anonymous'
										}
					});
			</script>
		
		<div class="popupMenuBack" id="popupBack" onclick="$(this).hide();$('#popupBox, .actionsDivLeft, .actionsDivRight, #qsCon').hide();$('#pageOuter').css({ paddingTop: '0' });$('#sticky').css({zIndex:'99'});"></div>
		<div class="modalWindow" id="modalWindow" data-base-url="/en/">
			<div class="modalWindowInner">
				<i class="fas fa-times-circle window-close" onclick="$('#modalWindow').hide();$('#popupMenuBack').hide();$('#modalWindowContent').html('');"></i>
				<div id="modalWindowLoading"></div>
				<div id="modalWindowContent"></div>
			</div>
		</div>
		<div class="popupMenuBack popupMenuBackDark" id="popupMenuBack" onclick="$(this).hide();$('.actionsDivLeft, .actionsDivRight, #qsCon').hide();$('#pageOuter').css({ paddingTop: '0' });$('#sticky').css({zIndex:'99'});"></div>
		<div class="popupMenuBack" id="profileMenuBack" onclick="$(this).hide();$('#profileBox, .actionsDivLeft, .actionsDivRight, #qsCon').hide();$('#pageOuter').css({ paddingTop: '0' });$('#sticky').css({zIndex:'99'});"></div>

				<div id="popupBox"><div id="popupBoxInner"></div></div>
		<div class="headerOuter">
      			<div class="header">
				<a href="/en">
  <div class="logo"></div>
</a>

<div class="navUserBox" style="text-decoration: none;">
    <a href="https://www.redbubble.com/people/BoxRecDotCom/shop" target="_blank" style="position: relative; top: 10px; margin-right: 15px; text-decoration: none;" onclick="doGAOutboundLink(this, 'shop')">
      <span class="fa-layers fa-fw table-square-icon cell-icon">
        <i class="fa-solid fa-cart-shopping square-icon"></i>
        <span class="fa-layers-text">
          shop
        </span>
      </span>
    </a>
    <a href="/wiki/" style="position: relative; top: 10px; margin-right: 15px; text-decoration: none;">
      <span class="fa-layers fa-fw table-square-icon cell-icon">
        <i class="fab fa-wikipedia-w square-icon"></i>
        <span class="fa-layers-text">
          wiki
        </span>
      </span>
    </a>
          <a href="/forum/" style="position: relative; top: 10px; margin-right: 15px; text-decoration: none;">
          <span class="fa-layers fa-fw table-square-icon cell-icon">
        <i class="fa-regular fa-comments square-icon"></i>
        <span class="fa-layers-text">
          forum
        </span>
      </span>
    </a>

      <a href="/en/watchlist" style="position: relative; top: 10px; margin-right: 15px; text-decoration: none;">
      <span class="fa-layers fa-fw table-square-icon cell-icon">
        <i class="far fa-eye square-icon"></i>
        <span class="fa-layers-text">
          follow

        </span>
            </span>
    </a>
  
  
  


        <a class="lozengeButton" href="javascript:void(0);" style="font-weight:bold;" onclick="return genericModal('/en/login')">
        login
      </a>
    
  </div>
			</div>
		</div>

		<div id="sticky-sticky-wrapper" class="sticky-wrapper" style="height: 46px;"><div id="sticky">
							<div class="navBarOuter" id="navBarOuter" style="border-bottom:1px solid #ddd;">
					<div class="navBar">
						<div class="navLinks" style="position:relative;">

	     <form name="si" method="post" action="/en/quick_search" id="si">

    <div class="searchBox" style="position:absolute;z-index:202;padding-right:19px;margin:0 20px 0 0px;">
            <input type="text" id="si_search_text" name="si[search_text]" placeholder="search name or ID#" class="inputSearchBox" size="20" autocomplete="off" onblur="setTimeout(function(){ $(&quot;#roleSelector&quot;).hide(); changeCorners();}, 500); ">
      <div onclick="$('#si').submit();" id="go" name="go" class="searchSubmitButton searchSubmitButtonNavbar" style="display:inline-block;"><i class="fas fa-search" style="position:relative;font-size: 18px;color:#a10200 !important;padding-left:10px;"></i></div>



    </div>

  
  <div class="checkRadioContainer" id="roleSelector">
    <div id="suggest_results"></div>
    <div style="font-weight:bold;padding:5px;">search:</div>
    <label class="search_text_label" onclick="sendForm();">
        <input type="radio" name="si[search_role]" value="">
        <i class="fa fa-search"></i>
        <span class="search_js_text"></span><span class="searchOption">all</span>
    </label>
    <label class="search_text_label" onclick="sendForm();">
        <input type="radio" name="si[search_role]" value="fighters">
        <i class="fa fa-search"></i>
        <span class="search_js_text"></span><span class="searchOption">fighters</span>
    </label>
    <label class="search_text_label" onclick="sendForm();">
      <input type="radio" name="si[search_role]" value="official">
      <i class="fa fa-search"></i>
      <span class="search_js_text"></span><span class="searchOption">officials</span>
    </label>
    <label class="search_text_label" onclick="sendForm();">
      <input type="radio" name="si[search_role]" value="manager">
      <i class="fa fa-search"></i>
      <span class="search_js_text"></span><span class="searchOption">managers</span>
    </label>
    <label class="search_text_label" onclick="sendForm();">
      <input type="radio" name="si[search_role]" value="matchmaker">
      <i class="fa fa-search"></i>
      <span class="search_js_text"></span><span class="searchOption">matchmakers</span>
    </label>
    <label class="search_text_label" onclick="sendForm();">
      <input type="radio" name="si[search_role]" value="promoter">
      <i class="fa fa-search"></i>
      <span class="search_js_text"></span><span class="searchOption">promoters</span>
    </label>

      <label class="search_text_label" onclick="sendForm();">
        <input type="radio" name="si[search_role]" value="trainer">
        <i class="fa fa-search"></i>
        <span class="search_js_text"></span><span class="searchOption">trainers</span>
      </label>
      <label class="search_text_label" onclick="sendForm();">
        <input type="radio" name="si[search_role]" value="media">
        <i class="fa fa-search"></i>
        <span class="search_js_text"></span><span class="searchOption">media</span>
      </label>
      <label class="search_text_label" onclick="sendForm();">
        <input type="radio" name="si[search_role]" value="club">
        <i class="fa fa-search"></i>
        <span class="search_js_text"></span><span class="searchOption">clubs</span>
      </label>


    
  </div>
      </form>

  <div style="position:relative;margin-left:220px;">
    			<div class="navItem">
			<a href="/en/ratings">ratings</a>
		</div>
	
			<div class="navItem">
			<a href="/en/schedule">schedule</a>
		</div>
	
			<div class="navItem">
			<a href="/en/results">results</a>
		</div>
	
			<div class="navItem">
			<a href="/en/date">date</a>
		</div>
	
			<div class="navItem">
			<a href="/en/champions">champions</a>
		</div>
	
			<div class="navItem">
			<a href="/en/locations/people">people</a>
		</div>
	
			<div class="navItem navItemSelected">
			<a href="/en/locations/event">events</a>
		</div>
	
			<div class="navItem">
			<a href="/en/clubs">clubs</a>
		</div>
	
			<div class="navItem">
			<a href="/en/titles">titles</a>
		</div>
	
			<div class="navItem">
			<a href="/en/my_scores">score</a>
		</div>
	
			<div class="navItem">
			<a href="/en/p4p">p4p</a>
		</div>
	
	<div class="clear"></div>
  </div>
</div>
					</div>
				</div>
			
			
      <div class="shareBox">                  <a href="javascript:void(0);" onclick="shareUrl('https://boxrec.com/en/event/761410', 'BoxRec Event: Gimnasio Escuela de Box el Campeon, Salamanca', 'Checkout this event at Gimnasio Escuela de Box el Campeon, Salamanca, Guanajuato, Mexico - Saturday 16, December 2017 on BoxRec')"><i class="fa fa-share-nodes"></i></a>
  </div>

					</div></div>


		<div class="pageOuter" id="pageOuter" style="padding-top:10px;">
			<div class="page">
				

												
													<div class="titleBar">
											</div>
								
  <div class="topAd">
            <div class="advertLeaderboard" data-nosnippet="" style="min-height:90px;min-width:728px;width:auto;height:auto;background-color:transparent;">
      <div id="snack-top-slim" class="adm-ad-loading">
              </div>
    </div>
    <br>

  </div>





    
      
                            
      
      
      
      
                
<div class="tableInfoTop">
  
  <div class="clear"></div>
</div>

        <div class="overflowScroll"><table border="0" cellspacing="0" cellpadding="0" align="center" class="calendarTable" width="100%" id="eventResults"><thead><tr class="oddRow"><td colspan="15" class="bgEvent noHeight" style="border-bottom:none;"><table cellpadding="2" cellspacing="0" border="0" style="position:relative;width:100%;"><tbody><tr><td colspan="2" width="100%;"><h2 style="display:inline-block;margin-right:10px;">  
        
                      
  
      Dec 17
  


</h2><div style="position: relative; top: 5px; display: inline-block; text-decoration: none;">  
<a href="/wiki/index.php?title=Show:761410" rel="nofollow" style="text-decoration: none;">
      <span class="fa-layers fa-fw table-square-icon cell-icon header-icon">
      <i class="fab fa-wikipedia-w square-icon"></i>
      <span class="fa-layers-text fa-inverse">wiki</span>
    </span>
  </a>
</div>&nbsp;&nbsp;</td></tr><tr><td colspan="2" class="noHeight" width="100%"><b>          <span class="flag-icon flag-icon-mx" style="margin-right: 3px"></span><a href="/en/location/246383">Gimnasio Escuela de Box el Campeon</a>, <a href="/en/locations/event?level=t&amp;level_id=11361&amp;loc_txt=Salamanca">Salamanca</a>, <a href="/en/locations/event?level=r&amp;level_id=293&amp;loc_txt=Guanajuato">Guanajuato</a>, <a href="/en/locations/event?level=c&amp;level_id=MX&amp;loc_txt=Mexico">Mexico</a>
</b></td></tr><tr><td><b>commission</b></td><td style="width:100%;">      Comision de Box Salamanca
    
            <i class="fas fa-check-circle" style="color: green !important;font-size:1.2em !important;"></i>
      </td></tr>  
<tr><td nowrap=""><b>promoter</b></td><td style="width:100%;"><a href="/en/promoter/774421">Hoved Mata Martinez</a></td></tr>
</tbody></table><a href="javascript:void(0);" onclick="return genericModal('/en/faq/explain/glossary')" style="float:right;position:relative;top:-10px;">
                <i class="fas fa-circle-info" style="font-size:20px;margin-right:5px;color: #008bcf !important;"></i>
              </a></td></tr></thead><tbody id="bId2210189"><tr id="2210189" class=" oddRow drawRowBorder"><td valign="center">    <a href="/en/box-pro/812481" class="personLink">Jose Carlos Morales <br>
Gloria</a></td><td valign="center">  <span class="textWon">1</span>&nbsp;<span class="textLost">0</span>&nbsp;<span class="textDraw">0</span>
</td><td nowrap="" valign="center"><div style="float:left;">      <img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px">
</div></td><td nowrap="" valign="center" style="text-align:center;">  <div class="boutResult bgW" style="margin:0 auto;width:25px;">W</div>
</td><td valign="center">    <a href="/en/box-pro/699358" class="personLink">Ivan Clemente <br>
Suarez Elias</a></td><td valign="center">  <span class="textWon">2</span>&nbsp;<span class="textLost">2</span>&nbsp;<span class="textDraw">0</span>
</td><td nowrap="" valign="center"><div style="float:left;">      <img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px"><img src="/build/images/main/l6l.svg" width="8px" height="28px"><img src="/build/images/main/l6l.svg" width="8px" height="28px">
</div></td><td nowrap="" valign="center"><div class="sportDiv box-pro" style="width:100%;text-align:center;">Box-pro</div></td><td valign="center">  <span class="fa-layers fa-fw table-square-icon">
    <i class="fas fa-mars square-icon" style="color:#7faefd  !important;"></i>
  </span>
</td><td valign="center">      bantam
  </td><td valign="center"></td><td nowrap="" class="actionCell drawRowBorder" valign="center"><div style="display: inline-block; top: 3px; position: relative; text-decoration: none;">  
<a href="/wiki/index.php?title=Fight:2210189" rel="nofollow" style="text-decoration: none;">
      <span class="fa-layers fa-fw table-square-icon cell-icon header-icon">
      <i class="fab fa-wikipedia-w square-icon"></i>
      <span class="fa-layers-text fa-inverse">wiki</span>
    </span>
  </a>
   <a href="/en/event/761410/2210189" style="text-decoration: none;">
    <span class="fa-layers fa-fw table-square-icon cell-icon">
    <i class="fas fa-bell square-icon"></i>
    <span class="fa-layers-text fa-inverse">bout</span>
    </span>
  </a>

</div></td></tr></tbody><tbody id="bId2210190"><tr id="2210190" class="drawRowBorder "><td valign="center">    <a href="/en/box-pro/819780" class="personLink">Maria Guadalupe <br>
Morales Carpio</a></td><td valign="center">  <span class="textWon">1</span>&nbsp;<span class="textLost">0</span>&nbsp;<span class="textDraw">0</span>
</td><td nowrap="" valign="center"><div style="float:left;">      <img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px">
</div></td><td nowrap="" valign="center" style="text-align:center;">  <div class="boutResult bgW" style="margin:0 auto;width:25px;">W</div>
</td><td valign="center">    <a href="/en/box-pro/819779" class="personLink">Arely Rodriguez <br>
Perez</a></td><td valign="center">  <span style="font-weight:bold;color:grey;">debut</span>
</td><td nowrap="" valign="center"><div style="float:left;">  <div style="display:inline-block;height:12px;line-height:12px;margin:0;padding:0;"></div>
</div></td><td nowrap="" valign="center"><div class="sportDiv box-pro" style="width:100%;text-align:center;">Box-pro</div></td><td valign="center">  <span class="fa-layers fa-fw table-square-icon">
    <i class="fas fa-venus square-icon" style="color:pink !important;"></i>
  </span>
</td><td valign="center"></td><td valign="center"></td><td nowrap="" class="actionCell drawRowBorder" valign="center"><div style="display: inline-block; top: 3px; position: relative; text-decoration: none;">  
<a href="/wiki/index.php?title=Fight:2210190" rel="nofollow" style="text-decoration: none;">
      <span class="fa-layers fa-fw table-square-icon cell-icon header-icon">
      <i class="fab fa-wikipedia-w square-icon"></i>
      <span class="fa-layers-text fa-inverse">wiki</span>
    </span>
  </a>
   <a href="/en/event/761410/2210190" style="text-decoration: none;">
    <span class="fa-layers fa-fw table-square-icon cell-icon">
    <i class="fas fa-bell square-icon"></i>
    <span class="fa-layers-text fa-inverse">bout</span>
    </span>
  </a>

</div></td></tr></tbody><tbody id="bId2210191"><tr id="2210191" class=" oddRow drawRowBorder"><td valign="center">    <a href="/en/box-pro/744716" class="personLink">Jose Delgado <br>
Velazquez</a></td><td valign="center">  <span class="textWon">4</span>&nbsp;<span class="textLost">0</span>&nbsp;<span class="textDraw">0</span>
</td><td nowrap="" valign="center"><div style="float:left;">      <img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px"><img src="/build/images/main/l6w.svg" width="8px" height="28px">
</div></td><td nowrap="" valign="center" style="text-align:center;">  <div class="boutResult bgW" style="margin:0 auto;width:25px;">W</div>
</td><td valign="center">    <a href="/en/box-pro/810176" class="personLink">Jose Antonio Rojas <br>
Becerra</a></td><td valign="center">  <span class="textWon">0</span>&nbsp;<span class="textLost">1</span>&nbsp;<span class="textDraw">0</span>
</td><td nowrap="" valign="center"><div style="float:left;">      <img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6l.svg" width="8px" height="28px">
</div></td><td nowrap="" valign="center"><div class="sportDiv box-pro" style="width:100%;text-align:center;">Box-pro</div></td><td valign="center">  <span class="fa-layers fa-fw table-square-icon">
    <i class="fas fa-mars square-icon" style="color:#7faefd  !important;"></i>
  </span>
</td><td valign="center">      welter
  </td><td valign="center"></td><td nowrap="" class="actionCell drawRowBorder" valign="center"><div style="display: inline-block; top: 3px; position: relative; text-decoration: none;">  
<a href="/wiki/index.php?title=Fight:2210191" rel="nofollow" style="text-decoration: none;">
      <span class="fa-layers fa-fw table-square-icon cell-icon header-icon">
      <i class="fab fa-wikipedia-w square-icon"></i>
      <span class="fa-layers-text fa-inverse">wiki</span>
    </span>
  </a>
   <a href="/en/event/761410/2210191" style="text-decoration: none;">
    <span class="fa-layers fa-fw table-square-icon cell-icon">
    <i class="fas fa-bell square-icon"></i>
    <span class="fa-layers-text fa-inverse">bout</span>
    </span>
  </a>

</div></td></tr></tbody><tbody id="bId2210192"><tr id="2210192" class="drawRowBorder "><td valign="center">    <a href="/en/box-pro/819781" class="personLink">Jorge Armando <br>
Hernandez</a></td><td valign="center">  <span style="font-weight:bold;color:grey;">debut</span>
</td><td nowrap="" valign="center"><div style="float:left;">  <div style="display:inline-block;height:12px;line-height:12px;margin:0;padding:0;"></div>
</div></td><td nowrap="" valign="center" style="text-align:center;">  <div class="boutResult bgW" style="margin:0 auto;width:25px;">W</div>
</td><td valign="center">    <a href="/en/box-pro/712302" class="personLink">Jose Jesus Ortega <br>
Cano</a></td><td valign="center">  <span class="textWon">0</span>&nbsp;<span class="textLost">1</span>&nbsp;<span class="textDraw">1</span>
</td><td nowrap="" valign="center"><div style="float:left;">      <img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6x.svg" width="8px" height="28px"><img src="/build/images/main/l6l.svg" width="8px" height="28px"><img src="/build/images/main/l6d.svg" width="8px" height="28px">
</div></td><td nowrap="" valign="center"><div class="sportDiv box-pro" style="width:100%;text-align:center;">Box-pro</div></td><td valign="center">  <span class="fa-layers fa-fw table-square-icon">
    <i class="fas fa-mars square-icon" style="color:#7faefd  !important;"></i>
  </span>
</td><td valign="center">      light
  </td><td valign="center"></td><td nowrap="" class="actionCell drawRowBorder" valign="center"><div style="display: inline-block; top: 3px; position: relative; text-decoration: none;">  
<a href="/wiki/index.php?title=Fight:2210192" rel="nofollow" style="text-decoration: none;">
      <span class="fa-layers fa-fw table-square-icon cell-icon header-icon">
      <i class="fab fa-wikipedia-w square-icon"></i>
      <span class="fa-layers-text fa-inverse">wiki</span>
    </span>
  </a>
   <a href="/en/event/761410/2210192" style="text-decoration: none;">
    <span class="fa-layers fa-fw table-square-icon cell-icon">
    <i class="fas fa-bell square-icon"></i>
    <span class="fa-layers-text fa-inverse">bout</span>
    </span>
  </a>

</div></td></tr></tbody></table></div>


      
      
    

									<div class="footerAd">
						
					</div>
				
			</div>
		</div>

					<a onclick="topFunction()" id="topBtn" title="Go to top">
				<i class="fas fa-arrow-up" style="color:#fff !important;font-size:20px;left:16px;top:14px;position:relative;"></i>
			</a>

			<div class="footerTopOuter" data-nosnippet="">
				<div class="footer">
					©BoxRec is the official record keeper for 410 sports authorities worldwide, it is not under direct control of any single authority. Data may be incomplete/inaccurate.

<div style="margin-top:10px;">


<a href="/en/editors" class="alt">Editors</a>&nbsp;&nbsp;
<a href="/en/about" class="alt">About</a>&nbsp;&nbsp;
	<a href="/en/contact_us" class="alt">Contact</a>&nbsp;&nbsp;
	<a href="/en/support" class="alt">Help</a>&nbsp;&nbsp;
	<a href="/en/widgets" class="alt">Widgets</a>&nbsp;&nbsp;
	    <a href="/en/policies/terms_conditions/public" class="alt">Terms</a>&nbsp;&nbsp;
    <a href="/en/policies/privacy_policy/public" class="alt">Privacy Policy</a>&nbsp;&nbsp;
  

</div>
				</div>
			</div>
			<div class="footerOuter" data-nosnippet="">
				<div class="footer" style="padding-bottom:80px;">
					  <a href="/en/event/761410" class="alt">
    <span class="flag-icon flag-icon-gb" style="margin-right: 5px"></span>EN
  </a>&nbsp;&nbsp;&nbsp;
  <a href="/cn/event/761410" class="alt">
    <span class="flag-icon flag-icon-cn" style="margin-right: 5px"></span>CN
  </a>&nbsp;&nbsp;&nbsp;
  <a href="/de/event/761410" class="alt">
    <span class="flag-icon flag-icon-de" style="margin-right: 5px"></span>DE
  </a>&nbsp;&nbsp;&nbsp;
  <a href="/es/event/761410" class="alt">
    <span class="flag-icon flag-icon-es" style="margin-right: 5px"></span>ES
  </a>&nbsp;&nbsp;&nbsp;
  <a href="/fr/event/761410" class="alt">
    <span class="flag-icon flag-icon-fr" style="margin-right: 5px"></span>FR
  </a>&nbsp;&nbsp;&nbsp;
    <a href="/pl/event/761410" class="alt">
    <span class="flag-icon flag-icon-pl" style="margin-right: 5px"></span>PL
  </a>&nbsp;&nbsp;&nbsp;
  <a href="/ru/event/761410" class="alt">
    <span class="flag-icon flag-icon-ru" style="margin-right: 5px"></span>RU
  </a>
<br><br><br><br>
				</div>
			</div>
		
		<div class="js-d" data-js-d="si"></div>
					<div class="js-a" data-js-a="1"></div>
				<div class="js-device" data-js-device="d"></div>

		
										
		
  
		<script>
			function changeCorners(){
  if($('#roleSelector:visible').length == 0){
    $('.searchBox').css('-webkit-border-radius','14px')
    $('.searchBox').css('-moz-border-radius','14px')
    $('.searchBox').css('border-radius','14px')
  }
  else{
    $('.searchBox').css('-webkit-border-radius','14px 14px 0px 0px')
    $('.searchBox').css('-moz-border-radius','14px 14px 0px 0px')
    $('.searchBox').css('border-radius','14px 14px 0px 0px')
  }
}

function sendForm(){
  $('form[name="si"]').submit();
}

function delayKeypress(callback, ms) {
  var timer = 0;
  return function() {
    var context = this, args = arguments;
    clearTimeout(timer);
    timer = setTimeout(function () {
      callback.apply(context, args);
    }, ms || 0);
  };
}

var searchAjaxReq;
var lastSearchTerm="";

function doSearchClear(){
  var searchTextBox=$('#si_search_text');
  var searchResults=$('#suggest_results');
  var potentialSearch = $.trim(searchTextBox.val());
  if(lastSearchTerm == potentialSearch){
        return;
  }

    var placeholderDiv = "";
  var h = searchResults.height()-1;// need to take 1 away because of the margin
  
    if(h > 0){
    var width = searchResults.width()
    var spinTop = (h/2)-8;
    var spinLeft = 0;
    if(width > 0){
      spinLeft = (width/2)-8;
    }
    var img="<img style=\"position: absolute;top:"+spinTop+"px;left:"+spinLeft+"px;\" src=\"\/build\/images\/main\/spinner.gif\" />";
    placeholderDiv = "<div style='border-bottom:1px solid #bbb;height: "+h+"px;'>"+img+"</div>";
  }

    searchResults.html(placeholderDiv);
  searchResults.show();
  if(searchAjaxReq){
    searchAjaxReq.abort();
  }
}

function doSearch() {
  var searchTextBox=$('#si_search_text');
  var searchResults=$('#suggest_results');
  var newSearchTerm = searchTextBox.val();
  var searchQueryUrl='\/en\/suggest_search?date=now&t='+newSearchTerm;

  lastSearchTerm = newSearchTerm;
  if(searchAjaxReq){
        searchAjaxReq.abort();
  }
  if(newSearchTerm.length>=4) {
      searchAjaxReq = $.ajax({
      type: "get",
      url: searchQueryUrl,
      cache: false,
      traditional: true,
      success: function(res){
        searchResults.html(res);
        searchResults.show();
      },
      error: function(jqXHR, textStatus, errorThrown){
        //alert('Error with request..'+textStatus +'\n'+errorThrown);
      }
    });
  } else {
    searchResults.html("");
    searchResults.show();
  }
}

$('#si_search_text').keyup(delayKeypress(function (e) {
  e.preventDefault();
    doSearch();
  }, 400));
$('#si_search_text').keyup(function (e) {
  e.preventDefault();
  doSearchClear();
});


$('#si_search_text').on('input', function(){

  if($('#si_search_text').val() != '' && $('#si_search_text').val() != null){
    if($('#roleSelector:visible').length == 0){
      $("#roleSelector").show();
      changeCorners();
    }
    if(!isNaN($('#si_search_text').val())) {
      $('.search_text_num').show();
      $('#suggest_results').hide();
    } else {
      $('.search_text_num').hide();

    }
  };

  $(".search_js_text").each(function(i){
    $(".search_js_text").html("<b>" + $('#si_search_text').val() + "</b>&nbsp;&nbsp;")
    if($('#si_search_text').val() == null || $('#si_search_text').val() == '')
      $(".search_js_text").html('');


  })
})

$('#si_search_text').on('click', function(){

  if($('#si_search_text').val() != '' && $('#si_search_text').val() != null){
    if($('#roleSelector:visible').length == 0){
      $("#roleSelector").show();
      changeCorners();
    }
  };

  $(".search_js_text").each(function(i){
    $(".search_js_text").html("<b>" + $('#si_search_text').val() + "</b>&nbsp;&nbsp;")
    if($('#si_search_text').val() == null || $('#si_search_text').val() == '')
      $(".search_js_text").html('');


  })
})

$(".search_js_text").html("<b>" + $('#si_search_text').val() + "</b>&nbsp;&nbsp;")
    if($('#si_search_text').val() == null || $('#si_search_text').val() == '')
      $(".search_js_text").html('');


		function scrollFunction() {
			if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) { // document.getElementById("topBtn").style.display = "block";
				$('#topBtn').fadeIn();
			} else { // document.getElementById("topBtn").style.display = "none";
				$('#topBtn').fadeOut();
			}
		}


		function topFunction() {
			document.body.scrollTop = 0;
			document.documentElement.scrollTop = 0;
		}
		$('#modalWindow').click(function (e) {
			if (e.target.id == 'modalWindow') {
				$('#modalWindow').hide();
				$('#popupMenuBack, #popupBack').hide();
			}
		});



		$(document).ready(function () {
			$("#sticky").sticky({topSpacing: 0, className: 'sticked'});

			$("a").find('.fa-fw').each(function () {
				$(this).parent().css('text-decoration', 'none');
				$(this).parent().parent().css('text-decoration', 'none');
			})

			$('.select-icon').on('click', function () {
				$(this).closest('.styledSelect').find('.selectBox').click();
			});

					});

		window.onscroll = function () {
			scrollFunction()
		};


		</script>

		
	

<script src="//assets.bounceexchange.com/assets/smart-tag/versioned/runtime_c81e76ee00d795b1eebf8d27949f8dc5.br.js" async="async"></script><script src="//assets.bounceexchange.com/assets/smart-tag/versioned/main-v2_7979620d309f40834607731d2e0afb48.br.js" async="async"></script><iframe id="bcx_local_storage_frame" src="https://assets.bounceexchange.com/assets/bounce/local_storage_frame17.min.html#7284" title="empty" style="display: none;"></iframe><iframe width="1" height="1" src="https://js-sec.indexww.com/um/ixmatch.html" style="display: none;"></iframe><iframe width="1" height="1" src="https://eus.rubiconproject.com/usync.html?p=20986&amp;endpoint=us-east" style="display: none;"></iframe><iframe width="1" height="1" src="//ads.pubmatic.com/AdServer/js/user_sync.html?p=156512" style="display: none;"></iframe><iframe srcdoc="<!DOCTYPE html><html lang=&quot;en&quot;><head><meta charset=&quot;UTF-8&quot;><script type=&quot;text/javascript&quot; async src=&quot;//ads.pubmatic.com/AdServer/js/pwt/156512/6397/pwt.js&quot;></script></head><body></body></html>" id="bcx_identityhub_frame" title="empty" style="display: none;"></iframe><img height="1" width="1" src="https://ids4.ad.gt/api/v1/ip_match?id=AU1D-0100-001753601967-474BA47Q-NR8D" alt="" style="display: none;"><img height="1" width="1" src="https://secure.adnxs.com/getuid?https://ids.ad.gt/api/v1/match?id=AU1D-0100-001753601967-474BA47Q-NR8D&amp;adnxs_id=$UID&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://u.openx.net/w/1.0/cm?id=998eaf06-9905-4eae-9e26-9fac75960c53&amp;r=https%3A%2F%2Fids.ad.gt%2Fapi%2Fv1%2Fopenx%3Fopenx_id%3D%7BOPENX_ID%7D%26id%3DAU1D-0100-001753601967-474BA47Q-NR8D%26auid%3DAU1D-0100-001753601967-474BA47Q-NR8D&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://image2.pubmatic.com/AdServer/UCookieSetPug?rd=https%3A%2F%2Fids.ad.gt%2Fapi%2Fv1%2Fpbm_match%3Fpbm%3D%23PM_USER_ID%26id%3DAU1D-0100-001753601967-474BA47Q-NR8D&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://token.rubiconproject.com/token?pid=50242&amp;puid=AU1D-0100-001753601967-474BA47Q-NR8D&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://match.adsrvr.org/track/cmf/generic?ttd_pid=8gkxb6n&amp;ttd_tpi=1&amp;ttd_puid=AU1D-0100-001753601967-474BA47Q-NR8D&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://pixel.tapad.com/idsync/ex/receive?partner_id=3185&amp;partner_device_id=AU1D-0100-001753601967-474BA47Q-NR8D&amp;partner_url=https://ids.ad.gt%2Fapi%2Fv1%2Ftapad_match%3Fid%3DAU1D-0100-001753601967-474BA47Q-NR8D%26tapad_id%3D%24%7BTA_DEVICE_ID%7D&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://cm.g.doubleclick.net/pixel?google_nid=audigent_w_appnexus_3985&amp;google_cm&amp;google_sc&amp;google_ula=450542624&amp;id=AU1D-0100-001753601967-474BA47Q-NR8D&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://d.turn.com/r/dd/id/L2NzaWQvMS9jaWQvMTc0ODI0MTY1OC90LzA/url/https%3A%2F%2Fids.ad.gt%2Fapi%2Fv1%2Famo_match%3Fturn_id%3D%24!{TURN_UUID}%26id%3DAU1D-0100-001753601967-474BA47Q-NR8D" alt="" style="display: none;"><img height="1" width="1" src="https://sync.go.sonobi.com/us?https://ids.ad.gt/api/v1/son_match?id=AU1D-0100-001753601967-474BA47Q-NR8D&amp;uid=[UID]&amp;gdpr=0" alt="" style="display: none;"><img height="1" width="1" src="https://ids.ad.gt/api/v1/g_hosted?id=AU1D-0100-001753601967-474BA47Q-NR8D&amp;gdpr=0" alt="" style="display: none;"><iframe marginwidth="0" marginheight="0" scrolling="no" frameborder="0" id="140a39bd3eabf88" width="0" height="0" src="about:blank" name="__pb_locator__" style="display: none; height: 0px; width: 0px; border: 0px;"></iframe><div id="adm-sticky-snack-sticky"><pbstck-sticky id="snack-sticky" data-pbstck-component="sticky" class="adm-ad-loading"></pbstck-sticky></div></body><iframe name="goog_topics_frame" src="https://securepubads.g.doubleclick.net/static/topics/topics_frame.html" style="display: none;"></iframe></html>